exports.id=777,exports.ids=[777],exports.modules={1605:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addAdminServicesToServer=S.registerAdminService=void 0;let R=[];function registerAdminService(Q,S){R.push({getServiceDefinition:Q,getHandlers:S})}function addAdminServicesToServer(Q){for(let{getServiceDefinition:S,getHandlers:N}of R)Q.addService(S(),N())}S.registerAdminService=registerAdminService,S.addAdminServicesToServer=addAdminServicesToServer},77257:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.BackoffTimeout=void 0;let R=1e3,N=1.6,M=12e4,L=.2;function uniformRandom(Q,S){return Math.random()*(S-Q)+Q}let BackoffTimeout=class BackoffTimeout{constructor(Q,S){this.callback=Q,this.initialDelay=R,this.multiplier=N,this.maxDelay=M,this.jitter=L,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,S&&(S.initialDelay&&(this.initialDelay=S.initialDelay),S.multiplier&&(this.multiplier=S.multiplier),S.jitter&&(this.jitter=S.jitter),S.maxDelay&&(this.maxDelay=S.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(Q){var S,R;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},Q),this.hasRef||null===(R=(S=this.timerId).unref)||void 0===R||R.call(S)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let Q=Math.min(this.nextDelay*this.multiplier,this.maxDelay),S=Q*this.jitter;this.nextDelay=Q+uniformRandom(-S,S)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let Q=new Date,S=this.startTime;S.setMilliseconds(S.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),Q<S?this.runTimer(S.getTime()-Q.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var Q,S;this.hasRef=!0,null===(S=(Q=this.timerId).ref)||void 0===S||S.call(Q)}unref(){var Q,S;this.hasRef=!1,null===(S=(Q=this.timerId).unref)||void 0===S||S.call(Q)}getEndTime(){return this.endTime}};S.BackoffTimeout=BackoffTimeout},68612:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CallCredentials=void 0;let N=R(32908);function isCurrentOauth2Client(Q){return"getRequestHeaders"in Q&&"function"==typeof Q.getRequestHeaders}let CallCredentials=class CallCredentials{static createFromMetadataGenerator(Q){return new SingleCallCredentials(Q)}static createFromGoogleCredential(Q){return CallCredentials.createFromMetadataGenerator((S,R)=>{let M;(M=isCurrentOauth2Client(Q)?Q.getRequestHeaders(S.service_url):new Promise((R,N)=>{Q.getRequestMetadata(S.service_url,(Q,S)=>{if(Q){N(Q);return}if(!S){N(Error("Headers not set by metadata plugin"));return}R(S)})})).then(Q=>{let S=new N.Metadata;for(let R of Object.keys(Q))S.add(R,Q[R]);R(null,S)},Q=>{R(Q)})})}static createEmpty(){return new EmptyCallCredentials}};S.CallCredentials=CallCredentials;let ComposedCallCredentials=class ComposedCallCredentials extends CallCredentials{constructor(Q){super(),this.creds=Q}async generateMetadata(Q){let S=new N.Metadata,R=await Promise.all(this.creds.map(S=>S.generateMetadata(Q)));for(let Q of R)S.merge(Q);return S}compose(Q){return new ComposedCallCredentials(this.creds.concat([Q]))}_equals(Q){return this===Q||Q instanceof ComposedCallCredentials&&this.creds.every((S,R)=>S._equals(Q.creds[R]))}};let SingleCallCredentials=class SingleCallCredentials extends CallCredentials{constructor(Q){super(),this.metadataGenerator=Q}generateMetadata(Q){return new Promise((S,R)=>{this.metadataGenerator(Q,(Q,N)=>{void 0!==N?S(N):R(Q)})})}compose(Q){return new ComposedCallCredentials([this,Q])}_equals(Q){return this===Q||Q instanceof SingleCallCredentials&&this.metadataGenerator===Q.metadataGenerator}};let EmptyCallCredentials=class EmptyCallCredentials extends CallCredentials{generateMetadata(Q){return Promise.resolve(new N.Metadata)}compose(Q){return Q}_equals(Q){return Q instanceof EmptyCallCredentials}}},88577:(Q,S)=>{"use strict";function isInterceptingListener(Q){return void 0!==Q.onReceiveMetadata&&1===Q.onReceiveMetadata.length}Object.defineProperty(S,"__esModule",{value:!0}),S.InterceptingListenerImpl=S.isInterceptingListener=void 0,S.isInterceptingListener=isInterceptingListener;let InterceptingListenerImpl=class InterceptingListenerImpl{constructor(Q,S){this.listener=Q,this.nextListener=S,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(Q){this.processingMetadata=!0,this.listener.onReceiveMetadata(Q,Q=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(Q),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(Q){this.processingMessage=!0,this.listener.onReceiveMessage(Q,Q=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=Q,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(Q),this.processPendingStatus())})}onReceiveStatus(Q){this.listener.onReceiveStatus(Q,Q=>{this.processingMetadata||this.processingMessage?this.pendingStatus=Q:this.nextListener.onReceiveStatus(Q)})}};S.InterceptingListenerImpl=InterceptingListenerImpl},60060:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getNextCallNumber=void 0;let R=0;function getNextCallNumber(){return R++}S.getNextCallNumber=getNextCallNumber},12953:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ClientDuplexStreamImpl=S.ClientWritableStreamImpl=S.ClientReadableStreamImpl=S.ClientUnaryCallImpl=S.callErrorFromStatus=void 0;let N=R(82361),M=R(12781),L=R(69238);function callErrorFromStatus(Q,S){let R=`${Q.code} ${L.Status[Q.code]}: ${Q.details}`,N=Error(R),M=`${N.stack}
for call at
${S}`;return Object.assign(Error(R),Q,{stack:M})}S.callErrorFromStatus=callErrorFromStatus;let ClientUnaryCallImpl=class ClientUnaryCallImpl extends N.EventEmitter{constructor(){super()}cancel(){var Q;null===(Q=this.call)||void 0===Q||Q.cancelWithStatus(L.Status.CANCELLED,"Cancelled on client")}getPeer(){var Q,S;return null!==(S=null===(Q=this.call)||void 0===Q?void 0:Q.getPeer())&&void 0!==S?S:"unknown"}};S.ClientUnaryCallImpl=ClientUnaryCallImpl;let ClientReadableStreamImpl=class ClientReadableStreamImpl extends M.Readable{constructor(Q){super({objectMode:!0}),this.deserialize=Q}cancel(){var Q;null===(Q=this.call)||void 0===Q||Q.cancelWithStatus(L.Status.CANCELLED,"Cancelled on client")}getPeer(){var Q,S;return null!==(S=null===(Q=this.call)||void 0===Q?void 0:Q.getPeer())&&void 0!==S?S:"unknown"}_read(Q){var S;null===(S=this.call)||void 0===S||S.startRead()}};S.ClientReadableStreamImpl=ClientReadableStreamImpl;let ClientWritableStreamImpl=class ClientWritableStreamImpl extends M.Writable{constructor(Q){super({objectMode:!0}),this.serialize=Q}cancel(){var Q;null===(Q=this.call)||void 0===Q||Q.cancelWithStatus(L.Status.CANCELLED,"Cancelled on client")}getPeer(){var Q,S;return null!==(S=null===(Q=this.call)||void 0===Q?void 0:Q.getPeer())&&void 0!==S?S:"unknown"}_write(Q,S,R){var N;let M={callback:R},L=Number(S);Number.isNaN(L)||(M.flags=L),null===(N=this.call)||void 0===N||N.sendMessageWithContext(M,Q)}_final(Q){var S;null===(S=this.call)||void 0===S||S.halfClose(),Q()}};S.ClientWritableStreamImpl=ClientWritableStreamImpl;let ClientDuplexStreamImpl=class ClientDuplexStreamImpl extends M.Duplex{constructor(Q,S){super({objectMode:!0}),this.serialize=Q,this.deserialize=S}cancel(){var Q;null===(Q=this.call)||void 0===Q||Q.cancelWithStatus(L.Status.CANCELLED,"Cancelled on client")}getPeer(){var Q,S;return null!==(S=null===(Q=this.call)||void 0===Q?void 0:Q.getPeer())&&void 0!==S?S:"unknown"}_read(Q){var S;null===(S=this.call)||void 0===S||S.startRead()}_write(Q,S,R){var N;let M={callback:R},L=Number(S);Number.isNaN(L)||(M.flags=L),null===(N=this.call)||void 0===N||N.sendMessageWithContext(M,Q)}_final(Q){var S;null===(S=this.call)||void 0===S||S.halfClose(),Q()}};S.ClientDuplexStreamImpl=ClientDuplexStreamImpl},77021:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ChannelCredentials=void 0;let N=R(24404),M=R(68612),L=R(66801);function verifyIsBufferOrNull(Q,S){if(Q&&!(Q instanceof Buffer))throw TypeError(`${S}, if provided, must be a Buffer.`)}let ChannelCredentials=class ChannelCredentials{constructor(Q){this.callCredentials=Q||M.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(Q,S,R,M){var U;if(verifyIsBufferOrNull(Q,"Root certificate"),verifyIsBufferOrNull(S,"Private key"),verifyIsBufferOrNull(R,"Certificate chain"),S&&!R)throw Error("Private key must be given with accompanying certificate chain");if(!S&&R)throw Error("Certificate chain must be given with accompanying private key");let P=(0,N.createSecureContext)({ca:null!==(U=null!=Q?Q:(0,L.getDefaultRootsData)())&&void 0!==U?U:void 0,key:null!=S?S:void 0,cert:null!=R?R:void 0,ciphers:L.CIPHER_SUITES});return new SecureChannelCredentialsImpl(P,null!=M?M:{})}static createFromSecureContext(Q,S){return new SecureChannelCredentialsImpl(Q,null!=S?S:{})}static createInsecure(){return new InsecureChannelCredentialsImpl}};S.ChannelCredentials=ChannelCredentials;let InsecureChannelCredentialsImpl=class InsecureChannelCredentialsImpl extends ChannelCredentials{constructor(Q){super(Q)}compose(Q){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(Q){return Q instanceof InsecureChannelCredentialsImpl}};let SecureChannelCredentialsImpl=class SecureChannelCredentialsImpl extends ChannelCredentials{constructor(Q,S){super(),this.secureContext=Q,this.verifyOptions=S,this.connectionOptions={secureContext:Q},(null==S?void 0:S.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=S.checkServerIdentity)}compose(Q){let S=this.callCredentials.compose(Q);return new ComposedChannelCredentialsImpl(this,S)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(Q){return this===Q||Q instanceof SecureChannelCredentialsImpl&&this.secureContext===Q.secureContext&&this.verifyOptions.checkServerIdentity===Q.verifyOptions.checkServerIdentity}};let ComposedChannelCredentialsImpl=class ComposedChannelCredentialsImpl extends ChannelCredentials{constructor(Q,S){super(S),this.channelCredentials=Q}compose(Q){let S=this.callCredentials.compose(Q);return new ComposedChannelCredentialsImpl(this.channelCredentials,S)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(Q){return this===Q||Q instanceof ComposedChannelCredentialsImpl&&this.channelCredentials._equals(Q.channelCredentials)&&this.callCredentials._equals(Q.callCredentials)}}},70332:(Q,S)=>{"use strict";function channelOptionsEqual(Q,S){let R=Object.keys(Q).sort(),N=Object.keys(S).sort();if(R.length!==N.length)return!1;for(let M=0;M<R.length;M+=1)if(R[M]!==N[M]||Q[R[M]]!==S[N[M]])return!1;return!0}Object.defineProperty(S,"__esModule",{value:!0}),S.channelOptionsEqual=S.recognizedOptions=void 0,S.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},S.channelOptionsEqual=channelOptionsEqual},49914:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ChannelImplementation=void 0;let N=R(77021),M=R(35233);let ChannelImplementation=class ChannelImplementation{constructor(Q,S,R){if("string"!=typeof Q)throw TypeError("Channel target must be a string");if(!(S instanceof N.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(R&&"object"!=typeof R)throw TypeError("Channel options must be an object");this.internalChannel=new M.InternalChannel(Q,S,R)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(Q){return this.internalChannel.getConnectivityState(Q)}watchConnectivityState(Q,S,R){this.internalChannel.watchConnectivityState(Q,S,R)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(Q,S,R,N,M){if("string"!=typeof Q)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof S||S instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(Q,S,R,N,M)}};S.ChannelImplementation=ChannelImplementation},83316:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setup=S.getChannelzServiceDefinition=S.getChannelzHandlers=S.unregisterChannelzRef=S.registerChannelzSocket=S.registerChannelzServer=S.registerChannelzSubchannel=S.registerChannelzChannel=S.ChannelzCallTracker=S.ChannelzChildrenTracker=S.ChannelzTrace=void 0;let N=R(41808),M=R(91360),L=R(69238),U=R(72782),P=R(1605),Y=R(47697);function channelRefToMessage(Q){return{channel_id:Q.id,name:Q.name}}function subchannelRefToMessage(Q){return{subchannel_id:Q.id,name:Q.name}}function serverRefToMessage(Q){return{server_id:Q.id}}function socketRefToMessage(Q){return{socket_id:Q.id,name:Q.name}}let W=32;let ChannelzTrace=class ChannelzTrace{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(Q,S,R){let N=new Date;this.events.push({description:S,severity:Q,timestamp:N,childChannel:(null==R?void 0:R.kind)==="channel"?R:void 0,childSubchannel:(null==R?void 0:R.kind)==="subchannel"?R:void 0}),this.events.length>=2*W&&(this.events=this.events.slice(W)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:dateToProtoTimestamp(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(Q=>({description:Q.description,severity:Q.severity,timestamp:dateToProtoTimestamp(Q.timestamp),channel_ref:Q.childChannel?channelRefToMessage(Q.childChannel):null,subchannel_ref:Q.childSubchannel?subchannelRefToMessage(Q.childSubchannel):null}))}}};S.ChannelzTrace=ChannelzTrace;let ChannelzChildrenTracker=class ChannelzChildrenTracker{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(Q){var S,R,N;switch(Q.kind){case"channel":{let R=null!==(S=this.channelChildren.get(Q.id))&&void 0!==S?S:{ref:Q,count:0};R.count+=1,this.channelChildren.set(Q.id,R);break}case"subchannel":{let S=null!==(R=this.subchannelChildren.get(Q.id))&&void 0!==R?R:{ref:Q,count:0};S.count+=1,this.subchannelChildren.set(Q.id,S);break}case"socket":{let S=null!==(N=this.socketChildren.get(Q.id))&&void 0!==N?N:{ref:Q,count:0};S.count+=1,this.socketChildren.set(Q.id,S)}}}unrefChild(Q){switch(Q.kind){case"channel":{let S=this.channelChildren.get(Q.id);void 0!==S&&(S.count-=1,0===S.count?this.channelChildren.delete(Q.id):this.channelChildren.set(Q.id,S));break}case"subchannel":{let S=this.subchannelChildren.get(Q.id);void 0!==S&&(S.count-=1,0===S.count?this.subchannelChildren.delete(Q.id):this.subchannelChildren.set(Q.id,S));break}case"socket":{let S=this.socketChildren.get(Q.id);void 0!==S&&(S.count-=1,0===S.count?this.socketChildren.delete(Q.id):this.socketChildren.set(Q.id,S))}}}getChildLists(){let Q=[];for(let{ref:S}of this.channelChildren.values())Q.push(S);let S=[];for(let{ref:Q}of this.subchannelChildren.values())S.push(Q);let R=[];for(let{ref:Q}of this.socketChildren.values())R.push(Q);return{channels:Q,subchannels:S,sockets:R}}};S.ChannelzChildrenTracker=ChannelzChildrenTracker;let ChannelzCallTracker=class ChannelzCallTracker{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};S.ChannelzCallTracker=ChannelzCallTracker;let K=1;function getNextId(){return K++}let X=[],Z=[],$=[],ee=[];function registerChannelzChannel(Q,S,R){let N=getNextId(),M={id:N,name:Q,kind:"channel"};return R&&(X[N]={ref:M,getInfo:S}),M}function registerChannelzSubchannel(Q,S,R){let N=getNextId(),M={id:N,name:Q,kind:"subchannel"};return R&&(Z[N]={ref:M,getInfo:S}),M}function registerChannelzServer(Q,S){let R=getNextId(),N={id:R,kind:"server"};return S&&($[R]={ref:N,getInfo:Q}),N}function registerChannelzSocket(Q,S,R){let N=getNextId(),M={id:N,name:Q,kind:"socket"};return R&&(ee[N]={ref:M,getInfo:S}),M}function unregisterChannelzRef(Q){switch(Q.kind){case"channel":delete X[Q.id];return;case"subchannel":delete Z[Q.id];return;case"server":delete $[Q.id];return;case"socket":delete ee[Q.id];return}}function parseIPv6Section(Q){let S=Number.parseInt(Q,16);return[S/256|0,S%256]}function parseIPv6Chunk(Q){if(""===Q)return[];let S=Q.split(":").map(Q=>parseIPv6Section(Q)),R=[];return R.concat(...S)}function ipAddressStringToBuffer(Q){if((0,N.isIPv4)(Q))return Buffer.from(Uint8Array.from(Q.split(".").map(Q=>Number.parseInt(Q))));if(!(0,N.isIPv6)(Q))return null;{let S,R;let N=Q.indexOf("::");-1===N?(S=Q,R=""):(S=Q.substring(0,N),R=Q.substring(N+2));let M=Buffer.from(parseIPv6Chunk(S)),L=Buffer.from(parseIPv6Chunk(R)),U=Buffer.alloc(16-M.length-L.length,0);return Buffer.concat([M,U,L])}}function connectivityStateToMessage(Q){switch(Q){case M.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case M.ConnectivityState.IDLE:return{state:"IDLE"};case M.ConnectivityState.READY:return{state:"READY"};case M.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case M.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function dateToProtoTimestamp(Q){if(!Q)return null;let S=Q.getTime();return{seconds:S/1e3|0,nanos:S%1e3*1e6}}function getChannelMessage(Q){let S=Q.getInfo();return{ref:channelRefToMessage(Q.ref),data:{target:S.target,state:connectivityStateToMessage(S.state),calls_started:S.callTracker.callsStarted,calls_succeeded:S.callTracker.callsSucceeded,calls_failed:S.callTracker.callsFailed,last_call_started_timestamp:dateToProtoTimestamp(S.callTracker.lastCallStartedTimestamp),trace:S.trace.getTraceMessage()},channel_ref:S.children.channels.map(Q=>channelRefToMessage(Q)),subchannel_ref:S.children.subchannels.map(Q=>subchannelRefToMessage(Q))}}function GetChannel(Q,S){let R=Number.parseInt(Q.request.channel_id),N=X[R];if(void 0===N){S({code:L.Status.NOT_FOUND,details:"No channel data found for id "+R});return}S(null,{channel:getChannelMessage(N)})}function GetTopChannels(Q,S){let R=Number.parseInt(Q.request.max_results),N=[],M=Number.parseInt(Q.request.start_channel_id);for(;M<X.length;M++){let Q=X[M];if(void 0!==Q&&(N.push(getChannelMessage(Q)),N.length>=R))break}S(null,{channel:N,end:M>=$.length})}function getServerMessage(Q){let S=Q.getInfo();return{ref:serverRefToMessage(Q.ref),data:{calls_started:S.callTracker.callsStarted,calls_succeeded:S.callTracker.callsSucceeded,calls_failed:S.callTracker.callsFailed,last_call_started_timestamp:dateToProtoTimestamp(S.callTracker.lastCallStartedTimestamp),trace:S.trace.getTraceMessage()},listen_socket:S.listenerChildren.sockets.map(Q=>socketRefToMessage(Q))}}function GetServer(Q,S){let R=Number.parseInt(Q.request.server_id),N=$[R];if(void 0===N){S({code:L.Status.NOT_FOUND,details:"No server data found for id "+R});return}S(null,{server:getServerMessage(N)})}function GetServers(Q,S){let R=Number.parseInt(Q.request.max_results),N=[],M=Number.parseInt(Q.request.start_server_id);for(;M<$.length;M++){let Q=$[M];if(void 0!==Q&&(N.push(getServerMessage(Q)),N.length>=R))break}S(null,{server:N,end:M>=$.length})}function GetSubchannel(Q,S){let R=Number.parseInt(Q.request.subchannel_id),N=Z[R];if(void 0===N){S({code:L.Status.NOT_FOUND,details:"No subchannel data found for id "+R});return}let M=N.getInfo(),U={ref:subchannelRefToMessage(N.ref),data:{target:M.target,state:connectivityStateToMessage(M.state),calls_started:M.callTracker.callsStarted,calls_succeeded:M.callTracker.callsSucceeded,calls_failed:M.callTracker.callsFailed,last_call_started_timestamp:dateToProtoTimestamp(M.callTracker.lastCallStartedTimestamp),trace:M.trace.getTraceMessage()},socket_ref:M.children.sockets.map(Q=>socketRefToMessage(Q))};S(null,{subchannel:U})}function subchannelAddressToAddressMessage(Q){var S;return(0,U.isTcpSubchannelAddress)(Q)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(S=ipAddressStringToBuffer(Q.host))&&void 0!==S?S:void 0,port:Q.port}}:{address:"uds_address",uds_address:{filename:Q.path}}}function GetSocket(Q,S){var R,N,M,U,P;let Y=Number.parseInt(Q.request.socket_id),W=ee[Y];if(void 0===W){S({code:L.Status.NOT_FOUND,details:"No socket data found for id "+Y});return}let K=W.getInfo(),X=K.security?{model:"tls",tls:{cipher_suite:K.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(R=K.security.cipherSuiteStandardName)&&void 0!==R?R:void 0,other_name:null!==(N=K.security.cipherSuiteOtherName)&&void 0!==N?N:void 0,local_certificate:null!==(M=K.security.localCertificate)&&void 0!==M?M:void 0,remote_certificate:null!==(U=K.security.remoteCertificate)&&void 0!==U?U:void 0}}:null,Z={ref:socketRefToMessage(W.ref),local:K.localAddress?subchannelAddressToAddressMessage(K.localAddress):null,remote:K.remoteAddress?subchannelAddressToAddressMessage(K.remoteAddress):null,remote_name:null!==(P=K.remoteName)&&void 0!==P?P:void 0,security:X,data:{keep_alives_sent:K.keepAlivesSent,streams_started:K.streamsStarted,streams_succeeded:K.streamsSucceeded,streams_failed:K.streamsFailed,last_local_stream_created_timestamp:dateToProtoTimestamp(K.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:dateToProtoTimestamp(K.lastRemoteStreamCreatedTimestamp),messages_received:K.messagesReceived,messages_sent:K.messagesSent,last_message_received_timestamp:dateToProtoTimestamp(K.lastMessageReceivedTimestamp),last_message_sent_timestamp:dateToProtoTimestamp(K.lastMessageSentTimestamp),local_flow_control_window:K.localFlowControlWindow?{value:K.localFlowControlWindow}:null,remote_flow_control_window:K.remoteFlowControlWindow?{value:K.remoteFlowControlWindow}:null}};S(null,{socket:Z})}function GetServerSockets(Q,S){let R=Number.parseInt(Q.request.server_id),N=$[R];if(void 0===N){S({code:L.Status.NOT_FOUND,details:"No server data found for id "+R});return}let M=Number.parseInt(Q.request.start_socket_id),U=Number.parseInt(Q.request.max_results),P=N.getInfo(),Y=P.sessionChildren.sockets.sort((Q,S)=>Q.id-S.id),W=[],K=0;for(;K<Y.length&&(!(Y[K].id>=M)||(W.push(socketRefToMessage(Y[K])),!(W.length>=U)));K++);S(null,{socket_ref:W,end:K>=Y.length})}function getChannelzHandlers(){return{GetChannel,GetTopChannels,GetServer,GetServers,GetSubchannel,GetSocket,GetServerSockets}}S.registerChannelzChannel=registerChannelzChannel,S.registerChannelzSubchannel=registerChannelzSubchannel,S.registerChannelzServer=registerChannelzServer,S.registerChannelzSocket=registerChannelzSocket,S.unregisterChannelzRef=unregisterChannelzRef,S.getChannelzHandlers=getChannelzHandlers;let et=null;function getChannelzServiceDefinition(){if(et)return et;let Q=R(18196).J_,S=Q("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]}),N=(0,Y.loadPackageDefinition)(S);return et=N.grpc.channelz.v1.Channelz.service}function setup(){(0,P.registerAdminService)(getChannelzServiceDefinition,getChannelzHandlers)}S.getChannelzServiceDefinition=getChannelzServiceDefinition,S.setup=setup},72158:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getInterceptingCall=S.InterceptingCall=S.RequesterBuilder=S.ListenerBuilder=S.InterceptorConfigurationError=void 0;let N=R(32908),M=R(88577),L=R(69238),U=R(9006);let InterceptorConfigurationError=class InterceptorConfigurationError extends Error{constructor(Q){super(Q),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,InterceptorConfigurationError)}};S.InterceptorConfigurationError=InterceptorConfigurationError;let ListenerBuilder=class ListenerBuilder{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(Q){return this.metadata=Q,this}withOnReceiveMessage(Q){return this.message=Q,this}withOnReceiveStatus(Q){return this.status=Q,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};S.ListenerBuilder=ListenerBuilder;let RequesterBuilder=class RequesterBuilder{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(Q){return this.start=Q,this}withSendMessage(Q){return this.message=Q,this}withHalfClose(Q){return this.halfClose=Q,this}withCancel(Q){return this.cancel=Q,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};S.RequesterBuilder=RequesterBuilder;let P={onReceiveMetadata:(Q,S)=>{S(Q)},onReceiveMessage:(Q,S)=>{S(Q)},onReceiveStatus:(Q,S)=>{S(Q)}},Y={start:(Q,S,R)=>{R(Q,S)},sendMessage:(Q,S)=>{S(Q)},halfClose:Q=>{Q()},cancel:Q=>{Q()}};let InterceptingCall=class InterceptingCall{constructor(Q,S){var R,N,M,L;this.nextCall=Q,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,S?this.requester={start:null!==(R=S.start)&&void 0!==R?R:Y.start,sendMessage:null!==(N=S.sendMessage)&&void 0!==N?N:Y.sendMessage,halfClose:null!==(M=S.halfClose)&&void 0!==M?M:Y.halfClose,cancel:null!==(L=S.cancel)&&void 0!==L?L:Y.cancel}:this.requester=Y}cancelWithStatus(Q,S){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(Q,S)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(Q,S){var R,N,L,U,Y,W;let K={onReceiveMetadata:null!==(N=null===(R=null==S?void 0:S.onReceiveMetadata)||void 0===R?void 0:R.bind(S))&&void 0!==N?N:Q=>{},onReceiveMessage:null!==(U=null===(L=null==S?void 0:S.onReceiveMessage)||void 0===L?void 0:L.bind(S))&&void 0!==U?U:Q=>{},onReceiveStatus:null!==(W=null===(Y=null==S?void 0:S.onReceiveStatus)||void 0===Y?void 0:Y.bind(S))&&void 0!==W?W:Q=>{}};this.processingMetadata=!0,this.requester.start(Q,K,(Q,S)=>{var R,N,L;let U;if(this.processingMetadata=!1,(0,M.isInterceptingListener)(S))U=S;else{let Q={onReceiveMetadata:null!==(R=S.onReceiveMetadata)&&void 0!==R?R:P.onReceiveMetadata,onReceiveMessage:null!==(N=S.onReceiveMessage)&&void 0!==N?N:P.onReceiveMessage,onReceiveStatus:null!==(L=S.onReceiveStatus)&&void 0!==L?L:P.onReceiveStatus};U=new M.InterceptingListenerImpl(Q,K)}this.nextCall.start(Q,U),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(Q,S){this.processingMessage=!0,this.requester.sendMessage(S,R=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=Q,this.pendingMessage=S):(this.nextCall.sendMessageWithContext(Q,R),this.processPendingHalfClose())})}sendMessage(Q){this.sendMessageWithContext({},Q)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};function getCall(Q,S,R){var N,M;let L=null!==(N=R.deadline)&&void 0!==N?N:1/0,U=R.host,P=null!==(M=R.parent)&&void 0!==M?M:null,Y=R.propagate_flags,W=R.credentials,K=Q.createCall(S,L,U,P,Y);return W&&K.setCredentials(W),K}S.InterceptingCall=InterceptingCall;let BaseInterceptingCall=class BaseInterceptingCall{constructor(Q,S){this.call=Q,this.methodDefinition=S}cancelWithStatus(Q,S){this.call.cancelWithStatus(Q,S)}getPeer(){return this.call.getPeer()}sendMessageWithContext(Q,S){let R;try{R=this.methodDefinition.requestSerialize(S)}catch(Q){this.call.cancelWithStatus(L.Status.INTERNAL,`Request message serialization failure: ${(0,U.getErrorMessage)(Q)}`);return}this.call.sendMessageWithContext(Q,R)}sendMessage(Q){this.sendMessageWithContext({},Q)}start(Q,S){let R=null;this.call.start(Q,{onReceiveMetadata:Q=>{var R;null===(R=null==S?void 0:S.onReceiveMetadata)||void 0===R||R.call(S,Q)},onReceiveMessage:Q=>{var M;let P;try{P=this.methodDefinition.responseDeserialize(Q)}catch(Q){R={code:L.Status.INTERNAL,details:`Response message parsing error: ${(0,U.getErrorMessage)(Q)}`,metadata:new N.Metadata},this.call.cancelWithStatus(R.code,R.details);return}null===(M=null==S?void 0:S.onReceiveMessage)||void 0===M||M.call(S,P)},onReceiveStatus:Q=>{var N,M;R?null===(N=null==S?void 0:S.onReceiveStatus)||void 0===N||N.call(S,R):null===(M=null==S?void 0:S.onReceiveStatus)||void 0===M||M.call(S,Q)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}};let BaseUnaryInterceptingCall=class BaseUnaryInterceptingCall extends BaseInterceptingCall{constructor(Q,S){super(Q,S)}start(Q,S){var R,N;let M=!1,L={onReceiveMetadata:null!==(N=null===(R=null==S?void 0:S.onReceiveMetadata)||void 0===R?void 0:R.bind(S))&&void 0!==N?N:Q=>{},onReceiveMessage:Q=>{var R;M=!0,null===(R=null==S?void 0:S.onReceiveMessage)||void 0===R||R.call(S,Q)},onReceiveStatus:Q=>{var R,N;M||null===(R=null==S?void 0:S.onReceiveMessage)||void 0===R||R.call(S,null),null===(N=null==S?void 0:S.onReceiveStatus)||void 0===N||N.call(S,Q)}};super.start(Q,L),this.call.startRead()}};let BaseStreamingInterceptingCall=class BaseStreamingInterceptingCall extends BaseInterceptingCall{};function getBottomInterceptingCall(Q,S,R){let N=getCall(Q,R.path,S);return R.responseStream?new BaseStreamingInterceptingCall(N,R):new BaseUnaryInterceptingCall(N,R)}function getInterceptingCall(Q,S,R,N){if(Q.clientInterceptors.length>0&&Q.clientInterceptorProviders.length>0)throw new InterceptorConfigurationError("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(Q.callInterceptors.length>0&&Q.callInterceptorProviders.length>0)throw new InterceptorConfigurationError("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let M=[];M=Q.callInterceptors.length>0||Q.callInterceptorProviders.length>0?[].concat(Q.callInterceptors,Q.callInterceptorProviders.map(Q=>Q(S))).filter(Q=>Q):[].concat(Q.clientInterceptors,Q.clientInterceptorProviders.map(Q=>Q(S))).filter(Q=>Q);let L=Object.assign({},R,{method_definition:S}),U=M.reduceRight((Q,S)=>R=>S(R,Q),Q=>getBottomInterceptingCall(N,Q,S));return U(L)}S.getInterceptingCall=getInterceptingCall},47307:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Client=void 0;let N=R(12953),M=R(49914),L=R(91360),U=R(69238),P=R(32908),Y=R(72158),W=Symbol(),K=Symbol(),X=Symbol(),Z=Symbol();function isFunction(Q){return"function"==typeof Q}function getErrorStackString(Q){return Q.stack.split("\n").slice(1).join("\n")}let Client=class Client{constructor(Q,S,R={}){var N,L;if(R=Object.assign({},R),this[K]=null!==(N=R.interceptors)&&void 0!==N?N:[],delete R.interceptors,this[X]=null!==(L=R.interceptor_providers)&&void 0!==L?L:[],delete R.interceptor_providers,this[K].length>0&&this[X].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[Z]=R.callInvocationTransformer,delete R.callInvocationTransformer,R.channelOverride)this[W]=R.channelOverride;else if(R.channelFactoryOverride){let N=R.channelFactoryOverride;delete R.channelFactoryOverride,this[W]=N(Q,S,R)}else this[W]=new M.ChannelImplementation(Q,S,R)}close(){this[W].close()}getChannel(){return this[W]}waitForReady(Q,S){let checkState=R=>{let N;if(R){S(Error("Failed to connect before the deadline"));return}try{N=this[W].getConnectivityState(!0)}catch(Q){S(Error("The channel has been closed"));return}if(N===L.ConnectivityState.READY)S();else try{this[W].watchConnectivityState(N,Q,checkState)}catch(Q){S(Error("The channel has been closed"))}};setImmediate(checkState)}checkOptionalUnaryResponseArguments(Q,S,R){if(isFunction(Q))return{metadata:new P.Metadata,options:{},callback:Q};if(isFunction(S))return Q instanceof P.Metadata?{metadata:Q,options:{},callback:S}:{metadata:new P.Metadata,options:Q,callback:S};if(!(Q instanceof P.Metadata&&S instanceof Object&&isFunction(R)))throw Error("Incorrect arguments passed");return{metadata:Q,options:S,callback:R}}makeUnaryRequest(Q,S,R,M,L,P,$){var ee,et;let en=this.checkOptionalUnaryResponseArguments(L,P,$),ei={path:Q,requestStream:!1,responseStream:!1,requestSerialize:S,responseDeserialize:R},es={argument:M,metadata:en.metadata,call:new N.ClientUnaryCallImpl,channel:this[W],methodDefinition:ei,callOptions:en.options,callback:en.callback};this[Z]&&(es=this[Z](es));let eo=es.call,ea={clientInterceptors:this[K],clientInterceptorProviders:this[X],callInterceptors:null!==(ee=es.callOptions.interceptors)&&void 0!==ee?ee:[],callInterceptorProviders:null!==(et=es.callOptions.interceptor_providers)&&void 0!==et?et:[]},eA=(0,Y.getInterceptingCall)(ea,es.methodDefinition,es.callOptions,es.channel);eo.call=eA;let ec=null,eu=!1,eh=Error();return eA.start(es.metadata,{onReceiveMetadata:Q=>{eo.emit("metadata",Q)},onReceiveMessage(Q){null!==ec&&eA.cancelWithStatus(U.Status.INTERNAL,"Too many responses received"),ec=Q},onReceiveStatus(Q){if(!eu){if(eu=!0,Q.code===U.Status.OK){if(null===ec){let S=getErrorStackString(eh);es.callback((0,N.callErrorFromStatus)({code:U.Status.INTERNAL,details:"No message received",metadata:Q.metadata},S))}else es.callback(null,ec)}else{let S=getErrorStackString(eh);es.callback((0,N.callErrorFromStatus)(Q,S))}eh=null,eo.emit("status",Q)}}}),eA.sendMessage(M),eA.halfClose(),eo}makeClientStreamRequest(Q,S,R,M,L,P){var $,ee;let et=this.checkOptionalUnaryResponseArguments(M,L,P),en={path:Q,requestStream:!0,responseStream:!1,requestSerialize:S,responseDeserialize:R},ei={metadata:et.metadata,call:new N.ClientWritableStreamImpl(S),channel:this[W],methodDefinition:en,callOptions:et.options,callback:et.callback};this[Z]&&(ei=this[Z](ei));let es=ei.call,eo={clientInterceptors:this[K],clientInterceptorProviders:this[X],callInterceptors:null!==($=ei.callOptions.interceptors)&&void 0!==$?$:[],callInterceptorProviders:null!==(ee=ei.callOptions.interceptor_providers)&&void 0!==ee?ee:[]},ea=(0,Y.getInterceptingCall)(eo,ei.methodDefinition,ei.callOptions,ei.channel);es.call=ea;let eA=null,ec=!1,eu=Error();return ea.start(ei.metadata,{onReceiveMetadata:Q=>{es.emit("metadata",Q)},onReceiveMessage(Q){null!==eA&&ea.cancelWithStatus(U.Status.INTERNAL,"Too many responses received"),eA=Q},onReceiveStatus(Q){if(!ec){if(ec=!0,Q.code===U.Status.OK){if(null===eA){let S=getErrorStackString(eu);ei.callback((0,N.callErrorFromStatus)({code:U.Status.INTERNAL,details:"No message received",metadata:Q.metadata},S))}else ei.callback(null,eA)}else{let S=getErrorStackString(eu);ei.callback((0,N.callErrorFromStatus)(Q,S))}eu=null,es.emit("status",Q)}}}),es}checkMetadataAndOptions(Q,S){let R,N;return Q instanceof P.Metadata?(R=Q,N=S||{}):(N=Q||{},R=new P.Metadata),{metadata:R,options:N}}makeServerStreamRequest(Q,S,R,M,L,P){var $,ee;let et=this.checkMetadataAndOptions(L,P),en={path:Q,requestStream:!1,responseStream:!0,requestSerialize:S,responseDeserialize:R},ei={argument:M,metadata:et.metadata,call:new N.ClientReadableStreamImpl(R),channel:this[W],methodDefinition:en,callOptions:et.options};this[Z]&&(ei=this[Z](ei));let es=ei.call,eo={clientInterceptors:this[K],clientInterceptorProviders:this[X],callInterceptors:null!==($=ei.callOptions.interceptors)&&void 0!==$?$:[],callInterceptorProviders:null!==(ee=ei.callOptions.interceptor_providers)&&void 0!==ee?ee:[]},ea=(0,Y.getInterceptingCall)(eo,ei.methodDefinition,ei.callOptions,ei.channel);es.call=ea;let eA=!1,ec=Error();return ea.start(ei.metadata,{onReceiveMetadata(Q){es.emit("metadata",Q)},onReceiveMessage(Q){es.push(Q)},onReceiveStatus(Q){if(!eA){if(eA=!0,es.push(null),Q.code!==U.Status.OK){let S=getErrorStackString(ec);es.emit("error",(0,N.callErrorFromStatus)(Q,S))}ec=null,es.emit("status",Q)}}}),ea.sendMessage(M),ea.halfClose(),es}makeBidiStreamRequest(Q,S,R,M,L){var P,$;let ee=this.checkMetadataAndOptions(M,L),et={path:Q,requestStream:!0,responseStream:!0,requestSerialize:S,responseDeserialize:R},en={metadata:ee.metadata,call:new N.ClientDuplexStreamImpl(S,R),channel:this[W],methodDefinition:et,callOptions:ee.options};this[Z]&&(en=this[Z](en));let ei=en.call,es={clientInterceptors:this[K],clientInterceptorProviders:this[X],callInterceptors:null!==(P=en.callOptions.interceptors)&&void 0!==P?P:[],callInterceptorProviders:null!==($=en.callOptions.interceptor_providers)&&void 0!==$?$:[]},eo=(0,Y.getInterceptingCall)(es,en.methodDefinition,en.callOptions,en.channel);ei.call=eo;let ea=!1,eA=Error();return eo.start(en.metadata,{onReceiveMetadata(Q){ei.emit("metadata",Q)},onReceiveMessage(Q){ei.push(Q)},onReceiveStatus(Q){if(!ea){if(ea=!0,ei.push(null),Q.code!==U.Status.OK){let S=getErrorStackString(eA);ei.emit("error",(0,N.callErrorFromStatus)(Q,S))}eA=null,ei.emit("status",Q)}}}),ei}};S.Client=Client},56702:(Q,S)=>{"use strict";var R;Object.defineProperty(S,"__esModule",{value:!0}),S.CompressionAlgorithms=void 0,function(Q){Q[Q.identity=0]="identity",Q[Q.deflate=1]="deflate",Q[Q.gzip=2]="gzip"}(R||(S.CompressionAlgorithms=R={}))},69718:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CompressionFilterFactory=S.CompressionFilter=void 0;let N=R(59796),M=R(56702),L=R(69238),U=R(81818),P=R(68200),isCompressionAlgorithmKey=Q=>"number"==typeof Q&&"string"==typeof M.CompressionAlgorithms[Q];let CompressionHandler=class CompressionHandler{async writeMessage(Q,S){let R=Q;S&&(R=await this.compressMessage(R));let N=Buffer.allocUnsafe(R.length+5);return N.writeUInt8(S?1:0,0),N.writeUInt32BE(R.length,1),R.copy(N,5),N}async readMessage(Q){let S=1===Q.readUInt8(0),R=Q.slice(5);return S&&(R=await this.decompressMessage(R)),R}};let IdentityHandler=class IdentityHandler extends CompressionHandler{async compressMessage(Q){return Q}async writeMessage(Q,S){let R=Buffer.allocUnsafe(Q.length+5);return R.writeUInt8(0,0),R.writeUInt32BE(Q.length,1),Q.copy(R,5),R}decompressMessage(Q){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}};let DeflateHandler=class DeflateHandler extends CompressionHandler{compressMessage(Q){return new Promise((S,R)=>{N.deflate(Q,(Q,N)=>{Q?R(Q):S(N)})})}decompressMessage(Q){return new Promise((S,R)=>{N.inflate(Q,(Q,N)=>{Q?R(Q):S(N)})})}};let GzipHandler=class GzipHandler extends CompressionHandler{compressMessage(Q){return new Promise((S,R)=>{N.gzip(Q,(Q,N)=>{Q?R(Q):S(N)})})}decompressMessage(Q){return new Promise((S,R)=>{N.unzip(Q,(Q,N)=>{Q?R(Q):S(N)})})}};let UnknownHandler=class UnknownHandler extends CompressionHandler{constructor(Q){super(),this.compressionName=Q}compressMessage(Q){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(Q){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}};function getCompressionHandler(Q){switch(Q){case"identity":return new IdentityHandler;case"deflate":return new DeflateHandler;case"gzip":return new GzipHandler;default:return new UnknownHandler(Q)}}let CompressionFilter=class CompressionFilter extends U.BaseFilter{constructor(Q,S){var R;super(),this.sharedFilterConfig=S,this.sendCompression=new IdentityHandler,this.receiveCompression=new IdentityHandler,this.currentCompressionAlgorithm="identity";let N=Q["grpc.default_compression_algorithm"];if(void 0!==N){if(isCompressionAlgorithmKey(N)){let Q=M.CompressionAlgorithms[N],L=null===(R=S.serverSupportedEncodingHeader)||void 0===R?void 0:R.split(",");(!L||L.includes(Q))&&(this.currentCompressionAlgorithm=Q,this.sendCompression=getCompressionHandler(this.currentCompressionAlgorithm))}else P.log(L.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${N}`)}}async sendMetadata(Q){let S=await Q;return S.set("grpc-accept-encoding","identity,deflate,gzip"),S.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?S.remove("grpc-encoding"):S.set("grpc-encoding",this.currentCompressionAlgorithm),S}receiveMetadata(Q){let S=Q.get("grpc-encoding");if(S.length>0){let Q=S[0];"string"==typeof Q&&(this.receiveCompression=getCompressionHandler(Q))}Q.remove("grpc-encoding");let R=Q.get("grpc-accept-encoding")[0];if(R){this.sharedFilterConfig.serverSupportedEncodingHeader=R;let Q=R.split(",");Q.includes(this.currentCompressionAlgorithm)||(this.sendCompression=new IdentityHandler,this.currentCompressionAlgorithm="identity")}return Q.remove("grpc-accept-encoding"),Q}async sendMessage(Q){var S;let R;let N=await Q;return R=!(this.sendCompression instanceof IdentityHandler)&&((null!==(S=N.flags)&&void 0!==S?S:0)&2)==0,{message:await this.sendCompression.writeMessage(N.message,R),flags:N.flags}}async receiveMessage(Q){return this.receiveCompression.readMessage(await Q)}};S.CompressionFilter=CompressionFilter;let CompressionFilterFactory=class CompressionFilterFactory{constructor(Q,S){this.options=S,this.sharedFilterConfig={}}createFilter(){return new CompressionFilter(this.options,this.sharedFilterConfig)}};S.CompressionFilterFactory=CompressionFilterFactory},91360:(Q,S)=>{"use strict";var R;Object.defineProperty(S,"__esModule",{value:!0}),S.ConnectivityState=void 0,function(Q){Q[Q.IDLE=0]="IDLE",Q[Q.CONNECTING=1]="CONNECTING",Q[Q.READY=2]="READY",Q[Q.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",Q[Q.SHUTDOWN=4]="SHUTDOWN"}(R||(S.ConnectivityState=R={}))},69238:(Q,S)=>{"use strict";var R,N,M;Object.defineProperty(S,"__esModule",{value:!0}),S.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=S.DEFAULT_MAX_SEND_MESSAGE_LENGTH=S.Propagate=S.LogVerbosity=S.Status=void 0,function(Q){Q[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(R||(S.Status=R={})),function(Q){Q[Q.DEBUG=0]="DEBUG",Q[Q.INFO=1]="INFO",Q[Q.ERROR=2]="ERROR",Q[Q.NONE=3]="NONE"}(N||(S.LogVerbosity=N={})),function(Q){Q[Q.DEADLINE=1]="DEADLINE",Q[Q.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",Q[Q.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",Q[Q.CANCELLATION=8]="CANCELLATION",Q[Q.DEFAULTS=65535]="DEFAULTS"}(M||(S.Propagate=M={})),S.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,S.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},6614:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.restrictControlPlaneStatusCode=void 0;let N=R(69238),M=[N.Status.OK,N.Status.INVALID_ARGUMENT,N.Status.NOT_FOUND,N.Status.ALREADY_EXISTS,N.Status.FAILED_PRECONDITION,N.Status.ABORTED,N.Status.OUT_OF_RANGE,N.Status.DATA_LOSS];function restrictControlPlaneStatusCode(Q,S){return M.includes(Q)?{code:N.Status.INTERNAL,details:`Invalid status from control plane: ${Q} ${N.Status[Q]} ${S}`}:{code:Q,details:S}}S.restrictControlPlaneStatusCode=restrictControlPlaneStatusCode},50823:(Q,S)=>{"use strict";function minDeadline(...Q){let S=1/0;for(let R of Q){let Q=R instanceof Date?R.getTime():R;Q<S&&(S=Q)}return S}Object.defineProperty(S,"__esModule",{value:!0}),S.deadlineToString=S.getRelativeTimeout=S.getDeadlineTimeoutString=S.minDeadline=void 0,S.minDeadline=minDeadline;let R=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function getDeadlineTimeoutString(Q){let S=new Date().getTime();Q instanceof Date&&(Q=Q.getTime());let N=Math.max(Q-S,0);for(let[Q,S]of R){let R=N/S;if(R<1e8)return String(Math.ceil(R))+Q}throw Error("Deadline is too far in the future")}S.getDeadlineTimeoutString=getDeadlineTimeoutString;let N=2147483647;function getRelativeTimeout(Q){let S=Q instanceof Date?Q.getTime():Q,R=new Date().getTime(),M=S-R;return M<0?0:M>N?1/0:M}function deadlineToString(Q){if(Q instanceof Date)return Q.toISOString();{let S=new Date(Q);return Number.isNaN(S.getTime())?""+Q:S.toISOString()}}S.getRelativeTimeout=getRelativeTimeout,S.deadlineToString=deadlineToString},89589:(Q,S)=>{"use strict";function msToDuration(Q){return{seconds:Q/1e3|0,nanos:Q%1e3*1e6|0}}function durationToMs(Q){return 1e3*Q.seconds+Q.nanos/1e6|0}function isDuration(Q){return"number"==typeof Q.seconds&&"number"==typeof Q.nanos}Object.defineProperty(S,"__esModule",{value:!0}),S.isDuration=S.durationToMs=S.msToDuration=void 0,S.msToDuration=msToDuration,S.durationToMs=durationToMs,S.isDuration=isDuration},9006:(Q,S)=>{"use strict";function getErrorMessage(Q){return Q instanceof Error?Q.message:String(Q)}function getErrorCode(Q){return"object"==typeof Q&&null!==Q&&"code"in Q&&"number"==typeof Q.code?Q.code:null}Object.defineProperty(S,"__esModule",{value:!0}),S.getErrorCode=S.getErrorMessage=void 0,S.getErrorMessage=getErrorMessage,S.getErrorCode=getErrorCode},86868:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.OutlierDetectionLoadBalancingConfig=S.BaseSubchannelWrapper=S.registerAdminService=S.FilterStackFactory=S.BaseFilter=S.PickResultType=S.QueuePicker=S.UnavailablePicker=S.ChildLoadBalancerHandler=S.subchannelAddressToString=S.validateLoadBalancingConfig=S.getFirstUsableConfig=S.registerLoadBalancerType=S.createChildChannelControlHelper=S.BackoffTimeout=S.durationToMs=S.uriToString=S.createResolver=S.registerResolver=S.log=S.trace=void 0;var N=R(68200);Object.defineProperty(S,"trace",{enumerable:!0,get:function(){return N.trace}}),Object.defineProperty(S,"log",{enumerable:!0,get:function(){return N.log}});var M=R(14755);Object.defineProperty(S,"registerResolver",{enumerable:!0,get:function(){return M.registerResolver}}),Object.defineProperty(S,"createResolver",{enumerable:!0,get:function(){return M.createResolver}});var L=R(14717);Object.defineProperty(S,"uriToString",{enumerable:!0,get:function(){return L.uriToString}});var U=R(89589);Object.defineProperty(S,"durationToMs",{enumerable:!0,get:function(){return U.durationToMs}});var P=R(77257);Object.defineProperty(S,"BackoffTimeout",{enumerable:!0,get:function(){return P.BackoffTimeout}});var Y=R(77203);Object.defineProperty(S,"createChildChannelControlHelper",{enumerable:!0,get:function(){return Y.createChildChannelControlHelper}}),Object.defineProperty(S,"registerLoadBalancerType",{enumerable:!0,get:function(){return Y.registerLoadBalancerType}}),Object.defineProperty(S,"getFirstUsableConfig",{enumerable:!0,get:function(){return Y.getFirstUsableConfig}}),Object.defineProperty(S,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return Y.validateLoadBalancingConfig}});var W=R(72782);Object.defineProperty(S,"subchannelAddressToString",{enumerable:!0,get:function(){return W.subchannelAddressToString}});var K=R(38390);Object.defineProperty(S,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return K.ChildLoadBalancerHandler}});var X=R(32939);Object.defineProperty(S,"UnavailablePicker",{enumerable:!0,get:function(){return X.UnavailablePicker}}),Object.defineProperty(S,"QueuePicker",{enumerable:!0,get:function(){return X.QueuePicker}}),Object.defineProperty(S,"PickResultType",{enumerable:!0,get:function(){return X.PickResultType}});var Z=R(81818);Object.defineProperty(S,"BaseFilter",{enumerable:!0,get:function(){return Z.BaseFilter}});var $=R(4213);Object.defineProperty(S,"FilterStackFactory",{enumerable:!0,get:function(){return $.FilterStackFactory}});var ee=R(1605);Object.defineProperty(S,"registerAdminService",{enumerable:!0,get:function(){return ee.registerAdminService}});var et=R(69609);Object.defineProperty(S,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return et.BaseSubchannelWrapper}});var en=R(35683);Object.defineProperty(S,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return en.OutlierDetectionLoadBalancingConfig}})},4213:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.FilterStackFactory=S.FilterStack=void 0;let FilterStack=class FilterStack{constructor(Q){this.filters=Q}sendMetadata(Q){let S=Q;for(let Q=0;Q<this.filters.length;Q++)S=this.filters[Q].sendMetadata(S);return S}receiveMetadata(Q){let S=Q;for(let Q=this.filters.length-1;Q>=0;Q--)S=this.filters[Q].receiveMetadata(S);return S}sendMessage(Q){let S=Q;for(let Q=0;Q<this.filters.length;Q++)S=this.filters[Q].sendMessage(S);return S}receiveMessage(Q){let S=Q;for(let Q=this.filters.length-1;Q>=0;Q--)S=this.filters[Q].receiveMessage(S);return S}receiveTrailers(Q){let S=Q;for(let Q=this.filters.length-1;Q>=0;Q--)S=this.filters[Q].receiveTrailers(S);return S}push(Q){this.filters.unshift(...Q)}getFilters(){return this.filters}};S.FilterStack=FilterStack;let FilterStackFactory=class FilterStackFactory{constructor(Q){this.factories=Q}push(Q){this.factories.unshift(...Q)}clone(){return new FilterStackFactory([...this.factories])}createFilter(){return new FilterStack(this.factories.map(Q=>Q.createFilter()))}};S.FilterStackFactory=FilterStackFactory},81818:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.BaseFilter=void 0;let BaseFilter=class BaseFilter{async sendMetadata(Q){return Q}receiveMetadata(Q){return Q}async sendMessage(Q){return Q}async receiveMessage(Q){return Q}receiveTrailers(Q){return Q}};S.BaseFilter=BaseFilter},18304:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getProxiedConnection=S.mapProxyName=void 0;let N=R(68200),M=R(69238),L=R(14755),U=R(13685),P=R(24404),Y=R(68200),W=R(72782),K=R(14717),X=R(57310),Z=R(84988),$="proxy";function trace(Q){Y.trace(M.LogVerbosity.DEBUG,$,Q)}function getProxyInfo(){let Q,S="",R="";if(process.env.grpc_proxy)R="grpc_proxy",S=process.env.grpc_proxy;else if(process.env.https_proxy)R="https_proxy",S=process.env.https_proxy;else{if(!process.env.http_proxy)return{};R="http_proxy",S=process.env.http_proxy}try{Q=new X.URL(S)}catch(Q){return(0,N.log)(M.LogVerbosity.ERROR,`cannot parse value of "${R}" env var`),{}}if("http:"!==Q.protocol)return(0,N.log)(M.LogVerbosity.ERROR,`"${Q.protocol}" scheme not supported in proxy URI`),{};let L=null;Q.username&&(Q.password?((0,N.log)(M.LogVerbosity.INFO,"userinfo found in proxy URI"),L=`${Q.username}:${Q.password}`):L=Q.username);let U=Q.hostname,P=Q.port;""===P&&(P="80");let Y={address:`${U}:${P}`};return L&&(Y.creds=L),trace("Proxy server "+Y.address+" set by environment variable "+R),Y}function getNoProxyHostList(){let Q=process.env.no_grpc_proxy,S="no_grpc_proxy";return(Q||(Q=process.env.no_proxy,S="no_proxy"),Q)?(trace("No proxy server list set by environment variable "+S),Q.split(",")):[]}function mapProxyName(Q,S){var R;let N={target:Q,extraOptions:{}};if((null!==(R=S["grpc.enable_http_proxy"])&&void 0!==R?R:1)===0||"unix"===Q.scheme)return N;let M=getProxyInfo();if(!M.address)return N;let L=(0,K.splitHostPort)(Q.path);if(!L)return N;let U=L.host;for(let S of getNoProxyHostList())if(S===U)return trace("Not using proxy for target in no_proxy list: "+(0,K.uriToString)(Q)),N;let P={"grpc.http_connect_target":(0,K.uriToString)(Q)};return M.creds&&(P["grpc.http_connect_creds"]=M.creds),{target:{scheme:"dns",path:M.address},extraOptions:P}}function getProxiedConnection(Q,S,R){var Y;if(!("grpc.http_connect_target"in S))return Promise.resolve({});let X=S["grpc.http_connect_target"],$=(0,K.parseUri)(X);if(null===$)return Promise.resolve({});let ee=(0,K.splitHostPort)($.path);if(null===ee)return Promise.resolve({});let et=`${ee.host}:${null!==(Y=ee.port)&&void 0!==Y?Y:Z.DEFAULT_PORT}`,en={method:"CONNECT",path:et},ei={Host:et};(0,W.isTcpSubchannelAddress)(Q)?(en.host=Q.host,en.port=Q.port):en.socketPath=Q.path,"grpc.http_connect_creds"in S&&(ei["Proxy-Authorization"]="Basic "+Buffer.from(S["grpc.http_connect_creds"]).toString("base64")),en.headers=ei;let es=(0,W.subchannelAddressToString)(Q);return trace("Using proxy "+es+" to connect to "+en.path),new Promise((Q,S)=>{let Y=U.request(en);Y.once("connect",(U,W,X)=>{var Z;if(Y.removeAllListeners(),W.removeAllListeners(),200===U.statusCode){if(trace("Successfully connected to "+en.path+" through proxy "+es),"secureContext"in R){let N=(0,L.getDefaultAuthority)($),M=(0,K.splitHostPort)(N),U=null!==(Z=null==M?void 0:M.host)&&void 0!==Z?Z:N,Y=P.connect(Object.assign({host:U,servername:U,socket:W},R),()=>{trace("Successfully established a TLS connection to "+en.path+" through proxy "+es),Q({socket:Y,realTarget:$})});Y.on("error",Q=>{trace("Failed to establish a TLS connection to "+en.path+" through proxy "+es+" with error "+Q.message),S()})}else trace("Successfully established a plaintext connection to "+en.path+" through proxy "+es),Q({socket:W,realTarget:$})}else(0,N.log)(M.LogVerbosity.ERROR,"Failed to connect to "+en.path+" through proxy "+es+" with status "+U.statusCode),S()}),Y.once("error",Q=>{Y.removeAllListeners(),(0,N.log)(M.LogVerbosity.ERROR,"Failed to connect to proxy "+es+" with error "+Q.message),S()}),Y.end()})}S.mapProxyName=mapProxyName,S.getProxiedConnection=getProxiedConnection},16063:(Q,S,R)=>{"use strict";en={value:!0},en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=en=S.Rz=en=en=en=en=en=en=S.SF=S.K9=void 0;let N=R(68612);en={enumerable:!0,get:function(){return N.CallCredentials}};let M=R(49914);en={enumerable:!0,get:function(){return M.ChannelImplementation}};let L=R(56702);en={enumerable:!0,get:function(){return L.CompressionAlgorithms}};let U=R(91360);en={enumerable:!0,get:function(){return U.ConnectivityState}};let P=R(77021);en={enumerable:!0,get:function(){return P.ChannelCredentials}};let Y=R(47307);en={enumerable:!0,get:function(){return Y.Client}};let W=R(69238);en={enumerable:!0,get:function(){return W.LogVerbosity}},en={enumerable:!0,get:function(){return W.Status}},en={enumerable:!0,get:function(){return W.Propagate}};let K=R(68200),X=R(47697);Object.defineProperty(S,"Rz",{enumerable:!0,get:function(){return X.loadPackageDefinition}}),en={enumerable:!0,get:function(){return X.makeClientConstructor}},en={enumerable:!0,get:function(){return X.makeClientConstructor}};let Z=R(32908);Object.defineProperty(S,"SF",{enumerable:!0,get:function(){return Z.Metadata}});let $=R(92903);en={enumerable:!0,get:function(){return $.Server}};let ee=R(62501);en={enumerable:!0,get:function(){return ee.ServerCredentials}};let et=R(9929);en={enumerable:!0,get:function(){return et.StatusBuilder}},S.K9={combineChannelCredentials:(Q,...S)=>S.reduce((Q,S)=>Q.compose(S),Q),combineCallCredentials:(Q,...S)=>S.reduce((Q,S)=>Q.compose(S),Q),createInsecure:P.ChannelCredentials.createInsecure,createSsl:P.ChannelCredentials.createSsl,createFromSecureContext:P.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:N.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:N.CallCredentials.createFromGoogleCredential,createEmpty:N.CallCredentials.createEmpty};let closeClient=Q=>Q.close();en=closeClient;let waitForClientReady=(Q,S,R)=>Q.waitForReady(S,R);en=waitForClientReady;let loadObject=(Q,S)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};en=loadObject;let load=(Q,S,R)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};en=load;let setLogger=Q=>{K.setLogger(Q)};en=setLogger;let setLogVerbosity=Q=>{K.setLoggerVerbosity(Q)};en=setLogVerbosity;let getClientChannel=Q=>Y.Client.prototype.getChannel.call(Q);en=getClientChannel;var en,ei=R(72158);en={enumerable:!0,get:function(){return ei.ListenerBuilder}},en={enumerable:!0,get:function(){return ei.RequesterBuilder}},en={enumerable:!0,get:function(){return ei.InterceptingCall}},en={enumerable:!0,get:function(){return ei.InterceptorConfigurationError}};var es=R(83316);en={enumerable:!0,get:function(){return es.getChannelzServiceDefinition}},en={enumerable:!0,get:function(){return es.getChannelzHandlers}};var eo=R(1605);en={enumerable:!0,get:function(){return eo.addAdminServicesToServer}};let ea=R(86868);en=ea;let eA=R(84988),ec=R(50864),eu=R(96633),eh=R(72190),ed=R(19580),eg=R(35683),ep=R(83316);(()=>{eA.setup(),ec.setup(),eu.setup(),eh.setup(),ed.setup(),eg.setup(),ep.setup()})()},35233:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.InternalChannel=void 0;let N=R(77021),M=R(61839),L=R(88364),U=R(32939),P=R(69238),Y=R(4213),W=R(69718),K=R(14755),X=R(68200),Z=R(41732),$=R(18304),ee=R(14717),et=R(91360),en=R(83316),ei=R(80439),es=R(50823),eo=R(65700),ea=R(60060),eA=R(6614),ec=R(97564),eu=R(69609),eh=2147483647,ed=1e3,eg=18e5,ep=new Map,ef=16777216,eE=1048576;let ChannelSubchannelWrapper=class ChannelSubchannelWrapper extends eu.BaseSubchannelWrapper{constructor(Q,S){super(Q),this.channel=S,this.refCount=0,this.subchannelStateListener=(Q,R,N,M)=>{S.throttleKeepalive(M)},Q.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}};let InternalChannel=class InternalChannel{constructor(Q,S,R){var ei,es,eo,ea,eu,em,eC,eI;if(this.credentials=S,this.options=R,this.connectivityState=et.ConnectivityState.IDLE,this.currentPicker=new U.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new en.ChannelzCallTracker,this.childrenTracker=new en.ChannelzChildrenTracker,"string"!=typeof Q)throw TypeError("Channel target must be a string");if(!(S instanceof N.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(R&&"object"!=typeof R)throw TypeError("Channel options must be an object");this.originalTarget=Q;let eB=(0,ee.parseUri)(Q);if(null===eB)throw Error(`Could not parse target name "${Q}"`);let ey=(0,K.mapUriDefaultScheme)(eB);if(null===ey)throw Error(`Could not find a default scheme for target name "${Q}"`);this.callRefTimer=setInterval(()=>{},eh),null===(es=(ei=this.callRefTimer).unref)||void 0===es||es.call(ei),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new en.ChannelzTrace,this.channelzRef=(0,en.registerChannelzChannel)(Q,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,K.getDefaultAuthority)(ey);let eQ=(0,$.mapProxyName)(ey,R);this.target=eQ.target,this.options=Object.assign({},this.options,eQ.extraOptions),this.subchannelPool=(0,L.getSubchannelPool)((null!==(eo=R["grpc.use_local_subchannel_pool"])&&void 0!==eo?eo:0)===0),this.retryBufferTracker=new ec.MessageBufferTracker(null!==(ea=R["grpc.retry_buffer_size"])&&void 0!==ea?ea:ef,null!==(eu=R["grpc.per_rpc_retry_buffer_size"])&&void 0!==eu?eu:eE),this.keepaliveTime=null!==(em=R["grpc.keepalive_time_ms"])&&void 0!==em?em:-1,this.idleTimeoutMs=Math.max(null!==(eC=R["grpc.client_idle_timeout_ms"])&&void 0!==eC?eC:eg,ed);let eS={createSubchannel:(Q,S)=>{let R=this.subchannelPool.getOrCreateSubchannel(this.target,Q,Object.assign({},this.options,S),this.credentials);R.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",R.getChannelzRef());let N=new ChannelSubchannelWrapper(R,this);return this.wrappedSubchannels.add(N),N},updateState:(Q,S)=>{this.currentPicker=S;let R=this.pickQueue.slice();for(let Q of(this.pickQueue=[],R.length>0&&this.callRefTimerUnref(),R))Q.doPick();this.updateState(Q)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:Q=>{this.channelzEnabled&&this.childrenTracker.refChild(Q)},removeChannelzChild:Q=>{this.channelzEnabled&&this.childrenTracker.unrefChild(Q)}};this.resolvingLoadBalancer=new M.ResolvingLoadBalancer(this.target,eS,R,(Q,S)=>{Q.retryThrottling?ep.set(this.getTarget(),new ec.RetryThrottler(Q.retryThrottling.maxTokens,Q.retryThrottling.tokenRatio,ep.get(this.getTarget()))):ep.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=S,this.currentResolutionError=null,process.nextTick(()=>{let Q=this.configSelectionQueue;for(let S of(this.configSelectionQueue=[],Q.length>0&&this.callRefTimerUnref(),Q))S.getConfig()})},Q=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+Q.code+' and details "'+Q.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,eA.restrictControlPlaneStatusCode)(Q.code,Q.details)),{metadata:Q.metadata}));let S=this.configSelectionQueue;for(let R of(this.configSelectionQueue=[],S.length>0&&this.callRefTimerUnref(),S))R.reportResolverError(Q)}),this.filterStackFactory=new Y.FilterStackFactory([new Z.MaxMessageSizeFilterFactory(this.options),new W.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(R,void 0,2));let eb=Error();(0,X.trace)(P.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(eI=eb.stack)||void 0===eI?void 0:eI.substring(eb.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(Q,S){(0,X.trace)(null!=S?S:P.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,ee.uriToString)(this.target)+" "+Q)}callRefTimerRef(){var Q,S,R,N;(null===(S=(Q=this.callRefTimer).hasRef)||void 0===S?void 0:S.call(Q))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(N=(R=this.callRefTimer).ref)||void 0===N||N.call(R))}callRefTimerUnref(){var Q,S;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(S=(Q=this.callRefTimer).unref)||void 0===S||S.call(Q))}removeConnectivityStateWatcher(Q){let S=this.connectivityStateWatchers.findIndex(S=>S===Q);S>=0&&this.connectivityStateWatchers.splice(S,1)}updateState(Q){(0,X.trace)(P.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,ee.uriToString)(this.target)+" "+et.ConnectivityState[this.connectivityState]+" -> "+et.ConnectivityState[Q]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+et.ConnectivityState[Q]),this.connectivityState=Q;let S=this.connectivityStateWatchers.slice();for(let R of S)Q!==R.currentState&&(R.timer&&clearTimeout(R.timer),this.removeConnectivityStateWatcher(R),R.callback());Q!==et.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(Q){if(Q>this.keepaliveTime)for(let S of(this.keepaliveTime=Q,this.wrappedSubchannels))S.throttleKeepalive(Q)}removeWrappedSubchannel(Q){this.wrappedSubchannels.delete(Q)}doPick(Q,S){return this.currentPicker.pick({metadata:Q,extraPickInfo:S})}queueCallForPick(Q){this.pickQueue.push(Q),this.callRefTimerRef()}getConfig(Q,S){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(Q,S)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(Q){this.configSelectionQueue.push(Q),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(et.ConnectivityState.IDLE),this.currentPicker=new U.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(Q){var S,R;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let Q=new Date,S=Q.valueOf()-this.lastActivityTimestamp.valueOf();S>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-S)},Q),null===(R=(S=this.idleTimer).unref)||void 0===R||R.call(S)}maybeStartIdleTimer(){this.connectivityState===et.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(Q){this.channelzEnabled&&(Q.code===P.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(Q,S,R,N,M){let L=(0,ea.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+L+'] method="'+S+'"'),new ei.LoadBalancingCall(this,Q,S,R,N,M,L)}createRetryingCall(Q,S,R,N,M){let L=(0,ea.getNextCallNumber)();return this.trace("createRetryingCall ["+L+'] method="'+S+'"'),new ec.RetryingCall(this,Q,S,R,N,M,L,this.retryBufferTracker,ep.get(this.getTarget()))}createInnerCall(Q,S,R,N,M){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(Q,S,R,N,M):this.createRetryingCall(Q,S,R,N,M)}createResolvingCall(Q,S,R,N,M){let L=(0,ea.getNextCallNumber)();this.trace("createResolvingCall ["+L+'] method="'+Q+'", deadline='+(0,es.deadlineToString)(S));let U={deadline:S,flags:null!=M?M:P.Propagate.DEFAULTS,host:null!=R?R:this.defaultAuthority,parentCall:N},Y=new eo.ResolvingCall(this,Q,U,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),L);return this.onCallStart(),Y.addStatusWatcher(Q=>{this.onCallEnd(Q)}),Y}close(){this.resolvingLoadBalancer.destroy(),this.updateState(et.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,en.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,ee.uriToString)(this.target)}getConnectivityState(Q){let S=this.connectivityState;return Q&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),S}watchConnectivityState(Q,S,R){if(this.connectivityState===et.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let N=null;if(S!==1/0){let Q=S instanceof Date?S:new Date(S),L=new Date;if(S===-1/0||Q<=L){process.nextTick(R,Error("Deadline passed without connectivity state change"));return}N=setTimeout(()=>{this.removeConnectivityStateWatcher(M),R(Error("Deadline passed without connectivity state change"))},Q.getTime()-L.getTime())}let M={currentState:Q,callback:R,timer:N};this.connectivityStateWatchers.push(M)}getChannelzRef(){return this.channelzRef}createCall(Q,S,R,N,M){if("string"!=typeof Q)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof S||S instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===et.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(Q,S,R,N,M)}};S.InternalChannel=InternalChannel},38390:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ChildLoadBalancerHandler=void 0;let N=R(77203),M=R(91360),L="child_load_balancer_helper";let ChildLoadBalancerHandler=class ChildLoadBalancerHandler{constructor(Q){this.channelControlHelper=Q,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(Q){this.parent=Q,this.child=null}createSubchannel(Q,S){return this.parent.channelControlHelper.createSubchannel(Q,S)}updateState(Q,S){var R;if(this.calledByPendingChild()){if(Q===M.ConnectivityState.CONNECTING)return;null===(R=this.parent.currentChild)||void 0===R||R.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(Q,S)}requestReresolution(){var Q;let S=null!==(Q=this.parent.pendingChild)&&void 0!==Q?Q:this.parent.currentChild;this.child===S&&this.parent.channelControlHelper.requestReresolution()}setChild(Q){this.child=Q}addChannelzChild(Q){this.parent.channelControlHelper.addChannelzChild(Q)}removeChannelzChild(Q){this.parent.channelControlHelper.removeChannelzChild(Q)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(Q,S){return Q.getLoadBalancerName()!==S.getLoadBalancerName()}updateAddressList(Q,S,R){let M;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,S)){let Q=new this.ChildPolicyHelper(this),R=(0,N.createLoadBalancer)(S,Q);Q.setChild(R),null===this.currentChild?(this.currentChild=R,M=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=R,M=this.pendingChild)}else M=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=S,M.updateAddressList(Q,S,R)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return L}};S.ChildLoadBalancerHandler=ChildLoadBalancerHandler},35683:(Q,S,R)=>{"use strict";var N;Object.defineProperty(S,"__esModule",{value:!0}),S.setup=S.OutlierDetectionLoadBalancer=S.OutlierDetectionLoadBalancingConfig=void 0;let M=R(91360),L=R(69238),U=R(89589),P=R(86868),Y=R(77203),W=R(38390),K=R(32939),X=R(72782),Z=R(69609),$=R(68200),ee="outlier_detection";function trace(Q){$.trace(L.LogVerbosity.DEBUG,ee,Q)}let et="outlier_detection",en=(null!==(N=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==N?N:"true")==="true",ei={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},es={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function validateFieldType(Q,S,R,N){if(S in Q&&typeof Q[S]!==R){let M=N?`${N}.${S}`:S;throw Error(`outlier detection config ${M} parse error: expected ${R}, got ${typeof Q[S]}`)}}function validatePositiveDuration(Q,S,R){let N=R?`${R}.${S}`:S;if(S in Q){if(!(0,U.isDuration)(Q[S]))throw Error(`outlier detection config ${N} parse error: expected Duration, got ${typeof Q[S]}`);if(!(Q[S].seconds>=0&&Q[S].seconds<=315576e6&&Q[S].nanos>=0&&Q[S].nanos<=999999999))throw Error(`outlier detection config ${N} parse error: values out of range for non-negative Duaration`)}}function validatePercentage(Q,S,R){let N=R?`${R}.${S}`:S;if(validateFieldType(Q,S,"number",R),S in Q&&!(Q[S]>=0&&Q[S]<=100))throw Error(`outlier detection config ${N} parse error: value out of range for percentage (0-100)`)}let OutlierDetectionLoadBalancingConfig=class OutlierDetectionLoadBalancingConfig{constructor(Q,S,R,N,M,L,U){if(this.childPolicy=U,U.length>0&&"pick_first"===U[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=Q?Q:1e4,this.baseEjectionTimeMs=null!=S?S:3e4,this.maxEjectionTimeMs=null!=R?R:3e5,this.maxEjectionPercent=null!=N?N:10,this.successRateEjection=M?Object.assign(Object.assign({},ei),M):null,this.failurePercentageEjection=L?Object.assign(Object.assign({},es),L):null}getLoadBalancerName(){return et}toJsonObject(){return{interval:(0,U.msToDuration)(this.intervalMs),base_ejection_time:(0,U.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,U.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(Q=>Q.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(Q){return new OutlierDetectionLoadBalancingConfig(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,Q)}static createFromJson(Q){var S;if(validatePositiveDuration(Q,"interval"),validatePositiveDuration(Q,"base_ejection_time"),validatePositiveDuration(Q,"max_ejection_time"),validatePercentage(Q,"max_ejection_percent"),"success_rate_ejection"in Q){if("object"!=typeof Q.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");validateFieldType(Q.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),validatePercentage(Q.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),validateFieldType(Q.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),validateFieldType(Q.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in Q){if("object"!=typeof Q.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");validatePercentage(Q.failure_percentage_ejection,"threshold","failure_percentage_ejection"),validatePercentage(Q.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),validateFieldType(Q.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),validateFieldType(Q.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new OutlierDetectionLoadBalancingConfig(Q.interval?(0,U.durationToMs)(Q.interval):null,Q.base_ejection_time?(0,U.durationToMs)(Q.base_ejection_time):null,Q.max_ejection_time?(0,U.durationToMs)(Q.max_ejection_time):null,null!==(S=Q.max_ejection_percent)&&void 0!==S?S:null,Q.success_rate_ejection,Q.failure_percentage_ejection,Q.child_policy.map(Y.validateLoadBalancingConfig))}};S.OutlierDetectionLoadBalancingConfig=OutlierDetectionLoadBalancingConfig;let OutlierDetectionSubchannelWrapper=class OutlierDetectionSubchannelWrapper extends Z.BaseSubchannelWrapper{constructor(Q,S){super(Q),this.mapEntry=S,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=Q.getConnectivityState(),Q.addConnectivityStateListener((Q,S,R,N)=>{if(this.childSubchannelState=R,!this.ejected)for(let Q of this.stateListeners)Q(this,S,R,N)})}getConnectivityState(){return this.ejected?M.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(Q){this.stateListeners.push(Q)}removeConnectivityStateListener(Q){let S=this.stateListeners.indexOf(Q);S>-1&&this.stateListeners.splice(S,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let Q=this.mapEntry.subchannelWrappers.indexOf(this);Q>=0&&this.mapEntry.subchannelWrappers.splice(Q,1)}}eject(){for(let Q of(this.ejected=!0,this.stateListeners))Q(this,this.childSubchannelState,M.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let Q of(this.ejected=!1,this.stateListeners))Q(this,M.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function createEmptyBucket(){return{success:0,failure:0}}let CallCounter=class CallCounter{constructor(){this.activeBucket=createEmptyBucket(),this.inactiveBucket=createEmptyBucket()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=createEmptyBucket()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}};let OutlierDetectionPicker=class OutlierDetectionPicker{constructor(Q,S){this.wrappedPicker=Q,this.countCalls=S}pick(Q){let S=this.wrappedPicker.pick(Q);if(S.pickResultType!==K.PickResultType.COMPLETE)return S;{let Q=S.subchannel,R=Q.getMapEntry();if(!R)return Object.assign(Object.assign({},S),{subchannel:Q.getWrappedSubchannel()});{let N=S.onCallEnded;return this.countCalls&&(N=Q=>{var N;Q===L.Status.OK?R.counter.addSuccess():R.counter.addFailure(),null===(N=S.onCallEnded)||void 0===N||N.call(S,Q)}),Object.assign(Object.assign({},S),{subchannel:Q.getWrappedSubchannel(),onCallEnded:N})}}}};let OutlierDetectionLoadBalancer=class OutlierDetectionLoadBalancer{constructor(Q){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new W.ChildLoadBalancerHandler((0,P.createChildChannelControlHelper)(Q,{createSubchannel:(S,R)=>{let N=Q.createSubchannel(S,R),M=this.addressMap.get((0,X.subchannelAddressToString)(S)),L=new OutlierDetectionSubchannelWrapper(N,M);return(null==M?void 0:M.currentEjectionTimestamp)!==null&&L.eject(),null==M||M.subchannelWrappers.push(L),L},updateState:(S,R)=>{S===M.ConnectivityState.READY?Q.updateState(S,new OutlierDetectionPicker(R,this.isCountingEnabled())):Q.updateState(S,R)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let Q=0;for(let S of this.addressMap.values())null!==S.currentEjectionTimestamp&&(Q+=1);return 100*Q/this.addressMap.size}runSuccessRateCheck(Q){if(!this.latestConfig)return;let S=this.latestConfig.getSuccessRateEjectionConfig();if(!S)return;trace("Running success rate check");let R=S.request_volume,N=0,M=[];for(let[Q,S]of this.addressMap){let L=S.counter.getLastSuccesses(),U=S.counter.getLastFailures();trace("Stats for "+Q+": successes="+L+" failures="+U+" targetRequestVolume="+R),L+U>=R&&(N+=1,M.push(L/(L+U)))}if(trace("Found "+N+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+M+"]"),N<S.minimum_hosts)return;let L=M.reduce((Q,S)=>Q+S)/M.length,U=0;for(let Q of M){let S=Q-L;U+=S*S}let P=U/M.length,Y=Math.sqrt(P),W=L-Y*(S.stdev_factor/1e3);for(let[N,M]of(trace("stdev="+Y+" ejectionThreshold="+W),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let L=M.counter.getLastSuccesses(),U=M.counter.getLastFailures();if(L+U<R)continue;let P=L/(L+U);if(trace("Checking candidate "+N+" successRate="+P),P<W){let R=100*Math.random();trace("Candidate "+N+" randomNumber="+R+" enforcement_percentage="+S.enforcement_percentage),R<S.enforcement_percentage&&(trace("Ejecting candidate "+N),this.eject(M,Q))}}}runFailurePercentageCheck(Q){if(!this.latestConfig)return;let S=this.latestConfig.getFailurePercentageEjectionConfig();if(!S)return;trace("Running failure percentage check. threshold="+S.threshold+" request volume threshold="+S.request_volume);let R=0;for(let Q of this.addressMap.values()){let N=Q.counter.getLastSuccesses(),M=Q.counter.getLastFailures();N+M>=S.request_volume&&(R+=1)}if(!(R<S.minimum_hosts))for(let[R,N]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let M=N.counter.getLastSuccesses(),L=N.counter.getLastFailures();if(trace("Candidate successes="+M+" failures="+L),M+L<S.request_volume)continue;let U=100*L/(L+M);if(U>S.threshold){let M=100*Math.random();trace("Candidate "+R+" randomNumber="+M+" enforcement_percentage="+S.enforcement_percentage),M<S.enforcement_percentage&&(trace("Ejecting candidate "+R),this.eject(N,Q))}}}eject(Q,S){for(let S of(Q.currentEjectionTimestamp=new Date,Q.ejectionTimeMultiplier+=1,Q.subchannelWrappers))S.eject()}uneject(Q){for(let S of(Q.currentEjectionTimestamp=null,Q.subchannelWrappers))S.uneject()}switchAllBuckets(){for(let Q of this.addressMap.values())Q.counter.switchBuckets()}startTimer(Q){var S,R;this.ejectionTimer=setTimeout(()=>this.runChecks(),Q),null===(R=(S=this.ejectionTimer).unref)||void 0===R||R.call(S)}runChecks(){let Q=new Date;if(trace("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[S,R]of(this.timerStartTime=Q,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(Q),this.runFailurePercentageCheck(Q),this.addressMap.entries()))if(null===R.currentEjectionTimestamp)R.ejectionTimeMultiplier>0&&(R.ejectionTimeMultiplier-=1);else{let Q=this.latestConfig.getBaseEjectionTimeMs(),N=this.latestConfig.getMaxEjectionTimeMs(),M=new Date(R.currentEjectionTimestamp.getTime());M.setMilliseconds(M.getMilliseconds()+Math.min(Q*R.ejectionTimeMultiplier,Math.max(Q,N))),M<new Date&&(trace("Unejecting "+S),this.uneject(R))}}updateAddressList(Q,S,R){if(!(S instanceof OutlierDetectionLoadBalancingConfig))return;let N=new Set;for(let S of Q)N.add((0,X.subchannelAddressToString)(S));for(let Q of N)this.addressMap.has(Q)||(trace("Adding map entry for "+Q),this.addressMap.set(Q,{counter:new CallCounter,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let Q of this.addressMap.keys())N.has(Q)||(trace("Removing map entry for "+Q),this.addressMap.delete(Q));let M=(0,Y.getFirstUsableConfig)(S.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(Q,M,R),S.getSuccessRateEjectionConfig()||S.getFailurePercentageEjectionConfig()){if(this.timerStartTime){trace("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let Q=S.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(Q)}else trace("Starting new timer"),this.timerStartTime=new Date,this.startTimer(S.getIntervalMs()),this.switchAllBuckets()}else for(let Q of(trace("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(Q),Q.ejectionTimeMultiplier=0;this.latestConfig=S}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return et}};function setup(){en&&(0,P.registerLoadBalancerType)(et,OutlierDetectionLoadBalancer,OutlierDetectionLoadBalancingConfig)}S.OutlierDetectionLoadBalancer=OutlierDetectionLoadBalancer,S.setup=setup},72190:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setup=S.PickFirstLoadBalancer=S.shuffled=S.PickFirstLoadBalancingConfig=void 0;let N=R(77203),M=R(91360),L=R(32939),U=R(68200),P=R(69238),Y="pick_first";function trace(Q){U.trace(P.LogVerbosity.DEBUG,Y,Q)}let W="pick_first",K=250;let PickFirstLoadBalancingConfig=class PickFirstLoadBalancingConfig{constructor(Q){this.shuffleAddressList=Q}getLoadBalancerName(){return W}toJsonObject(){return{[W]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(Q){if("shuffleAddressList"in Q&&"boolean"!=typeof Q.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new PickFirstLoadBalancingConfig(!0===Q.shuffleAddressList)}};S.PickFirstLoadBalancingConfig=PickFirstLoadBalancingConfig;let PickFirstPicker=class PickFirstPicker{constructor(Q){this.subchannel=Q}pick(Q){return{pickResultType:L.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function shuffled(Q){let S=Q.slice();for(let Q=S.length-1;Q>1;Q--){let R=Math.floor(Math.random()*(Q+1)),N=S[Q];S[Q]=S[R],S[R]=N}return S}S.shuffled=shuffled;let PickFirstLoadBalancer=class PickFirstLoadBalancer{constructor(Q){this.channelControlHelper=Q,this.children=[],this.currentState=M.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(Q,S,R,N,M)=>{this.onSubchannelStateUpdate(Q,S,R,M)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(Q=>Q.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(M.ConnectivityState.READY,new PickFirstPicker(this.currentPick)):0===this.children.length?this.updateState(M.ConnectivityState.IDLE,new L.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(M.ConnectivityState.TRANSIENT_FAILURE,new L.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(M.ConnectivityState.CONNECTING,new L.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:Q}of(this.stickyTransientFailureMode=!0,this.children))Q.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let Q=this.currentPick;this.currentPick=null,Q.unref(),Q.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(Q.getChannelzRef())}}onSubchannelStateUpdate(Q,S,R,N){var L;if(null===(L=this.currentPick)||void 0===L?void 0:L.realSubchannelEquals(Q)){R!==M.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[S,L]of this.children.entries())if(Q.realSubchannelEquals(L.subchannel)){R===M.ConnectivityState.READY&&this.pickSubchannel(L.subchannel),R===M.ConnectivityState.TRANSIENT_FAILURE&&(L.hasReportedTransientFailure=!0,N&&(this.lastError=N),this.maybeEnterStickyTransientFailureMode(),S===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(S+1)),L.subchannel.startConnecting();return}}startNextSubchannelConnecting(Q){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[S,R]of this.children.entries())if(S>=Q){let Q=R.subchannel.getConnectivityState();if(Q===M.ConnectivityState.IDLE||Q===M.ConnectivityState.CONNECTING){this.startConnecting(S);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(Q){var S,R;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=Q,this.children[Q].subchannel.getConnectivityState()===M.ConnectivityState.IDLE&&(trace("Start connecting to subchannel with address "+this.children[Q].subchannel.getAddress()),process.nextTick(()=>{var S;null===(S=this.children[Q])||void 0===S||S.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(R=(S=setTimeout(()=>{this.startNextSubchannelConnecting(Q+1)},K)).unref)||void 0===R?void 0:R.call(S)}pickSubchannel(Q){this.currentPick&&Q.realSubchannelEquals(this.currentPick)||(trace("Pick subchannel with address "+Q.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=Q,Q.ref(),this.channelControlHelper.addChannelzChild(Q.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(Q,S){trace(M.ConnectivityState[this.currentState]+" -> "+M.ConnectivityState[Q]),this.currentState=Q,this.channelControlHelper.updateState(Q,S)}resetSubchannelList(){for(let Q of this.children)this.currentPick&&Q.subchannel.realSubchannelEquals(this.currentPick)||Q.subchannel.removeConnectivityStateListener(this.subchannelStateListener),Q.subchannel.unref(),this.channelControlHelper.removeChannelzChild(Q.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(Q){let S=Q.map(Q=>({subchannel:this.channelControlHelper.createSubchannel(Q,{}),hasReportedTransientFailure:!1}));for(let{subchannel:Q}of S)Q.ref(),this.channelControlHelper.addChannelzChild(Q.getChannelzRef());for(let{subchannel:Q}of(this.resetSubchannelList(),this.children=S,this.children))if(Q.addConnectivityStateListener(this.subchannelStateListener),Q.getConnectivityState()===M.ConnectivityState.READY){this.pickSubchannel(Q);return}for(let Q of this.children)Q.subchannel.getConnectivityState()===M.ConnectivityState.TRANSIENT_FAILURE&&(Q.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(Q,S){S instanceof PickFirstLoadBalancingConfig&&(S.getShuffleAddressList()&&(Q=shuffled(Q)),this.latestAddressList=Q,this.connectToAddressList(Q))}exitIdle(){this.currentState===M.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return W}};function setup(){(0,N.registerLoadBalancerType)(W,PickFirstLoadBalancer,PickFirstLoadBalancingConfig),(0,N.registerDefaultLoadBalancerType)(W)}S.PickFirstLoadBalancer=PickFirstLoadBalancer,S.setup=setup},19580:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setup=S.RoundRobinLoadBalancer=void 0;let N=R(77203),M=R(91360),L=R(32939),U=R(72782),P=R(68200),Y=R(69238),W="round_robin";function trace(Q){P.trace(Y.LogVerbosity.DEBUG,W,Q)}let K="round_robin";let RoundRobinLoadBalancingConfig=class RoundRobinLoadBalancingConfig{getLoadBalancerName(){return K}constructor(){}toJsonObject(){return{[K]:{}}}static createFromJson(Q){return new RoundRobinLoadBalancingConfig}};let RoundRobinPicker=class RoundRobinPicker{constructor(Q,S=0){this.subchannelList=Q,this.nextIndex=S}pick(Q){let S=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:L.PickResultType.COMPLETE,subchannel:S,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}};let RoundRobinLoadBalancer=class RoundRobinLoadBalancer{constructor(Q){this.channelControlHelper=Q,this.subchannels=[],this.currentState=M.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(Q,S,R,N,L)=>{this.calculateAndUpdateState(),(R===M.ConnectivityState.TRANSIENT_FAILURE||R===M.ConnectivityState.IDLE)&&(L&&(this.lastError=L),this.channelControlHelper.requestReresolution(),Q.startConnecting())}}countSubchannelsWithState(Q){return this.subchannels.filter(S=>S.getConnectivityState()===Q).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(M.ConnectivityState.READY)>0){let Q=this.subchannels.filter(Q=>Q.getConnectivityState()===M.ConnectivityState.READY),S=0;null!==this.currentReadyPicker&&(S=Q.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(S=0),this.updateState(M.ConnectivityState.READY,new RoundRobinPicker(Q,S))}else this.countSubchannelsWithState(M.ConnectivityState.CONNECTING)>0?this.updateState(M.ConnectivityState.CONNECTING,new L.QueuePicker(this)):this.countSubchannelsWithState(M.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(M.ConnectivityState.TRANSIENT_FAILURE,new L.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(M.ConnectivityState.IDLE,new L.QueuePicker(this))}updateState(Q,S){trace(M.ConnectivityState[this.currentState]+" -> "+M.ConnectivityState[Q]),Q===M.ConnectivityState.READY?this.currentReadyPicker=S:this.currentReadyPicker=null,this.currentState=Q,this.channelControlHelper.updateState(Q,S)}resetSubchannelList(){for(let Q of this.subchannels)Q.removeConnectivityStateListener(this.subchannelStateListener),Q.unref(),this.channelControlHelper.removeChannelzChild(Q.getChannelzRef());this.subchannels=[]}updateAddressList(Q,S){for(let S of(this.resetSubchannelList(),trace("Connect to address list "+Q.map(Q=>(0,U.subchannelAddressToString)(Q))),this.subchannels=Q.map(Q=>this.channelControlHelper.createSubchannel(Q,{})),this.subchannels)){S.ref(),S.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(S.getChannelzRef());let Q=S.getConnectivityState();(Q===M.ConnectivityState.IDLE||Q===M.ConnectivityState.TRANSIENT_FAILURE)&&S.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let Q of this.subchannels)Q.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return K}};function setup(){(0,N.registerLoadBalancerType)(K,RoundRobinLoadBalancer,RoundRobinLoadBalancingConfig)}S.RoundRobinLoadBalancer=RoundRobinLoadBalancer,S.setup=setup},77203:(Q,S)=>{"use strict";function createChildChannelControlHelper(Q,S){var R,N,M,L,U,P,Y,W,K,X;return{createSubchannel:null!==(N=null===(R=S.createSubchannel)||void 0===R?void 0:R.bind(S))&&void 0!==N?N:Q.createSubchannel.bind(Q),updateState:null!==(L=null===(M=S.updateState)||void 0===M?void 0:M.bind(S))&&void 0!==L?L:Q.updateState.bind(Q),requestReresolution:null!==(P=null===(U=S.requestReresolution)||void 0===U?void 0:U.bind(S))&&void 0!==P?P:Q.requestReresolution.bind(Q),addChannelzChild:null!==(W=null===(Y=S.addChannelzChild)||void 0===Y?void 0:Y.bind(S))&&void 0!==W?W:Q.addChannelzChild.bind(Q),removeChannelzChild:null!==(X=null===(K=S.removeChannelzChild)||void 0===K?void 0:K.bind(S))&&void 0!==X?X:Q.removeChannelzChild.bind(Q)}}Object.defineProperty(S,"__esModule",{value:!0}),S.validateLoadBalancingConfig=S.getFirstUsableConfig=S.isLoadBalancerNameRegistered=S.createLoadBalancer=S.registerDefaultLoadBalancerType=S.registerLoadBalancerType=S.createChildChannelControlHelper=void 0,S.createChildChannelControlHelper=createChildChannelControlHelper;let R={},N=null;function registerLoadBalancerType(Q,S,N){R[Q]={LoadBalancer:S,LoadBalancingConfig:N}}function registerDefaultLoadBalancerType(Q){N=Q}function createLoadBalancer(Q,S){let N=Q.getLoadBalancerName();return N in R?new R[N].LoadBalancer(S):null}function isLoadBalancerNameRegistered(Q){return Q in R}function getFirstUsableConfig(Q,S=!1){for(let S of Q)if(S.getLoadBalancerName() in R)return S;return S&&N?new R[N].LoadBalancingConfig:null}function validateLoadBalancingConfig(Q){if(!(null!==Q&&"object"==typeof Q))throw Error("Load balancing config must be an object");let S=Object.keys(Q);if(1!==S.length)throw Error("Provided load balancing config has multiple conflicting entries");let N=S[0];if(N in R)return R[N].LoadBalancingConfig.createFromJson(Q[N]);throw Error(`Unrecognized load balancing config name ${N}`)}S.registerLoadBalancerType=registerLoadBalancerType,S.registerDefaultLoadBalancerType=registerDefaultLoadBalancerType,S.createLoadBalancer=createLoadBalancer,S.isLoadBalancerNameRegistered=isLoadBalancerNameRegistered,S.getFirstUsableConfig=getFirstUsableConfig,S.validateLoadBalancingConfig=validateLoadBalancingConfig},80439:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.LoadBalancingCall=void 0;let N=R(91360),M=R(69238),L=R(50823),U=R(32908),P=R(32939),Y=R(14717),W=R(68200),K=R(6614),X=R(85158),Z="load_balancing_call";let LoadBalancingCall=class LoadBalancingCall{constructor(Q,S,R,N,M,L,U){var P,W;this.channel=Q,this.callConfig=S,this.methodName=R,this.host=N,this.credentials=M,this.deadline=L,this.callNumber=U,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let K=this.methodName.split("/"),X="";K.length>=2&&(X=K[1]);let Z=null!==(W=null===(P=(0,Y.splitHostPort)(this.host))||void 0===P?void 0:P.host)&&void 0!==W?W:"localhost";this.serviceUrl=`https://${Z}/${X}`}trace(Q){W.trace(M.LogVerbosity.DEBUG,Z,"["+this.callNumber+"] "+Q)}outputStatus(Q,S){var R,N;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+Q.code+' details="'+Q.details+'"');let M=Object.assign(Object.assign({},Q),{progress:S});null===(R=this.listener)||void 0===R||R.onReceiveStatus(M),null===(N=this.onCallEnded)||void 0===N||N.call(this,M.code)}}doPick(){var Q,S;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let R=this.channel.doPick(this.metadata,this.callConfig.pickInformation),Y=R.subchannel?"("+R.subchannel.getChannelzRef().id+") "+R.subchannel.getAddress():""+R.subchannel;switch(this.trace("Pick result: "+P.PickResultType[R.pickResultType]+" subchannel: "+Y+" status: "+(null===(Q=R.status)||void 0===Q?void 0:Q.code)+" "+(null===(S=R.status)||void 0===S?void 0:S.details)),R.pickResultType){case P.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(Q=>{var S,P,W;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let K=this.metadata.clone();if(K.merge(Q),K.get("authorization").length>1&&this.outputStatus({code:M.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new U.Metadata},"PROCESSED"),R.subchannel.getConnectivityState()!==N.ConnectivityState.READY){this.trace("Picked subchannel "+Y+" has state "+N.ConnectivityState[R.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&K.set("grpc-timeout",(0,L.getDeadlineTimeoutString)(this.deadline));try{this.child=R.subchannel.getRealSubchannel().createCall(K,this.host,this.methodName,{onReceiveMetadata:Q=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(Q)},onReceiveMessage:Q=>{this.trace("Received message"),this.listener.onReceiveMessage(Q)},onReceiveStatus:Q=>{this.trace("Received status"),Q.rstCode===X.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(Q,"REFUSED"):this.outputStatus(Q,"PROCESSED")}})}catch(Q){this.trace("Failed to start call on picked subchannel "+Y+" with error "+Q.message),this.outputStatus({code:M.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+Q.message,metadata:new U.Metadata},"NOT_STARTED");return}null===(P=(S=this.callConfig).onCommitted)||void 0===P||P.call(S),null===(W=R.onCallStarted)||void 0===W||W.call(R),this.onCallEnded=R.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},Q=>{let{code:S,details:R}=(0,K.restrictControlPlaneStatusCode)("number"==typeof Q.code?Q.code:M.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${Q.message}`);this.outputStatus({code:S,details:R,metadata:new U.Metadata},"PROCESSED")});break;case P.PickResultType.DROP:let{code:W,details:Z}=(0,K.restrictControlPlaneStatusCode)(R.status.code,R.status.details);setImmediate(()=>{this.outputStatus({code:W,details:Z,metadata:R.status.metadata},"DROP")});break;case P.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:Q,details:S}=(0,K.restrictControlPlaneStatusCode)(R.status.code,R.status.details);setImmediate(()=>{this.outputStatus({code:Q,details:S,metadata:R.status.metadata},"PROCESSED")})}break;case P.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(Q,S){var R;this.trace("cancelWithStatus code: "+Q+' details: "'+S+'"'),null===(R=this.child)||void 0===R||R.cancelWithStatus(Q,S),this.outputStatus({code:Q,details:S,metadata:new U.Metadata},"PROCESSED")}getPeer(){var Q,S;return null!==(S=null===(Q=this.child)||void 0===Q?void 0:Q.getPeer())&&void 0!==S?S:this.channel.getTarget()}start(Q,S){this.trace("start called"),this.listener=S,this.metadata=Q,this.doPick()}sendMessageWithContext(Q,S){this.trace("write() called with message of length "+S.length),this.child?this.child.sendMessageWithContext(Q,S):this.pendingMessage={context:Q,message:S}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(Q){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}};S.LoadBalancingCall=LoadBalancingCall},68200:(Q,S,R)=>{"use strict";var N,M,L,U;Object.defineProperty(S,"__esModule",{value:!0}),S.isTracerEnabled=S.trace=S.log=S.setLoggerVerbosity=S.setLogger=S.getLogger=void 0;let P=R(69238),Y=R(77282),W=R(81513).i8,K={error:(Q,...S)=>{console.error("E "+Q,...S)},info:(Q,...S)=>{console.error("I "+Q,...S)},debug:(Q,...S)=>{console.error("D "+Q,...S)}},X=K,Z=P.LogVerbosity.ERROR,$=null!==(M=null!==(N=process.env.GRPC_NODE_VERBOSITY)&&void 0!==N?N:process.env.GRPC_VERBOSITY)&&void 0!==M?M:"";switch($.toUpperCase()){case"DEBUG":Z=P.LogVerbosity.DEBUG;break;case"INFO":Z=P.LogVerbosity.INFO;break;case"ERROR":Z=P.LogVerbosity.ERROR;break;case"NONE":Z=P.LogVerbosity.NONE}let getLogger=()=>X;S.getLogger=getLogger;let setLogger=Q=>{X=Q};S.setLogger=setLogger;let setLoggerVerbosity=Q=>{Z=Q};S.setLoggerVerbosity=setLoggerVerbosity;let log=(Q,...S)=>{let R;if(Q>=Z){switch(Q){case P.LogVerbosity.DEBUG:R=X.debug;break;case P.LogVerbosity.INFO:R=X.info;break;case P.LogVerbosity.ERROR:R=X.error}R||(R=X.error),R&&R.bind(X)(...S)}};S.log=log;let ee=null!==(U=null!==(L=process.env.GRPC_NODE_TRACE)&&void 0!==L?L:process.env.GRPC_TRACE)&&void 0!==U?U:"",et=new Set,en=new Set;for(let Q of ee.split(","))Q.startsWith("-")?en.add(Q.substring(1)):et.add(Q);let ei=et.has("all");function trace(Q,R,N){isTracerEnabled(R)&&(0,S.log)(Q,new Date().toISOString()+" | v"+W+" "+Y.pid+" | "+R+" | "+N)}function isTracerEnabled(Q){return!en.has(Q)&&(ei||et.has(Q))}S.trace=trace,S.isTracerEnabled=isTracerEnabled},47697:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.loadPackageDefinition=S.makeClientConstructor=void 0;let N=R(47307),M={unary:N.Client.prototype.makeUnaryRequest,server_stream:N.Client.prototype.makeServerStreamRequest,client_stream:N.Client.prototype.makeClientStreamRequest,bidi:N.Client.prototype.makeBidiStreamRequest};function isPrototypePolluted(Q){return["__proto__","prototype","constructor"].includes(Q)}function makeClientConstructor(Q,S,R){R||(R={});let ServiceClientImpl=class ServiceClientImpl extends N.Client{};return Object.keys(Q).forEach(S=>{let R;if(isPrototypePolluted(S))return;let N=Q[S];if("string"==typeof S&&"$"===S.charAt(0))throw Error("Method names cannot start with $");R=N.requestStream?N.responseStream?"bidi":"client_stream":N.responseStream?"server_stream":"unary";let L=N.requestSerialize,U=N.responseDeserialize,P=partial(M[R],N.path,L,U);ServiceClientImpl.prototype[S]=P,Object.assign(ServiceClientImpl.prototype[S],N),N.originalName&&!isPrototypePolluted(N.originalName)&&(ServiceClientImpl.prototype[N.originalName]=ServiceClientImpl.prototype[S])}),ServiceClientImpl.service=Q,ServiceClientImpl.serviceName=S,ServiceClientImpl}function partial(Q,S,R,N){return function(...M){return Q.call(this,S,R,N,...M)}}function isProtobufTypeDefinition(Q){return"format"in Q}function loadPackageDefinition(Q){let S={};for(let R in Q)if(Object.prototype.hasOwnProperty.call(Q,R)){let N=Q[R],M=R.split(".");if(M.some(Q=>isPrototypePolluted(Q)))continue;let L=M[M.length-1],U=S;for(let Q of M.slice(0,-1))U[Q]||(U[Q]={}),U=U[Q];isProtobufTypeDefinition(N)?U[L]=N:U[L]=makeClientConstructor(N,L,{})}return S}S.makeClientConstructor=makeClientConstructor,S.loadPackageDefinition=loadPackageDefinition},41732:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MaxMessageSizeFilterFactory=S.MaxMessageSizeFilter=void 0;let N=R(81818),M=R(69238),L=R(32908);let MaxMessageSizeFilter=class MaxMessageSizeFilter extends N.BaseFilter{constructor(Q){super(),this.maxSendMessageSize=M.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=M.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in Q&&(this.maxSendMessageSize=Q["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in Q&&(this.maxReceiveMessageSize=Q["grpc.max_receive_message_length"])}async sendMessage(Q){if(-1===this.maxSendMessageSize)return Q;{let S=await Q;if(!(S.message.length>this.maxSendMessageSize))return S;throw{code:M.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${S.message.length} vs. ${this.maxSendMessageSize})`,metadata:new L.Metadata}}}async receiveMessage(Q){if(-1===this.maxReceiveMessageSize)return Q;{let S=await Q;if(!(S.length>this.maxReceiveMessageSize))return S;throw{code:M.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${S.length} vs. ${this.maxReceiveMessageSize})`,metadata:new L.Metadata}}}};S.MaxMessageSizeFilter=MaxMessageSizeFilter;let MaxMessageSizeFilterFactory=class MaxMessageSizeFilterFactory{constructor(Q){this.options=Q}createFilter(){return new MaxMessageSizeFilter(this.options)}};S.MaxMessageSizeFilterFactory=MaxMessageSizeFilterFactory},32908:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Metadata=void 0;let N=R(68200),M=R(69238),L=R(9006),U=/^[0-9a-z_.-]+$/,P=/^[ -~]*$/;function isLegalKey(Q){return U.test(Q)}function isLegalNonBinaryValue(Q){return P.test(Q)}function isBinaryKey(Q){return Q.endsWith("-bin")}function isCustomMetadata(Q){return!Q.startsWith("grpc-")}function normalizeKey(Q){return Q.toLowerCase()}function validate(Q,S){if(!isLegalKey(Q))throw Error('Metadata key "'+Q+'" contains illegal characters');if(null!=S){if(isBinaryKey(Q)){if(!Buffer.isBuffer(S))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(S))throw Error("keys that don't end with '-bin' must have String values");if(!isLegalNonBinaryValue(S))throw Error('Metadata string value "'+S+'" contains illegal characters')}}}let Metadata=class Metadata{constructor(Q={}){this.internalRepr=new Map,this.options=Q}set(Q,S){validate(Q=normalizeKey(Q),S),this.internalRepr.set(Q,[S])}add(Q,S){validate(Q=normalizeKey(Q),S);let R=this.internalRepr.get(Q);void 0===R?this.internalRepr.set(Q,[S]):R.push(S)}remove(Q){Q=normalizeKey(Q),this.internalRepr.delete(Q)}get(Q){return Q=normalizeKey(Q),this.internalRepr.get(Q)||[]}getMap(){let Q={};for(let[S,R]of this.internalRepr)if(R.length>0){let N=R[0];Q[S]=Buffer.isBuffer(N)?Buffer.from(N):N}return Q}clone(){let Q=new Metadata(this.options),S=Q.internalRepr;for(let[Q,R]of this.internalRepr){let N=R.map(Q=>Buffer.isBuffer(Q)?Buffer.from(Q):Q);S.set(Q,N)}return Q}merge(Q){for(let[S,R]of Q.internalRepr){let Q=(this.internalRepr.get(S)||[]).concat(R);this.internalRepr.set(S,Q)}}setOptions(Q){this.options=Q}getOptions(){return this.options}toHttp2Headers(){let Q={};for(let[S,R]of this.internalRepr)Q[S]=R.map(bufToString);return Q}toJSON(){let Q={};for(let[S,R]of this.internalRepr)Q[S]=R;return Q}static fromHttp2Headers(Q){let S=new Metadata;for(let R of Object.keys(Q)){if(":"===R.charAt(0))continue;let U=Q[R];try{isBinaryKey(R)?Array.isArray(U)?U.forEach(Q=>{S.add(R,Buffer.from(Q,"base64"))}):void 0!==U&&(isCustomMetadata(R)?U.split(",").forEach(Q=>{S.add(R,Buffer.from(Q.trim(),"base64"))}):S.add(R,Buffer.from(U,"base64"))):Array.isArray(U)?U.forEach(Q=>{S.add(R,Q)}):void 0!==U&&S.add(R,U)}catch(S){let Q=`Failed to add metadata entry ${R}: ${U}. ${(0,L.getErrorMessage)(S)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,N.log)(M.LogVerbosity.ERROR,Q)}}return S}};S.Metadata=Metadata;let bufToString=Q=>Buffer.isBuffer(Q)?Q.toString("base64"):Q},32939:(Q,S,R)=>{"use strict";var N;Object.defineProperty(S,"__esModule",{value:!0}),S.QueuePicker=S.UnavailablePicker=S.PickResultType=void 0;let M=R(32908),L=R(69238);!function(Q){Q[Q.COMPLETE=0]="COMPLETE",Q[Q.QUEUE=1]="QUEUE",Q[Q.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",Q[Q.DROP=3]="DROP"}(N||(S.PickResultType=N={}));let UnavailablePicker=class UnavailablePicker{constructor(Q){this.status=Object.assign({code:L.Status.UNAVAILABLE,details:"No connection established",metadata:new M.Metadata},Q)}pick(Q){return{pickResultType:N.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};S.UnavailablePicker=UnavailablePicker;let QueuePicker=class QueuePicker{constructor(Q){this.loadBalancer=Q,this.calledExitIdle=!1}pick(Q){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:N.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};S.QueuePicker=QueuePicker},84988:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setup=S.DEFAULT_PORT=void 0;let N=R(14755),M=R(9523),L=R(73837),U=R(45914),P=R(69238),Y=R(32908),W=R(68200),K=R(69238),X=R(14717),Z=R(41808),$=R(77257),ee="dns_resolver";function trace(Q){W.trace(K.LogVerbosity.DEBUG,ee,Q)}S.DEFAULT_PORT=443;let et=3e4,en=L.promisify(M.resolveTxt),ei=L.promisify(M.lookup);function mergeArrays(...Q){let S=[];for(let R=0;R<Math.max.apply(null,Q.map(Q=>Q.length));R++)for(let N of Q)R<N.length&&S.push(N[R]);return S}let DnsResolver=class DnsResolver{constructor(Q,R,N){var M,L,U;this.target=Q,this.listener=R,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,trace("Resolver constructed for target "+(0,X.uriToString)(Q));let W=(0,X.splitHostPort)(Q.path);null===W?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,Z.isIPv4)(W.host)||(0,Z.isIPv6)(W.host)?(this.ipResult=[{host:W.host,port:null!==(M=W.port)&&void 0!==M?M:S.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=W.host,this.port=null!==(L=W.port)&&void 0!==L?L:S.DEFAULT_PORT),this.percentage=100*Math.random(),1===N["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:P.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,X.uriToString)(this.target)}`,metadata:new Y.Metadata};let K={initialDelay:N["grpc.initial_reconnect_backoff_ms"],maxDelay:N["grpc.max_reconnect_backoff_ms"]};this.backoff=new $.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},K),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(U=N["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==U?U:et,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(trace("Returning IP address for target "+(0,X.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)trace("Failed to parse DNS address "+(0,X.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:P.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,X.uriToString)(this.target)}`,metadata:new Y.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;trace("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let Q=this.dnsHostname;this.pendingLookupPromise=ei(Q,{all:!0}),this.pendingLookupPromise.then(Q=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let S=Q.filter(Q=>4===Q.family),R=Q.filter(Q=>6===Q.family);this.latestLookupResult=mergeArrays(R,S).map(Q=>({host:Q.address,port:+this.port}));let N="["+this.latestLookupResult.map(Q=>Q.host+":"+Q.port).join(",")+"]";if(trace("Resolved addresses for target "+(0,X.uriToString)(this.target)+": "+N),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},Q=>{null!==this.pendingLookupPromise&&(trace("Resolution error for target "+(0,X.uriToString)(this.target)+": "+Q.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=en(Q),this.pendingTxtPromise.then(Q=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,U.extractAndSelectServiceConfig)(Q,this.percentage)}catch(Q){this.latestServiceConfigError={code:P.Status.UNAVAILABLE,details:`Parsing service config failed with error ${Q.message}`,metadata:new Y.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},Q=>{}))}}startNextResolutionTimer(){var Q,S;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(S=(Q=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===S?void 0:S.call(Q),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?trace('resolution update delayed by "min time between resolutions" rate limit'):trace("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(Q){return Q.path}};function setup(){(0,N.registerResolver)("dns",DnsResolver),(0,N.registerDefaultScheme)("dns")}S.setup=setup},96633:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setup=void 0;let N=R(41808),M=R(69238),L=R(32908),U=R(14755),P=R(14717),Y=R(68200),W="ip_resolver";function trace(Q){Y.trace(M.LogVerbosity.DEBUG,W,Q)}let K="ipv4",X="ipv6",Z=443;let IpResolver=class IpResolver{constructor(Q,S,R){var U;this.listener=S,this.addresses=[],this.error=null,this.hasReturnedResult=!1,trace("Resolver constructed for target "+(0,P.uriToString)(Q));let Y=[];if(!(Q.scheme===K||Q.scheme===X)){this.error={code:M.Status.UNAVAILABLE,details:`Unrecognized scheme ${Q.scheme} in IP resolver`,metadata:new L.Metadata};return}let W=Q.path.split(",");for(let S of W){let R=(0,P.splitHostPort)(S);if(null===R||Q.scheme===K&&!(0,N.isIPv4)(R.host)||Q.scheme===X&&!(0,N.isIPv6)(R.host)){this.error={code:M.Status.UNAVAILABLE,details:`Failed to parse ${Q.scheme} address ${S}`,metadata:new L.Metadata};return}Y.push({host:R.host,port:null!==(U=R.port)&&void 0!==U?U:Z})}this.addresses=Y,trace("Parsed "+Q.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(Q){return Q.path.split(",")[0]}};function setup(){(0,U.registerResolver)(K,IpResolver),(0,U.registerResolver)(X,IpResolver)}S.setup=setup},50864:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setup=void 0;let N=R(14755);let UdsResolver=class UdsResolver{constructor(Q,S,R){let N;this.listener=S,this.addresses=[],this.hasReturnedResult=!1,N=""===Q.authority?"/"+Q.path:Q.path,this.addresses=[{path:N}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(Q){return"localhost"}};function setup(){(0,N.registerResolver)("unix",UdsResolver)}S.setup=setup},14755:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mapUriDefaultScheme=S.getDefaultAuthority=S.createResolver=S.registerDefaultScheme=S.registerResolver=void 0;let N=R(14717),M={},L=null;function registerResolver(Q,S){M[Q]=S}function registerDefaultScheme(Q){L=Q}function createResolver(Q,S,R){if(void 0!==Q.scheme&&Q.scheme in M)return new M[Q.scheme](Q,S,R);throw Error(`No resolver could be created for target ${(0,N.uriToString)(Q)}`)}function getDefaultAuthority(Q){if(void 0!==Q.scheme&&Q.scheme in M)return M[Q.scheme].getDefaultAuthority(Q);throw Error(`Invalid target ${(0,N.uriToString)(Q)}`)}function mapUriDefaultScheme(Q){return void 0!==Q.scheme&&Q.scheme in M?Q:null!==L?{scheme:L,authority:void 0,path:(0,N.uriToString)(Q)}:null}S.registerResolver=registerResolver,S.registerDefaultScheme=registerDefaultScheme,S.createResolver=createResolver,S.getDefaultAuthority=getDefaultAuthority,S.mapUriDefaultScheme=mapUriDefaultScheme},65700:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ResolvingCall=void 0;let N=R(69238),M=R(50823),L=R(32908),U=R(68200),P=R(6614),Y="resolving_call";let ResolvingCall=class ResolvingCall{constructor(Q,S,R,L,U,P){this.channel=Q,this.method=S,this.filterStackFactory=L,this.credentials=U,this.callNumber=P,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=R.deadline,this.host=R.host,R.parentCall&&(R.flags&N.Propagate.CANCELLATION&&R.parentCall.on("cancelled",()=>{this.cancelWithStatus(N.Status.CANCELLED,"Cancelled by parent call")}),R.flags&N.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+R.parentCall.getDeadline()),this.deadline=(0,M.minDeadline)(this.deadline,R.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(Q){U.trace(N.LogVerbosity.DEBUG,Y,"["+this.callNumber+"] "+Q)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,M.deadlineToString)(this.deadline));let Q=(0,M.getRelativeTimeout)(this.deadline);if(Q!==1/0){this.trace("Deadline will be reached in "+Q+"ms");let handleDeadline=()=>{this.cancelWithStatus(N.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};Q<=0?process.nextTick(handleDeadline):this.deadlineTimer=setTimeout(handleDeadline,Q)}}outputStatus(Q){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let S=this.filterStack.receiveTrailers(Q);this.trace("ended with status: code="+S.code+' details="'+S.details+'"'),this.statusWatchers.forEach(Q=>Q(S)),process.nextTick(()=>{var Q;null===(Q=this.listener)||void 0===Q||Q.onReceiveStatus(S)})}}sendMessageOnChild(Q,S){if(!this.child)throw Error("sendMessageonChild called with child not populated");let R=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:S,flags:Q.flags})).then(S=>{this.writeFilterPending=!1,R.sendMessageWithContext(Q,S.message),this.pendingHalfClose&&R.halfClose()},Q=>{this.cancelWithStatus(Q.code,Q.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let Q=this.channel.getConfig(this.method,this.metadata);if("NONE"===Q.type){this.channel.queueCallForConfig(this);return}if("ERROR"===Q.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(Q.error);return}let S=Q.config;if(S.status!==N.Status.OK){let{code:Q,details:R}=(0,P.restrictControlPlaneStatusCode)(S.status,"Failed to route call to method "+this.method);this.outputStatus({code:Q,details:R,metadata:new L.Metadata});return}if(S.methodConfig.timeout){let Q=new Date;Q.setSeconds(Q.getSeconds()+S.methodConfig.timeout.seconds),Q.setMilliseconds(Q.getMilliseconds()+S.methodConfig.timeout.nanos/1e6),this.deadline=(0,M.minDeadline)(this.deadline,Q),this.runDeadlineTimer()}this.filterStackFactory.push(S.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(Q=>{this.child=this.channel.createInnerCall(S,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(Q,{onReceiveMetadata:Q=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(Q))},onReceiveMessage:Q=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(Q).then(Q=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(Q),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},Q=>{this.cancelWithStatus(Q.code,Q.details)})},onReceiveStatus:Q=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=Q:this.outputStatus(Q)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},Q=>{this.outputStatus(Q)})}reportResolverError(Q){var S;(null===(S=this.metadata)||void 0===S?void 0:S.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(Q)}cancelWithStatus(Q,S){var R;this.trace("cancelWithStatus code: "+Q+' details: "'+S+'"'),null===(R=this.child)||void 0===R||R.cancelWithStatus(Q,S),this.outputStatus({code:Q,details:S,metadata:new L.Metadata})}getPeer(){var Q,S;return null!==(S=null===(Q=this.child)||void 0===Q?void 0:Q.getPeer())&&void 0!==S?S:this.channel.getTarget()}start(Q,S){this.trace("start called"),this.metadata=Q.clone(),this.listener=S,this.getConfig()}sendMessageWithContext(Q,S){this.trace("write() called with message of length "+S.length),this.child?this.sendMessageOnChild(Q,S):this.pendingMessage={context:Q,message:S}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(Q){this.credentials=this.credentials.compose(Q)}addStatusWatcher(Q){this.statusWatchers.push(Q)}getCallNumber(){return this.callNumber}};S.ResolvingCall=ResolvingCall},61839:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ResolvingLoadBalancer=void 0;let N=R(77203),M=R(45914),L=R(91360),U=R(14755),P=R(32939),Y=R(77257),W=R(69238),K=R(32908),X=R(68200),Z=R(69238),$=R(14717),ee=R(38390),et="resolving_load_balancer";function trace(Q){X.trace(Z.LogVerbosity.DEBUG,et,Q)}let en=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function hasMatchingName(Q,S,R,N){for(let M of R.name)switch(N){case"EMPTY":if(!M.service&&!M.method)return!0;break;case"SERVICE":if(M.service===Q&&!M.method)return!0;break;case"SERVICE_AND_METHOD":if(M.service===Q&&M.method===S)return!0}return!1}function findMatchingConfig(Q,S,R,N){for(let M of R)if(hasMatchingName(Q,S,M,N))return M;return null}function getDefaultConfigSelector(Q){return function(S,R){var N,M;let L=S.split("/").filter(Q=>Q.length>0),U=null!==(N=L[0])&&void 0!==N?N:"",P=null!==(M=L[1])&&void 0!==M?M:"";if(Q&&Q.methodConfig)for(let S of en){let R=findMatchingConfig(U,P,Q.methodConfig,S);if(R)return{methodConfig:R,pickInformation:{},status:W.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:W.Status.OK,dynamicFilterFactories:[]}}}let ResolvingLoadBalancer=class ResolvingLoadBalancer{constructor(Q,S,R,X,Z){this.target=Q,this.channelControlHelper=S,this.onSuccessfulResolution=X,this.onFailedResolution=Z,this.latestChildState=L.ConnectivityState.IDLE,this.latestChildPicker=new P.QueuePicker(this),this.currentState=L.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,R["grpc.service_config"]?this.defaultServiceConfig=(0,M.validateServiceConfig)(JSON.parse(R["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(L.ConnectivityState.IDLE,new P.QueuePicker(this)),this.childLoadBalancer=new ee.ChildLoadBalancerHandler({createSubchannel:S.createSubchannel.bind(S),requestReresolution:()=>{this.backoffTimeout.isRunning()?(trace("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(Q,S)=>{this.latestChildState=Q,this.latestChildPicker=S,this.updateState(Q,S)},addChannelzChild:S.addChannelzChild.bind(S),removeChannelzChild:S.removeChannelzChild.bind(S)}),this.innerResolver=(0,U.createResolver)(Q,{onSuccessfulResolution:(Q,S,R,M,L)=>{var U;this.backoffTimeout.stop(),this.backoffTimeout.reset();let P=null;null===S?null===R?(this.previousServiceConfig=null,P=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(R):P=this.previousServiceConfig:(P=S,this.previousServiceConfig=S);let Y=null!==(U=null==P?void 0:P.loadBalancingConfig)&&void 0!==U?U:[],X=(0,N.getFirstUsableConfig)(Y,!0);if(null===X){this.handleResolutionFailure({code:W.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new K.Metadata});return}this.childLoadBalancer.updateAddressList(Q,X,L);let Z=null!=P?P:this.defaultServiceConfig;this.onSuccessfulResolution(Z,null!=M?M:getDefaultConfigSelector(Z))},onError:Q=>{this.handleResolutionFailure(Q)}},R);let $={initialDelay:R["grpc.initial_reconnect_backoff_ms"],maxDelay:R["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Y.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},$),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===L.ConnectivityState.IDLE&&this.updateState(L.ConnectivityState.CONNECTING,new P.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(Q,S){trace((0,$.uriToString)(this.target)+" "+L.ConnectivityState[this.currentState]+" -> "+L.ConnectivityState[Q]),Q===L.ConnectivityState.IDLE&&(S=new P.QueuePicker(this)),this.currentState=Q,this.channelControlHelper.updateState(Q,S)}handleResolutionFailure(Q){this.latestChildState===L.ConnectivityState.IDLE&&(this.updateState(L.ConnectivityState.TRANSIENT_FAILURE,new P.UnavailablePicker(Q)),this.onFailedResolution(Q))}exitIdle(){(this.currentState===L.ConnectivityState.IDLE||this.currentState===L.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(Q,S){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=L.ConnectivityState.IDLE,this.latestChildPicker=new P.QueuePicker(this),this.currentState=L.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};S.ResolvingLoadBalancer=ResolvingLoadBalancer},97564:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RetryingCall=S.MessageBufferTracker=S.RetryThrottler=void 0;let N=R(69238),M=R(32908),L=R(68200),U="retrying_call";let RetryThrottler=class RetryThrottler{constructor(Q,S,R){this.maxTokens=Q,this.tokenRatio=S,R?this.tokens=R.tokens*(Q/R.maxTokens):this.tokens=Q}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};S.RetryThrottler=RetryThrottler;let MessageBufferTracker=class MessageBufferTracker{constructor(Q,S){this.totalLimit=Q,this.limitPerCall=S,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(Q,S){var R;let N=null!==(R=this.allocatedPerCall.get(S))&&void 0!==R?R:0;return!(this.limitPerCall-N<Q)&&!(this.totalLimit-this.totalAllocated<Q)&&(this.allocatedPerCall.set(S,N+Q),this.totalAllocated+=Q,!0)}free(Q,S){var R;if(this.totalAllocated<Q)throw Error(`Invalid buffer allocation state: call ${S} freed ${Q} > total allocated ${this.totalAllocated}`);this.totalAllocated-=Q;let N=null!==(R=this.allocatedPerCall.get(S))&&void 0!==R?R:0;if(N<Q)throw Error(`Invalid buffer allocation state: call ${S} freed ${Q} > allocated for call ${N}`);this.allocatedPerCall.set(S,N-Q)}freeAll(Q){var S;let R=null!==(S=this.allocatedPerCall.get(Q))&&void 0!==S?S:0;if(this.totalAllocated<R)throw Error(`Invalid buffer allocation state: call ${Q} allocated ${R} > total allocated ${this.totalAllocated}`);this.totalAllocated-=R,this.allocatedPerCall.delete(Q)}};S.MessageBufferTracker=MessageBufferTracker;let P="grpc-previous-rpc-attempts";let RetryingCall=class RetryingCall{constructor(Q,S,R,N,M,L,U,P,Y){if(this.channel=Q,this.callConfig=S,this.methodName=R,this.host=N,this.credentials=M,this.deadline=L,this.callNumber=U,this.bufferTracker=P,this.retryThrottler=Y,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,S.methodConfig.retryPolicy){this.state="RETRY";let Q=S.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(Q.initialBackoff.substring(0,Q.initialBackoff.length-1))}else S.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(Q){L.trace(N.LogVerbosity.DEBUG,U,"["+this.callNumber+"] "+Q)}reportStatus(Q){this.trace("ended with status: code="+Q.code+' details="'+Q.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var S;null===(S=this.listener)||void 0===S||S.onReceiveStatus({code:Q.code,details:Q.details,metadata:Q.metadata})})}cancelWithStatus(Q,S){for(let{call:R}of(this.trace("cancelWithStatus code: "+Q+' details: "'+S+'"'),this.reportStatus({code:Q,details:S,metadata:new M.Metadata}),this.underlyingCalls))R.cancelWithStatus(Q,S)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(Q){var S;return null!==(S=this.writeBuffer[Q-this.writeBufferOffset])&&void 0!==S?S:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let Q=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let S=this.writeBufferOffset;S<Q;S++){let Q=this.getBufferEntry(S);Q.allocated&&this.bufferTracker.free(Q.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(Q-this.writeBufferOffset),this.writeBufferOffset=Q}commitCall(Q){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[Q].state){this.trace("Committing call ["+this.underlyingCalls[Q].call.getCallNumber()+"] at index "+Q),this.state="COMMITTED",this.committedCallIndex=Q;for(let S=0;S<this.underlyingCalls.length;S++)S!==Q&&"COMPLETED"!==this.underlyingCalls[S].state&&(this.underlyingCalls[S].state="COMPLETED",this.underlyingCalls[S].call.cancelWithStatus(N.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let Q=-1,S=-1;for(let[R,N]of this.underlyingCalls.entries())"ACTIVE"===N.state&&N.nextMessageToSend>Q&&(Q=N.nextMessageToSend,S=R);-1===S?this.state="TRANSPARENT_ONLY":this.commitCall(S)}isStatusCodeInList(Q,S){return Q.some(Q=>Q===S||Q.toString().toLowerCase()===N.Status[S].toLowerCase())}getNextRetryBackoffMs(){var Q;let S=null===(Q=this.callConfig)||void 0===Q?void 0:Q.methodConfig.retryPolicy;if(!S)return 0;let R=Math.random()*this.nextRetryBackoffSec*1e3,N=Number(S.maxBackoff.substring(0,S.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*S.backoffMultiplier,N),R}maybeRetryCall(Q,S){let R;if("RETRY"!==this.state){S(!1);return}let N=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(N.maxAttempts,5)){S(!1);return}if(null===Q)R=this.getNextRetryBackoffMs();else if(Q<0){this.state="TRANSPARENT_ONLY",S(!1);return}else R=Q,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var Q,R;if("RETRY"!==this.state){S(!1);return}(null===(R=null===(Q=this.retryThrottler)||void 0===Q?void 0:Q.canRetryCall())||void 0===R||R)&&(S(!0),this.attempts+=1,this.startNewAttempt())},R)}countActiveCalls(){let Q=0;for(let S of this.underlyingCalls)(null==S?void 0:S.state)==="ACTIVE"&&(Q+=1);return Q}handleProcessedStatus(Q,S,R){var N,M,L;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(S),this.reportStatus(Q);break;case"HEDGING":if(this.isStatusCodeInList(null!==(N=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==N?N:[],Q.code)){let N;if(null===(M=this.retryThrottler)||void 0===M||M.addCallFailed(),null===R)N=0;else if(R<0){this.state="TRANSPARENT_ONLY",this.commitCall(S),this.reportStatus(Q);return}else N=R;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(S),this.reportStatus(Q))},N)}else this.commitCall(S),this.reportStatus(Q);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,Q.code)?(null===(L=this.retryThrottler)||void 0===L||L.addCallFailed(),this.maybeRetryCall(R,R=>{R||(this.commitCall(S),this.reportStatus(Q))})):(this.commitCall(S),this.reportStatus(Q))}}getPushback(Q){let S=Q.get("grpc-retry-pushback-ms");if(0===S.length)return null;try{return parseInt(S[0])}catch(Q){return -1}}handleChildStatus(Q,S){var R;if("COMPLETED"===this.underlyingCalls[S].state)return;if(this.trace("state="+this.state+" handling status with progress "+Q.progress+" from child ["+this.underlyingCalls[S].call.getCallNumber()+"] in state "+this.underlyingCalls[S].state),this.underlyingCalls[S].state="COMPLETED",Q.code===N.Status.OK){null===(R=this.retryThrottler)||void 0===R||R.addCallSucceeded(),this.commitCall(S),this.reportStatus(Q);return}if("COMMITTED"===this.state){this.reportStatus(Q);return}let M=this.getPushback(Q.metadata);switch(Q.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(Q,S,M):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(S),this.reportStatus(Q);break;case"PROCESSED":this.handleProcessedStatus(Q,S,M)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let Q=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(Q.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var Q,S,R;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let N=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(N.maxAttempts,5))return;let M=null!==(Q=N.hedgingDelay)&&void 0!==Q?Q:"0s",L=Number(M.substring(0,M.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*L),null===(R=(S=this.hedgingTimer).unref)||void 0===R||R.call(S)}startNewAttempt(){let Q=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+Q.getCallNumber()+"] for attempt "+this.attempts);let S=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:Q,nextMessageToSend:0});let R=this.attempts-1,N=this.initialMetadata.clone();R>0&&N.set(P,`${R}`);let M=!1;Q.start(N,{onReceiveMetadata:N=>{this.trace("Received metadata from child ["+Q.getCallNumber()+"]"),this.commitCall(S),M=!0,R>0&&N.set(P,`${R}`),"ACTIVE"===this.underlyingCalls[S].state&&this.listener.onReceiveMetadata(N)},onReceiveMessage:R=>{this.trace("Received message from child ["+Q.getCallNumber()+"]"),this.commitCall(S),"ACTIVE"===this.underlyingCalls[S].state&&this.listener.onReceiveMessage(R)},onReceiveStatus:N=>{this.trace("Received status from child ["+Q.getCallNumber()+"]"),!M&&R>0&&N.metadata.set(P,`${R}`),this.handleChildStatus(N,S)}}),this.sendNextChildMessage(S),this.readStarted&&Q.startRead()}start(Q,S){this.trace("start called"),this.listener=S,this.initialMetadata=Q,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(Q){var S,R;let N=this.underlyingCalls[Q],M=N.nextMessageToSend;null===(R=(S=this.getBufferEntry(M)).callback)||void 0===R||R.call(S),this.clearSentMessages(),N.nextMessageToSend+=1,this.sendNextChildMessage(Q)}sendNextChildMessage(Q){let S=this.underlyingCalls[Q];if("COMPLETED"!==S.state&&this.getBufferEntry(S.nextMessageToSend)){let R=this.getBufferEntry(S.nextMessageToSend);switch(R.entryType){case"MESSAGE":S.call.sendMessageWithContext({callback:S=>{this.handleChildWriteCompleted(Q)}},R.message.message);break;case"HALF_CLOSE":S.nextMessageToSend+=1,S.call.halfClose()}}}sendMessageWithContext(Q,S){var R;this.trace("write() called with message of length "+S.length);let N={message:S,flags:Q.flags},M=this.getNextBufferIndex(),L={entryType:"MESSAGE",message:N,allocated:this.bufferTracker.allocate(S.length,this.callNumber)};if(this.writeBuffer.push(L),L.allocated)for(let[N,L]of(null===(R=Q.callback)||void 0===R||R.call(Q),this.underlyingCalls.entries()))"ACTIVE"===L.state&&L.nextMessageToSend===M&&L.call.sendMessageWithContext({callback:Q=>{this.handleChildWriteCompleted(N)}},S);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let R=this.underlyingCalls[this.committedCallIndex];L.callback=Q.callback,"ACTIVE"===R.state&&R.nextMessageToSend===M&&R.call.sendMessageWithContext({callback:Q=>{this.handleChildWriteCompleted(this.committedCallIndex)}},S)}}startRead(){for(let Q of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==Q?void 0:Q.state)==="ACTIVE"&&Q.call.startRead()}halfClose(){this.trace("halfClose called");let Q=this.getNextBufferIndex();for(let S of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==S?void 0:S.state)==="ACTIVE"&&S.nextMessageToSend===Q&&(S.nextMessageToSend+=1,S.call.halfClose())}setCredentials(Q){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};S.RetryingCall=RetryingCall},17574:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Http2ServerCallStream=S.ServerDuplexStreamImpl=S.ServerWritableStreamImpl=S.ServerReadableStreamImpl=S.ServerUnaryCallImpl=void 0;let N=R(82361),M=R(85158),L=R(12781),U=R(59796),P=R(73837),Y=R(69238),W=R(32908),K=R(80272),X=R(68200),Z=R(9006),$="server_call",ee=(0,P.promisify)(U.unzip),et=(0,P.promisify)(U.inflate);function trace(Q){X.trace(Y.LogVerbosity.DEBUG,$,Q)}let en="grpc-accept-encoding",ei="grpc-encoding",es="grpc-message",eo="grpc-status",ea="grpc-timeout",eA=/(\d{1,8})\s*([HMSmun])/,ec={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},eu={[en]:"identity,deflate,gzip",[ei]:"identity"},eh={[M.constants.HTTP2_HEADER_STATUS]:M.constants.HTTP_STATUS_OK,[M.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},ed={waitForTrailers:!0};let ServerUnaryCallImpl=class ServerUnaryCallImpl extends N.EventEmitter{constructor(Q,S,R){super(),this.call=Q,this.metadata=S,this.request=R,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(Q){this.call.sendMetadata(Q)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};S.ServerUnaryCallImpl=ServerUnaryCallImpl;let ServerReadableStreamImpl=class ServerReadableStreamImpl extends L.Readable{constructor(Q,S,R,N){super({objectMode:!0}),this.call=Q,this.metadata=S,this.deserialize=R,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,N)}_read(Q){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(Q){this.call.sendMetadata(Q)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};S.ServerReadableStreamImpl=ServerReadableStreamImpl;let ServerWritableStreamImpl=class ServerWritableStreamImpl extends L.Writable{constructor(Q,S,R,N){super({objectMode:!0}),this.call=Q,this.metadata=S,this.serialize=R,this.request=N,this.cancelled=!1,this.trailingMetadata=new W.Metadata,this.call.setupSurfaceCall(this),this.on("error",Q=>{this.call.sendError(Q),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(Q){this.call.sendMetadata(Q)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(Q,S,R){try{let S=this.call.serializeMessage(Q);if(!this.call.write(S)){this.call.once("drain",R);return}}catch(Q){this.emit("error",{details:(0,Z.getErrorMessage)(Q),code:Y.Status.INTERNAL})}R()}_final(Q){this.call.sendStatus({code:Y.Status.OK,details:"OK",metadata:this.trailingMetadata}),Q(null)}end(Q){return Q&&(this.trailingMetadata=Q),super.end()}};S.ServerWritableStreamImpl=ServerWritableStreamImpl;let ServerDuplexStreamImpl=class ServerDuplexStreamImpl extends L.Duplex{constructor(Q,S,R,N,M){super({objectMode:!0}),this.call=Q,this.metadata=S,this.serialize=R,this.deserialize=N,this.cancelled=!1,this.trailingMetadata=new W.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,M),this.on("error",Q=>{this.call.sendError(Q),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(Q){this.call.sendMetadata(Q)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(Q){return Q&&(this.trailingMetadata=Q),super.end()}};S.ServerDuplexStreamImpl=ServerDuplexStreamImpl,ServerDuplexStreamImpl.prototype._read=ServerReadableStreamImpl.prototype._read,ServerDuplexStreamImpl.prototype._write=ServerWritableStreamImpl.prototype._write,ServerDuplexStreamImpl.prototype._final=ServerWritableStreamImpl.prototype._final;let Http2ServerCallStream=class Http2ServerCallStream extends N.EventEmitter{constructor(Q,S,R){super(),this.stream=Q,this.handler=S,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=Y.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Y.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",Q=>{}),this.stream.once("close",()=>{var Q;trace("Request to method "+(null===(Q=this.handler)||void 0===Q?void 0:Q.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:Y.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in R&&(this.maxSendMessageSize=R["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in R&&(this.maxReceiveMessageSize=R["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(Q,S){return"deflate"===S?et(Q.subarray(5)):"gzip"===S?ee(Q.subarray(5)):"identity"===S?Q.subarray(5):Promise.reject({code:Y.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${S}"`})}sendMetadata(Q){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let S=Q?Q.toHttp2Headers():null,R=Object.assign(Object.assign(Object.assign({},eh),eu),S);this.stream.respond(R,ed)}receiveMetadata(Q){let S=W.Metadata.fromHttp2Headers(Q);X.isTracerEnabled($)&&trace("Request to "+this.handler.path+" received headers "+JSON.stringify(S.toJSON()));let R=S.get(ea);if(R.length>0){let Q=R[0].toString().match(eA);if(null===Q){let Q=Error("Invalid deadline");return Q.code=Y.Status.OUT_OF_RANGE,this.sendError(Q),S}let N=+Q[1]*ec[Q[2]]|0,M=new Date;this.deadline=M.setMilliseconds(M.getMilliseconds()+N),this.deadlineTimer=setTimeout(handleExpiredDeadline,N,this),S.remove(ea)}return S.remove(M.constants.HTTP2_HEADER_ACCEPT_ENCODING),S.remove(M.constants.HTTP2_HEADER_TE),S.remove(M.constants.HTTP2_HEADER_CONTENT_TYPE),S.remove("grpc-accept-encoding"),S}receiveUnaryMessage(Q){return new Promise((S,R)=>{let{stream:N}=this,M=0,L=this,U=[],P=this.maxReceiveMessageSize;function onData(Q){if(M+=Q.byteLength,-1!==P&&M>P){N.removeListener("data",onData),N.removeListener("end",onEnd),N.removeListener("error",onEnd),R({code:Y.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${M} vs. ${P})`});return}U.push(Q)}function onEnd(P){if(N.removeListener("data",onData),N.removeListener("end",onEnd),N.removeListener("error",onEnd),void 0!==P){R({code:Y.Status.INTERNAL,details:P.message});return}if(0===M){R({code:Y.Status.INTERNAL,details:"received empty unary message"});return}L.emit("receiveMessage");let W=Buffer.concat(U,M),K=1===W.readUInt8(0),X=K?Q:"identity",Z=L.getDecompressedMessage(W,X);if(Buffer.isBuffer(Z)){S(L.deserializeMessageWithInternalError(Z));return}Z.then(Q=>S(L.deserializeMessageWithInternalError(Q)),S=>R(S.code?S:{code:Y.Status.INTERNAL,details:`Received "grpc-encoding" header "${Q}" but ${Q} decompression failed`}))}this.stream.on("data",onData),this.stream.on("end",onEnd),this.stream.on("error",onEnd)})}async deserializeMessageWithInternalError(Q){try{return this.deserializeMessage(Q)}catch(Q){throw{details:(0,Z.getErrorMessage)(Q),code:Y.Status.INTERNAL}}}serializeMessage(Q){let S=this.handler.serialize(Q),R=S.byteLength,N=Buffer.allocUnsafe(R+5);return N.writeUInt8(0,0),N.writeUInt32BE(R,1),S.copy(N,5),N}deserializeMessage(Q){return this.handler.deserialize(Q)}async sendUnaryMessage(Q,S,R,N){if(!this.checkCancelled()){if(void 0===R&&(R=null),Q){!Object.prototype.hasOwnProperty.call(Q,"metadata")&&R&&(Q.metadata=R),this.sendError(Q);return}try{let Q=this.serializeMessage(S);this.write(Q),this.sendStatus({code:Y.Status.OK,details:"OK",metadata:R})}catch(Q){this.sendError({details:(0,Z.getErrorMessage)(Q),code:Y.Status.INTERNAL})}}}sendStatus(Q){var S,R;if(this.emit("callEnd",Q.code),this.emit("streamEnd",Q.code===Y.Status.OK),!this.checkCancelled()){if(trace("Request to method "+(null===(S=this.handler)||void 0===S?void 0:S.path)+" ended with status code: "+Y.Status[Q.code]+" details: "+Q.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var S;let R=Object.assign({[eo]:Q.code,[es]:encodeURI(Q.details)},null===(S=Q.metadata)||void 0===S?void 0:S.toHttp2Headers());this.stream.sendTrailers(R),this.statusSent=!0}),this.stream.end());else{let S=Object.assign(Object.assign({[eo]:Q.code,[es]:encodeURI(Q.details)},eh),null===(R=Q.metadata)||void 0===R?void 0:R.toHttp2Headers());this.stream.respond(S,{endStream:!0}),this.statusSent=!0}}}sendError(Q){let S={code:Y.Status.UNKNOWN,details:"message"in Q?Q.message:"Unknown Error",metadata:"metadata"in Q&&void 0!==Q.metadata?Q.metadata:null};"code"in Q&&"number"==typeof Q.code&&Number.isInteger(Q.code)&&(S.code=Q.code,"details"in Q&&"string"==typeof Q.details&&(S.details=Q.details)),this.sendStatus(S)}write(Q){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&Q.length>this.maxSendMessageSize){this.sendError({code:Y.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${Q.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(Q)}}resume(){this.stream.resume()}setupSurfaceCall(Q){this.once("cancelled",S=>{Q.cancelled=!0,Q.emit("cancelled",S)}),this.once("callEnd",S=>Q.emit("callEnd",S))}setupReadable(Q,S){let R=new K.StreamDecoder,N=!1,M=!1,L=!1,maybePushEnd=async()=>{L||!N||M||(L=!0,await this.pushOrBufferMessage(Q,null))};this.stream.on("data",async N=>{let L=R.write(N);for(let R of(M=!0,this.stream.pause(),L)){if(-1!==this.maxReceiveMessageSize&&R.length>this.maxReceiveMessageSize){this.sendError({code:Y.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${R.length} vs. ${this.maxReceiveMessageSize})`});return}this.emit("receiveMessage");let N=1===R.readUInt8(0),M=N?S:"identity",L=await this.getDecompressedMessage(R,M);if(!L)return;await this.pushOrBufferMessage(Q,L)}M=!1,this.stream.resume(),await maybePushEnd()}),this.stream.once("end",async()=>{N=!0,await maybePushEnd()})}consumeUnpushedMessages(Q){for(this.canPush=!0;this.messagesToPush.length>0;){let S=this.messagesToPush.shift(),R=Q.push(S);if(null===S||!1===R){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(Q,S){this.isPushPending?this.bufferedMessages.push(S):await this.pushMessage(Q,S)}async pushMessage(Q,S){if(null===S){trace("Received end of stream"),this.canPush?Q.push(null):this.messagesToPush.push(null);return}trace("Received message of length "+S.length),this.isPushPending=!0;try{let R=await this.deserializeMessage(S);this.canPush?Q.push(R)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(R)}catch(R){this.bufferedMessages.length=0;let S=(0,Z.getErrorCode)(R);(null===S||S<Y.Status.OK||S>Y.Status.UNAUTHENTICATED)&&(S=Y.Status.INTERNAL),Q.emit("error",{details:(0,Z.getErrorMessage)(R),code:S})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(Q,this.bufferedMessages.shift())}getPeer(){var Q;let S=null===(Q=this.stream.session)||void 0===Q?void 0:Q.socket;return null!=S&&S.remoteAddress?S.remotePort?`${S.remoteAddress}:${S.remotePort}`:S.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};function handleExpiredDeadline(Q){let S=Error("Deadline exceeded");S.code=Y.Status.DEADLINE_EXCEEDED,Q.sendError(S),Q.cancelled=!0,Q.emit("cancelled","deadline")}S.Http2ServerCallStream=Http2ServerCallStream},62501:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ServerCredentials=void 0;let N=R(66801);let ServerCredentials=class ServerCredentials{static createInsecure(){return new InsecureServerCredentials}static createSsl(Q,S,R=!1){if(null!==Q&&!Buffer.isBuffer(Q))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(S))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof R)throw TypeError("checkClientCertificate must be a boolean");let M=[],L=[];for(let Q=0;Q<S.length;Q++){let R=S[Q];if(null===R||"object"!=typeof R)throw TypeError(`keyCertPair[${Q}] must be an object`);if(!Buffer.isBuffer(R.private_key))throw TypeError(`keyCertPair[${Q}].private_key must be a Buffer`);if(!Buffer.isBuffer(R.cert_chain))throw TypeError(`keyCertPair[${Q}].cert_chain must be a Buffer`);M.push(R.cert_chain),L.push(R.private_key)}return new SecureServerCredentials({ca:Q||(0,N.getDefaultRootsData)()||void 0,cert:M,key:L,requestCert:R,ciphers:N.CIPHER_SUITES})}};S.ServerCredentials=ServerCredentials;let InsecureServerCredentials=class InsecureServerCredentials extends ServerCredentials{_isSecure(){return!1}_getSettings(){return null}};let SecureServerCredentials=class SecureServerCredentials extends ServerCredentials{constructor(Q){super(),this.options=Q}_isSecure(){return!0}_getSettings(){return this.options}}},92903:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Server=void 0;let N=R(85158),M=R(69238),L=R(17574),U=R(62501),P=R(14755),Y=R(68200),W=R(72782),K=R(14717),X=R(83316),Z=2147483647,$=2147483647,ee=2e4,{HTTP2_HEADER_PATH:et}=N.constants,en="server";function noop(){}function getUnimplementedStatusResponse(Q){return{code:M.Status.UNIMPLEMENTED,details:`The server does not implement the method ${Q}`}}function getDefaultHandler(Q,S){let R=getUnimplementedStatusResponse(S);switch(Q){case"unary":return(Q,S)=>{S(R,null)};case"clientStream":return(Q,S)=>{S(R,null)};case"serverStream":return Q=>{Q.emit("error",R)};case"bidi":return Q=>{Q.emit("error",R)};default:throw Error(`Invalid handlerType ${Q}`)}}let Server=class Server{constructor(Q){var S,R,N,M;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new X.ChannelzTrace,this.callTracker=new X.ChannelzCallTracker,this.listenerChildrenTracker=new X.ChannelzChildrenTracker,this.sessionChildrenTracker=new X.ChannelzChildrenTracker,this.options=null!=Q?Q:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,X.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(S=this.options["grpc.max_connection_age_ms"])&&void 0!==S?S:Z,this.maxConnectionAgeGraceMs=null!==(R=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==R?R:Z,this.keepaliveTimeMs=null!==(N=this.options["grpc.keepalive_time_ms"])&&void 0!==N?N:$,this.keepaliveTimeoutMs=null!==(M=this.options["grpc.keepalive_timeout_ms"])&&void 0!==M?M:ee,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(Q){return()=>{var S,R,N;let M;let L=this.sessions.get(Q),U=Q.socket,P=U.remoteAddress?(0,W.stringToSubchannelAddress)(U.remoteAddress,U.remotePort):null,Y=U.localAddress?(0,W.stringToSubchannelAddress)(U.localAddress,U.localPort):null;if(Q.encrypted){let Q=U,R=Q.getCipher(),N=Q.getCertificate(),L=Q.getPeerCertificate();M={cipherSuiteStandardName:null!==(S=R.standardName)&&void 0!==S?S:null,cipherSuiteOtherName:R.standardName?null:R.name,localCertificate:N&&"raw"in N?N.raw:null,remoteCertificate:L&&"raw"in L?L.raw:null}}else M=null;let K={remoteAddress:P,localAddress:Y,security:M,remoteName:null,streamsStarted:L.streamTracker.callsStarted,streamsSucceeded:L.streamTracker.callsSucceeded,streamsFailed:L.streamTracker.callsFailed,messagesSent:L.messagesSent,messagesReceived:L.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:L.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:L.lastMessageSentTimestamp,lastMessageReceivedTimestamp:L.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(R=Q.state.localWindowSize)&&void 0!==R?R:null,remoteFlowControlWindow:null!==(N=Q.state.remoteWindowSize)&&void 0!==N?N:null};return K}}trace(Q){Y.trace(M.LogVerbosity.DEBUG,en,"("+this.channelzRef.id+") "+Q)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(Q,S){if(null===Q||"object"!=typeof Q||null===S||"object"!=typeof S)throw Error("addService() requires two objects as arguments");let R=Object.keys(Q);if(0===R.length)throw Error("Cannot add an empty service to a server");R.forEach(R=>{let N,M;let L=Q[R];N=L.requestStream?L.responseStream?"bidi":"clientStream":L.responseStream?"serverStream":"unary";let U=S[R];void 0===U&&"string"==typeof L.originalName&&(U=S[L.originalName]),M=void 0!==U?U.bind(S):getDefaultHandler(N,R);let P=this.register(L.path,M,L.responseSerialize,L.requestDeserialize,N);if(!1===P)throw Error(`Method handler for ${L.path} already provided.`)})}removeService(Q){if(null===Q||"object"!=typeof Q)throw Error("removeService() requires object as argument");let S=Object.keys(Q);S.forEach(S=>{let R=Q[S];this.unregister(R.path)})}bind(Q,S){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(Q,S,R){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof Q)throw TypeError("port must be a string");if(null===S||!(S instanceof U.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof R)throw TypeError("callback must be a function");let L=(0,K.parseUri)(Q);if(null===L)throw Error(`Could not parse port "${Q}"`);let Z=(0,P.mapUriDefaultScheme)(L);if(null===Z)throw Error(`Could not get a default scheme for port "${Q}"`);let $={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?$.maxSessionMemory=this.options["grpc-node.max_session_memory"]:$.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&($.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let deferredCallback=(Q,S)=>{process.nextTick(()=>R(Q,S))},setupServer=()=>{let Q;if(S._isSecure()){let R=Object.assign($,S._getSettings());R.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(Q=N.createSecureServer(R)).on("secureConnection",Q=>{Q.on("error",Q=>{this.trace("An incoming TLS connection closed with error: "+Q.message)})})}else Q=N.createServer($);return Q.setTimeout(0,noop),this._setupHandlers(Q),Q},bindSpecificPort=(Q,S,R)=>0===Q.length?Promise.resolve({port:S,count:R}):Promise.all(Q.map(Q=>{let R;this.trace("Attempting to bind "+(0,W.subchannelAddressToString)(Q)),R=(0,W.isTcpSubchannelAddress)(Q)?{host:Q.host,port:S}:Q;let N=setupServer();return new Promise((M,L)=>{let onError=S=>{this.trace("Failed to bind "+(0,W.subchannelAddressToString)(Q)+" with error "+S.message),M(S)};N.once("error",onError),N.listen(R,()=>{let Q;if(this.shutdown){N.close(),M(Error("bindAsync failed because server is shutdown"));return}let R=N.address();Q="string"==typeof R?{path:R}:{host:R.address,port:R.port};let L=(0,X.registerChannelzSocket)((0,W.subchannelAddressToString)(Q),()=>({localAddress:Q,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(L),this.http2ServerList.push({server:N,channelzRef:L}),this.trace("Successfully bound "+(0,W.subchannelAddressToString)(Q)),M("port"in Q?Q.port:S),N.removeListener("error",onError)})})})).then(Q=>{let N=0;for(let R of Q)if("number"==typeof R&&(N+=1,R!==S))throw Error("Invalid state: multiple port numbers added from single address");return{port:S,count:N+R}}),bindWildcardPort=Q=>{if(0===Q.length)return Promise.resolve({port:0,count:0});let S=Q[0],R=setupServer();return new Promise((N,M)=>{let onError=R=>{this.trace("Failed to bind "+(0,W.subchannelAddressToString)(S)+" with error "+R.message),N(bindWildcardPort(Q.slice(1)))};R.once("error",onError),R.listen(S,()=>{if(this.shutdown){R.close(),N({port:0,count:0});return}let S=R.address(),M={host:S.address,port:S.port},L=(0,X.registerChannelzSocket)((0,W.subchannelAddressToString)(M),()=>({localAddress:M,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(L),this.http2ServerList.push({server:R,channelzRef:L}),this.trace("Successfully bound "+(0,W.subchannelAddressToString)(M)),N(bindSpecificPort(Q.slice(1),S.port,1)),R.removeListener("error",onError)})})},ee={onSuccessfulResolution:(S,R,N)=>{let L;if(ee.onSuccessfulResolution=()=>{},this.shutdown&&deferredCallback(Error("bindAsync failed because server is shutdown"),0),0===S.length){deferredCallback(Error(`No addresses resolved for port ${Q}`),0);return}(L=(0,W.isTcpSubchannelAddress)(S[0])?0===S[0].port?bindWildcardPort(S):bindSpecificPort(S,S[0].port,0):bindSpecificPort(S,1,0)).then(Q=>{if(0===Q.count){let Q=`No address added out of total ${S.length} resolved`;Y.log(M.LogVerbosity.ERROR,Q),deferredCallback(Error(Q),0)}else Q.count<S.length&&Y.log(M.LogVerbosity.INFO,`WARNING Only ${Q.count} addresses added out of total ${S.length} resolved`),deferredCallback(null,Q.port)},Q=>{let R=`No address added out of total ${S.length} resolved`;Y.log(M.LogVerbosity.ERROR,R),deferredCallback(Error(R),0)})},onError:Q=>{deferredCallback(Error(Q.details),0)}},et=(0,P.createResolver)(Z,ee,this.options);et.updateResolution()}forceShutdown(){for(let{server:Q,channelzRef:S}of this.http2ServerList)Q.listening&&Q.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(S),(0,X.unregisterChannelzRef)(S))});this.started=!1,this.shutdown=!0,this.sessions.forEach((Q,S)=>{S.destroy(N.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,X.unregisterChannelzRef)(this.channelzRef)}register(Q,S,R,N,M){return!this.handlers.has(Q)&&(this.handlers.set(Q,{func:S,serialize:R,deserialize:N,type:M,path:Q}),!0)}unregister(Q){return this.handlers.delete(Q)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:Q})=>!0!==Q.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(Q){let wrappedCallback=S=>{this.channelzEnabled&&(0,X.unregisterChannelzRef)(this.channelzRef),Q(S)},S=0;function maybeCallback(){0==--S&&wrappedCallback()}for(let{server:Q,channelzRef:R}of(this.started=!1,this.shutdown=!0,this.http2ServerList))Q.listening&&(S++,Q.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(R),(0,X.unregisterChannelzRef)(R)),maybeCallback()}));this.sessions.forEach((Q,R)=>{R.closed||(S+=1,R.close(maybeCallback))}),0===S&&wrappedCallback()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(Q,S){let R=S[N.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof R&&R.startsWith("application/grpc"))||(Q.respond({[N.constants.HTTP2_HEADER_STATUS]:N.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(Q){this.trace("Received call to method "+Q+" at address "+this.serverAddressString);let S=this.handlers.get(Q);return void 0===S?(this.trace("No handler registered for method "+Q+". Sending UNIMPLEMENTED status."),null):S}_respondWithError(Q,S,R=null){let N=new L.Http2ServerCallStream(S,null,this.options);void 0===Q.code&&(Q.code=M.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==R||R.streamTracker.addCallFailed()),N.sendError(Q)}_channelzHandler(Q,S){let R=this.sessions.get(Q.session);if(this.callTracker.addCallStarted(),null==R||R.streamTracker.addCallStarted(),!this._verifyContentType(Q,S)){this.callTracker.addCallFailed(),null==R||R.streamTracker.addCallFailed();return}let N=S[et],U=this._retrieveHandler(N);if(!U){this._respondWithError(getUnimplementedStatusResponse(N),Q,R);return}let P=new L.Http2ServerCallStream(Q,U,this.options);P.once("callEnd",Q=>{Q===M.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),R&&(P.once("streamEnd",Q=>{Q?R.streamTracker.addCallSucceeded():R.streamTracker.addCallFailed()}),P.on("sendMessage",()=>{R.messagesSent+=1,R.lastMessageSentTimestamp=new Date}),P.on("receiveMessage",()=>{R.messagesReceived+=1,R.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(P,U,S)||(this.callTracker.addCallFailed(),null==R||R.streamTracker.addCallFailed(),P.sendError({code:M.Status.INTERNAL,details:`Unknown handler type: ${U.type}`}))}_streamHandler(Q,S){if(!0!==this._verifyContentType(Q,S))return;let R=S[et],N=this._retrieveHandler(R);if(!N){this._respondWithError(getUnimplementedStatusResponse(R),Q,null);return}let U=new L.Http2ServerCallStream(Q,N,this.options);this._runHandlerForCall(U,N,S)||U.sendError({code:M.Status.INTERNAL,details:`Unknown handler type: ${N.type}`})}_runHandlerForCall(Q,S,R){var N;let M=Q.receiveMetadata(R),L=null!==(N=M.get("grpc-encoding")[0])&&void 0!==N?N:"identity";M.remove("grpc-encoding");let{type:U}=S;if("unary"===U)handleUnary(Q,S,M,L);else if("clientStream"===U)handleClientStreaming(Q,S,M,L);else if("serverStream"===U)handleServerStreaming(Q,S,M,L);else{if("bidi"!==U)return!1;handleBidiStreaming(Q,S,M,L)}return!0}_setupHandlers(Q){if(null===Q)return;let S=Q.address(),R="null";S&&(R="string"==typeof S?S:S.address+":"+S.port),this.serverAddressString=R;let M=this.channelzEnabled?this._channelzHandler:this._streamHandler;Q.on("stream",M.bind(this)),Q.on("session",Q=>{var S,R,M,L,U;if(!this.started){Q.destroy();return}let P=(0,X.registerChannelzSocket)(null!==(S=Q.socket.remoteAddress)&&void 0!==S?S:"unknown",this.getChannelzSessionInfoGetter(Q),this.channelzEnabled),Y={ref:P,streamTracker:new X.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(Q,Y);let W=Q.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+W),this.sessionChildrenTracker.refChild(P));let K=null,$=null,ee=!1;if(this.maxConnectionAgeMs!==Z){let S=this.maxConnectionAgeMs/10,L=Math.random()*S*2-S;K=null===(M=(R=setTimeout(()=>{var S,R;ee=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+W);try{Q.goaway(N.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch(S){Q.destroy();return}Q.close(),this.maxConnectionAgeGraceMs!==Z&&($=null===(R=(S=setTimeout(()=>{Q.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===R?void 0:R.call(S))},this.maxConnectionAgeMs+L)).unref)||void 0===M?void 0:M.call(R)}let et=null===(U=(L=setInterval(()=>{var S,R;let N=null===(R=(S=setTimeout(()=>{ee=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+W),Q.close()},this.keepaliveTimeoutMs)).unref)||void 0===R?void 0:R.call(S);try{Q.ping((Q,S,R)=>{clearTimeout(N)})}catch(S){Q.destroy()}},this.keepaliveTimeMs)).unref)||void 0===U?void 0:U.call(L);Q.on("close",()=>{this.channelzEnabled&&(ee||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+W),this.sessionChildrenTracker.unrefChild(P),(0,X.unregisterChannelzRef)(P)),K&&clearTimeout(K),$&&clearTimeout($),et&&clearTimeout(et),this.sessions.delete(Q)})})}};async function handleUnary(Q,S,R,N){try{let M=await Q.receiveUnaryMessage(N);if(void 0===M||Q.cancelled)return;let U=new L.ServerUnaryCallImpl(Q,R,M);S.func(U,(S,R,N,M)=>{Q.sendUnaryMessage(S,R,N,M)})}catch(S){Q.sendError(S)}}function handleClientStreaming(Q,S,R,N){let M=new L.ServerReadableStreamImpl(Q,R,S.deserialize,N);function respond(S,R,N,L){M.destroy(),Q.sendUnaryMessage(S,R,N,L)}Q.cancelled||(M.on("error",respond),S.func(M,respond))}async function handleServerStreaming(Q,S,R,N){try{let M=await Q.receiveUnaryMessage(N);if(void 0===M||Q.cancelled)return;let U=new L.ServerWritableStreamImpl(Q,R,S.serialize,M);S.func(U)}catch(S){Q.sendError(S)}}function handleBidiStreaming(Q,S,R,N){let M=new L.ServerDuplexStreamImpl(Q,R,S.serialize,S.deserialize,N);Q.cancelled||S.func(M)}S.Server=Server},45914:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.extractAndSelectServiceConfig=S.validateServiceConfig=S.validateRetryThrottling=void 0;let N=R(22037),M=R(69238),L=R(77203),U=/^\d+(\.\d{1,9})?s$/,P="node";function validateName(Q){if("service"in Q&&""!==Q.service){if("string"!=typeof Q.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof Q.service}`);if(!("method"in Q)||""===Q.method)return{service:Q.service};if("string"!=typeof Q.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof Q.service}`);return{service:Q.service,method:Q.method}}if("method"in Q&&void 0!==Q.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function validateRetryPolicy(Q){if(!("maxAttempts"in Q)||!Number.isInteger(Q.maxAttempts)||Q.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in Q)||"string"!=typeof Q.initialBackoff||!U.test(Q.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in Q)||"string"!=typeof Q.maxBackoff||!U.test(Q.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in Q)||"number"!=typeof Q.backoffMultiplier||Q.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in Q&&Array.isArray(Q.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===Q.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let S of Q.retryableStatusCodes)if("number"==typeof S){if(!Object.values(M.Status).includes(S))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof S){if(!Object.values(M.Status).includes(S.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:Q.maxAttempts,initialBackoff:Q.initialBackoff,maxBackoff:Q.maxBackoff,backoffMultiplier:Q.backoffMultiplier,retryableStatusCodes:Q.retryableStatusCodes}}function validateHedgingPolicy(Q){if(!("maxAttempts"in Q)||!Number.isInteger(Q.maxAttempts)||Q.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in Q&&("string"!=typeof Q.hedgingDelay||!U.test(Q.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in Q&&Array.isArray(Q.nonFatalStatusCodes))for(let S of Q.nonFatalStatusCodes)if("number"==typeof S){if(!Object.values(M.Status).includes(S))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof S){if(!Object.values(M.Status).includes(S.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let S={maxAttempts:Q.maxAttempts};return Q.hedgingDelay&&(S.hedgingDelay=Q.hedgingDelay),Q.nonFatalStatusCodes&&(S.nonFatalStatusCodes=Q.nonFatalStatusCodes),S}function validateMethodConfig(Q){var S;let R={name:[]};if(!("name"in Q)||!Array.isArray(Q.name))throw Error("Invalid method config: invalid name array");for(let S of Q.name)R.name.push(validateName(S));if("waitForReady"in Q){if("boolean"!=typeof Q.waitForReady)throw Error("Invalid method config: invalid waitForReady");R.waitForReady=Q.waitForReady}if("timeout"in Q){if("object"==typeof Q.timeout){if(!("seconds"in Q.timeout)||"number"!=typeof Q.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in Q.timeout)||"number"!=typeof Q.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");R.timeout=Q.timeout}else if("string"==typeof Q.timeout&&U.test(Q.timeout)){let N=Q.timeout.substring(0,Q.timeout.length-1).split(".");R.timeout={seconds:0|N[0],nanos:(null!==(S=N[1])&&void 0!==S?S:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in Q){if("number"!=typeof Q.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");R.maxRequestBytes=Q.maxRequestBytes}if("maxResponseBytes"in Q){if("number"!=typeof Q.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");R.maxResponseBytes=Q.maxResponseBytes}if("retryPolicy"in Q){if("hedgingPolicy"in Q)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");R.retryPolicy=validateRetryPolicy(Q.retryPolicy)}else"hedgingPolicy"in Q&&(R.hedgingPolicy=validateHedgingPolicy(Q.hedgingPolicy));return R}function validateRetryThrottling(Q){if(!("maxTokens"in Q)||"number"!=typeof Q.maxTokens||Q.maxTokens<=0||Q.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in Q)||"number"!=typeof Q.tokenRatio||Q.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+Q.maxTokens.toFixed(3),tokenRatio:+Q.tokenRatio.toFixed(3)}}function validateServiceConfig(Q){let S={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in Q){if("string"==typeof Q.loadBalancingPolicy)S.loadBalancingPolicy=Q.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in Q){if(Array.isArray(Q.loadBalancingConfig))for(let R of Q.loadBalancingConfig)S.loadBalancingConfig.push((0,L.validateLoadBalancingConfig)(R));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in Q&&Array.isArray(Q.methodConfig))for(let R of Q.methodConfig)S.methodConfig.push(validateMethodConfig(R));"retryThrottling"in Q&&(S.retryThrottling=validateRetryThrottling(Q.retryThrottling));let R=[];for(let Q of S.methodConfig)for(let S of Q.name){for(let Q of R)if(S.service===Q.service&&S.method===Q.method)throw Error(`Invalid service config: duplicate name ${S.service}/${S.method}`);R.push(S)}return S}function validateCanaryConfig(Q){if(!("serviceConfig"in Q))throw Error("Invalid service config choice: missing service config");let S={serviceConfig:validateServiceConfig(Q.serviceConfig)};if("clientLanguage"in Q){if(Array.isArray(Q.clientLanguage))for(let R of(S.clientLanguage=[],Q.clientLanguage))if("string"==typeof R)S.clientLanguage.push(R);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in Q){if(Array.isArray(Q.clientHostname))for(let R of(S.clientHostname=[],Q.clientHostname))if("string"==typeof R)S.clientHostname.push(R);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in Q){if("number"==typeof Q.percentage&&0<=Q.percentage&&Q.percentage<=100)S.percentage=Q.percentage;else throw Error("Invalid service config choice: invalid percentage")}let R=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let S in Q)if(!R.includes(S))throw Error(`Invalid service config choice: unexpected field ${S}`);return S}function validateAndSelectCanaryConfig(Q,S){if(!Array.isArray(Q))throw Error("Invalid service config list");for(let R of Q){let Q=validateCanaryConfig(R);if("number"!=typeof Q.percentage||!(S>Q.percentage)){if(Array.isArray(Q.clientHostname)){let S=!1;for(let R of Q.clientHostname)R===N.hostname()&&(S=!0);if(!S)continue}if(Array.isArray(Q.clientLanguage)){let S=!1;for(let R of Q.clientLanguage)R===P&&(S=!0);if(!S)continue}return Q.serviceConfig}}throw Error("No matching service config found")}function extractAndSelectServiceConfig(Q,S){for(let R of Q)if(R.length>0&&R[0].startsWith("grpc_config=")){let Q=R.join("").substring(12),N=JSON.parse(Q);return validateAndSelectCanaryConfig(N,S)}return null}S.validateRetryThrottling=validateRetryThrottling,S.validateServiceConfig=validateServiceConfig,S.extractAndSelectServiceConfig=extractAndSelectServiceConfig},9929:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.StatusBuilder=void 0;let StatusBuilder=class StatusBuilder{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(Q){return this.code=Q,this}withDetails(Q){return this.details=Q,this}withMetadata(Q){return this.metadata=Q,this}build(){let Q={};return null!==this.code&&(Q.code=this.code),null!==this.details&&(Q.details=this.details),null!==this.metadata&&(Q.metadata=this.metadata),Q}};S.StatusBuilder=StatusBuilder},80272:(Q,S)=>{"use strict";var R;Object.defineProperty(S,"__esModule",{value:!0}),S.StreamDecoder=void 0,function(Q){Q[Q.NO_DATA=0]="NO_DATA",Q[Q.READING_SIZE=1]="READING_SIZE",Q[Q.READING_MESSAGE=2]="READING_MESSAGE"}(R||(R={}));let StreamDecoder=class StreamDecoder{constructor(){this.readState=R.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(Q){let S,N=0,M=[];for(;N<Q.length;)switch(this.readState){case R.NO_DATA:this.readCompressFlag=Q.slice(N,N+1),N+=1,this.readState=R.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case R.READING_SIZE:if(S=Math.min(Q.length-N,this.readSizeRemaining),Q.copy(this.readPartialSize,4-this.readSizeRemaining,N,N+S),this.readSizeRemaining-=S,N+=S,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=R.READING_MESSAGE;else{let Q=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=R.NO_DATA,M.push(Q)}}break;case R.READING_MESSAGE:if(S=Math.min(Q.length-N,this.readMessageRemaining),this.readPartialMessage.push(Q.slice(N,N+S)),this.readMessageRemaining-=S,N+=S,0===this.readMessageRemaining){let Q=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),S=Buffer.concat(Q,this.readMessageSize+5);this.readState=R.NO_DATA,M.push(S)}break;default:throw Error("Unexpected read state")}return M}};S.StreamDecoder=StreamDecoder},72782:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.stringToSubchannelAddress=S.subchannelAddressToString=S.subchannelAddressEqual=S.isTcpSubchannelAddress=void 0;let N=R(41808);function isTcpSubchannelAddress(Q){return"port"in Q}function subchannelAddressEqual(Q,S){return!Q&&!S||!!Q&&!!S&&(isTcpSubchannelAddress(Q)?isTcpSubchannelAddress(S)&&Q.host===S.host&&Q.port===S.port:!isTcpSubchannelAddress(S)&&Q.path===S.path)}function subchannelAddressToString(Q){return isTcpSubchannelAddress(Q)?Q.host+":"+Q.port:Q.path}S.isTcpSubchannelAddress=isTcpSubchannelAddress,S.subchannelAddressEqual=subchannelAddressEqual,S.subchannelAddressToString=subchannelAddressToString;let M=443;function stringToSubchannelAddress(Q,S){return(0,N.isIP)(Q)?{host:Q,port:null!=S?S:M}:{path:Q}}S.stringToSubchannelAddress=stringToSubchannelAddress},32210:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Http2SubchannelCall=void 0;let N=R(85158),M=R(22037),L=R(69238),U=R(32908),P=R(80272),Y=R(68200),W=R(69238),K="subchannel_call";function getSystemErrorName(Q){for(let[S,R]of Object.entries(M.constants.errno))if(R===Q)return S;return"Unknown system error "+Q}let Http2SubchannelCall=class Http2SubchannelCall{constructor(Q,S,R,M,Y){this.http2Stream=Q,this.callEventTracker=S,this.listener=R,this.transport=M,this.callId=Y,this.decoder=new P.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=L.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,Q.on("response",(Q,S)=>{let R="";for(let S of Object.keys(Q))R+="		"+S+": "+Q[S]+"\n";switch(this.trace("Received server headers:\n"+R),Q[":status"]){case 400:this.mappedStatusCode=L.Status.INTERNAL;break;case 401:this.mappedStatusCode=L.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=L.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=L.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=L.Status.UNAVAILABLE;break;default:this.mappedStatusCode=L.Status.UNKNOWN}if(S&N.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(Q);else{let S;try{S=U.Metadata.fromHttp2Headers(Q)}catch(Q){this.endCall({code:L.Status.UNKNOWN,details:Q.message,metadata:new U.Metadata});return}this.listener.onReceiveMetadata(S)}}),Q.on("trailers",Q=>{this.handleTrailers(Q)}),Q.on("data",Q=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+Q.length);let S=this.decoder.write(Q);for(let Q of S)this.trace("parsed message of length "+Q.length),this.callEventTracker.addMessageReceived(),this.tryPush(Q)}),Q.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),Q.on("close",()=>{process.nextTick(()=>{var S;let R;if(this.trace("HTTP/2 stream closed with code "+Q.rstCode),(null===(S=this.finalStatus)||void 0===S?void 0:S.code)===L.Status.OK)return;let M="";switch(Q.rstCode){case N.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;R=L.Status.INTERNAL,M=`Received RST_STREAM with code ${Q.rstCode}`;break;case N.constants.NGHTTP2_REFUSED_STREAM:R=L.Status.UNAVAILABLE,M="Stream refused by server";break;case N.constants.NGHTTP2_CANCEL:R=L.Status.CANCELLED,M="Call cancelled";break;case N.constants.NGHTTP2_ENHANCE_YOUR_CALM:R=L.Status.RESOURCE_EXHAUSTED,M="Bandwidth exhausted or memory limit exceeded";break;case N.constants.NGHTTP2_INADEQUATE_SECURITY:R=L.Status.PERMISSION_DENIED,M="Protocol not secure enough";break;case N.constants.NGHTTP2_INTERNAL_ERROR:R=L.Status.INTERNAL,null===this.internalError?M=`Received RST_STREAM with code ${Q.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(R=L.Status.UNAVAILABLE,M=this.internalError.message):M=`Received RST_STREAM with code ${Q.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:R=L.Status.INTERNAL,M=`Received RST_STREAM with code ${Q.rstCode}`}this.endCall({code:R,details:M,metadata:new U.Metadata,rstCode:Q.rstCode})})}),Q.on("error",Q=>{"ERR_HTTP2_STREAM_ERROR"!==Q.code&&(this.trace("Node error event: message="+Q.message+" code="+Q.code+" errno="+getSystemErrorName(Q.errno)+" syscall="+Q.syscall),this.internalError=Q),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:L.Status.UNAVAILABLE,details:"Connection dropped",metadata:new U.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(Q){Y.trace(W.LogVerbosity.DEBUG,K,"["+this.callId+"] "+Q)}endCall(Q){(null===this.finalStatus||this.finalStatus.code===L.Status.OK)&&(this.finalStatus=Q,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===L.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(Q){this.trace("pushing to reader message of length "+(Q instanceof Buffer?Q.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(Q),this.maybeOutputStatus())})}tryPush(Q){this.canPush?(this.http2Stream.pause(),this.push(Q)):(this.trace("unpushedReadMessages.push message of length "+Q.length),this.unpushedReadMessages.push(Q))}handleTrailers(Q){let S;this.callEventTracker.onStreamEnd(!0);let R="";for(let S of Object.keys(Q))R+="		"+S+": "+Q[S]+"\n";this.trace("Received server trailers:\n"+R);try{S=U.Metadata.fromHttp2Headers(Q)}catch(Q){S=new U.Metadata}let N=S.getMap(),M=this.mappedStatusCode;if(M===L.Status.UNKNOWN&&"string"==typeof N["grpc-status"]){let Q=Number(N["grpc-status"]);Q in L.Status&&(M=Q,this.trace("received status code "+Q+" from server")),S.remove("grpc-status")}let P="";if("string"==typeof N["grpc-message"]){try{P=decodeURI(N["grpc-message"])}catch(Q){P=N["grpc-message"]}S.remove("grpc-message"),this.trace('received status details string "'+P+'" from server')}let Y={code:M,details:P,metadata:S};this.endCall(Y)}destroyHttp2Stream(){var Q;if(!this.http2Stream.destroyed){let S;S=(null===(Q=this.finalStatus)||void 0===Q?void 0:Q.code)===L.Status.OK?N.constants.NGHTTP2_NO_ERROR:N.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+S),this.http2Stream.close(S)}}cancelWithStatus(Q,S){this.trace("cancelWithStatus code: "+Q+' details: "'+S+'"'),this.endCall({code:Q,details:S,metadata:new U.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==L.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let Q=this.unpushedReadMessages.shift();this.push(Q);return}this.http2Stream.resume()}sendMessageWithContext(Q,S){this.trace("write() called with message of length "+S.length);let cb=S=>{process.nextTick(()=>{var R;let N=L.Status.UNAVAILABLE;(null==S?void 0:S.code)==="ERR_STREAM_WRITE_AFTER_END"&&(N=L.Status.INTERNAL),S&&this.cancelWithStatus(N,`Write error: ${S.message}`),null===(R=Q.callback)||void 0===R||R.call(Q)})};this.trace("sending data chunk of length "+S.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(S,cb)}catch(Q){this.endCall({code:L.Status.UNAVAILABLE,details:`Write failed with error ${Q.message}`,metadata:new U.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};S.Http2SubchannelCall=Http2SubchannelCall},69609:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.BaseSubchannelWrapper=void 0;let BaseSubchannelWrapper=class BaseSubchannelWrapper{constructor(Q){this.child=Q}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(Q){this.child.addConnectivityStateListener(Q)}removeConnectivityStateListener(Q){this.child.removeConnectivityStateListener(Q)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(Q){this.child.throttleKeepalive(Q)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(Q){return this.getRealSubchannel()===Q.getRealSubchannel()}};S.BaseSubchannelWrapper=BaseSubchannelWrapper},88364:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getSubchannelPool=S.SubchannelPool=void 0;let N=R(70332),M=R(53904),L=R(72782),U=R(14717),P=R(16559),Y=1e4;let SubchannelPool=class SubchannelPool{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let Q=!0;for(let S in this.pool){let R=this.pool[S],N=R.filter(Q=>!Q.subchannel.unrefIfOneRef());N.length>0&&(Q=!1),this.pool[S]=N}Q&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var Q,S;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},Y),null===(S=(Q=this.cleanupTimer).unref)||void 0===S||S.call(Q))}getOrCreateSubchannel(Q,S,R,Y){this.ensureCleanupTask();let W=(0,U.uriToString)(Q);if(W in this.pool){let Q=this.pool[W];for(let M of Q)if((0,L.subchannelAddressEqual)(S,M.subchannelAddress)&&(0,N.channelOptionsEqual)(R,M.channelArguments)&&Y._equals(M.channelCredentials))return M.subchannel}let K=new M.Subchannel(Q,S,R,Y,new P.Http2SubchannelConnector(Q));return W in this.pool||(this.pool[W]=[]),this.pool[W].push({subchannelAddress:S,channelArguments:R,channelCredentials:Y,subchannel:K}),K.ref(),K}};S.SubchannelPool=SubchannelPool;let W=new SubchannelPool;function getSubchannelPool(Q){return Q?W:new SubchannelPool}S.getSubchannelPool=getSubchannelPool},53904:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Subchannel=void 0;let N=R(91360),M=R(77257),L=R(68200),U=R(69238),P=R(14717),Y=R(72782),W=R(83316),K="subchannel",X=2147483647;let Subchannel=class Subchannel{constructor(Q,S,R,L,U){var P;this.channelTarget=Q,this.subchannelAddress=S,this.options=R,this.credentials=L,this.connector=U,this.connectivityState=N.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new W.ChannelzCallTracker,this.childrenTracker=new W.ChannelzChildrenTracker,this.streamTracker=new W.ChannelzCallTracker;let K={initialDelay:R["grpc.initial_reconnect_backoff_ms"],maxDelay:R["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new M.BackoffTimeout(()=>{this.handleBackoffTimer()},K),this.backoffTimeout.unref(),this.subchannelAddressString=(0,Y.subchannelAddressToString)(S),this.keepaliveTime=null!==(P=R["grpc.keepalive_time_ms"])&&void 0!==P?P:-1,0===R["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new W.ChannelzTrace,this.channelzRef=(0,W.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(R,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(Q){L.trace(U.LogVerbosity.DEBUG,K,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Q)}refTrace(Q){L.trace(U.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Q)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([N.ConnectivityState.TRANSIENT_FAILURE],N.ConnectivityState.CONNECTING):this.transitionToState([N.ConnectivityState.TRANSIENT_FAILURE],N.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let Q=this.options;if(Q["grpc.keepalive_time_ms"]){let S=Math.min(this.keepaliveTime,X);Q=Object.assign(Object.assign({},Q),{"grpc.keepalive_time_ms":S})}this.connector.connect(this.subchannelAddress,this.credentials,Q).then(Q=>{this.transitionToState([N.ConnectivityState.CONNECTING],N.ConnectivityState.READY)?(this.transport=Q,this.channelzEnabled&&this.childrenTracker.refChild(Q.getChannelzRef()),Q.addDisconnectListener(Q=>{this.transitionToState([N.ConnectivityState.READY],N.ConnectivityState.IDLE),Q&&this.keepaliveTime>0&&(this.keepaliveTime*=2,L.log(U.LogVerbosity.ERROR,`Connection to ${(0,P.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):Q.shutdown()},Q=>{this.transitionToState([N.ConnectivityState.CONNECTING],N.ConnectivityState.TRANSIENT_FAILURE,`${Q}`)})}transitionToState(Q,S,R){var M,L;if(-1===Q.indexOf(this.connectivityState))return!1;this.trace(N.ConnectivityState[this.connectivityState]+" -> "+N.ConnectivityState[S]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+N.ConnectivityState[S]);let U=this.connectivityState;switch(this.connectivityState=S,S){case N.ConnectivityState.READY:this.stopBackoff();break;case N.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case N.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(M=this.transport)||void 0===M||M.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case N.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(L=this.transport)||void 0===L||L.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${S}`)}for(let Q of this.stateListeners)Q(this,U,S,this.keepaliveTime,R);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,W.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([N.ConnectivityState.CONNECTING,N.ConnectivityState.READY],N.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(Q,S,R,N){let M;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),M={onCallEnd:Q=>{Q.code===U.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):M={},this.transport.createCall(Q,S,R,N,M)}startConnecting(){process.nextTick(()=>{this.transitionToState([N.ConnectivityState.IDLE],N.ConnectivityState.CONNECTING)||this.connectivityState!==N.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(Q){this.stateListeners.add(Q)}removeConnectivityStateListener(Q){this.stateListeners.delete(Q)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([N.ConnectivityState.TRANSIENT_FAILURE],N.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(Q){return Q.getRealSubchannel()===this}throttleKeepalive(Q){Q>this.keepaliveTime&&(this.keepaliveTime=Q)}};S.Subchannel=Subchannel},66801:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getDefaultRootsData=S.CIPHER_SUITES=void 0;let N=R(57147);S.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let M=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,L=null;function getDefaultRootsData(){return M?(null===L&&(L=N.readFileSync(M)),L):null}S.getDefaultRootsData=getDefaultRootsData},16559:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Http2SubchannelConnector=void 0;let N=R(85158),M=R(24404),L=R(83316),U=R(69238),P=R(18304),Y=R(68200),W=R(14755),K=R(72782),X=R(14717),Z=R(41808),$=R(32210),ee=R(60060),et="transport",en="transport_flowctrl",ei=R(81513).i8,{HTTP2_HEADER_AUTHORITY:es,HTTP2_HEADER_CONTENT_TYPE:eo,HTTP2_HEADER_METHOD:ea,HTTP2_HEADER_PATH:eA,HTTP2_HEADER_TE:ec,HTTP2_HEADER_USER_AGENT:eu}=N.constants,eh=2e4,ed=Buffer.from("too_many_pings","ascii");let Http2Transport=class Http2Transport{constructor(Q,S,R,M){this.session=Q,this.remoteName=M,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=eh,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new L.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,K.subchannelAddressToString)(S),0===R["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,L.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[R["grpc.primary_user_agent"],`grpc-node-js/${ei}`,R["grpc.secondary_user_agent"]].filter(Q=>Q).join(" "),"grpc.keepalive_time_ms"in R&&(this.keepaliveTimeMs=R["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in R&&(this.keepaliveTimeoutMs=R["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in R?this.keepaliveWithoutCalls=1===R["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,Q.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),Q.once("goaway",(Q,S,R)=>{let M=!1;Q===N.constants.NGHTTP2_ENHANCE_YOUR_CALM&&R&&R.equals(ed)&&(M=!0),this.trace("connection closed by GOAWAY with code "+Q+" and data "+(null==R?void 0:R.toString())),this.reportDisconnectToOwner(M)}),Q.once("error",Q=>{this.trace("connection closed with error "+Q.message)}),Y.isTracerEnabled(et)&&(Q.on("remoteSettings",S=>{this.trace("new settings received"+(this.session!==Q?" on the old connection":"")+": "+JSON.stringify(S))}),Q.on("localSettings",S=>{this.trace("local settings acknowledged by remote"+(this.session!==Q?" on the old connection":"")+": "+JSON.stringify(S))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var Q,S,R;let N;let M=this.session.socket,L=M.remoteAddress?(0,K.stringToSubchannelAddress)(M.remoteAddress,M.remotePort):null,U=M.localAddress?(0,K.stringToSubchannelAddress)(M.localAddress,M.localPort):null;if(this.session.encrypted){let S=M,R=S.getCipher(),L=S.getCertificate(),U=S.getPeerCertificate();N={cipherSuiteStandardName:null!==(Q=R.standardName)&&void 0!==Q?Q:null,cipherSuiteOtherName:R.standardName?null:R.name,localCertificate:L&&"raw"in L?L.raw:null,remoteCertificate:U&&"raw"in U?U.raw:null}}else N=null;let P={remoteAddress:L,localAddress:U,security:N,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(S=this.session.state.localWindowSize)&&void 0!==S?S:null,remoteFlowControlWindow:null!==(R=this.session.state.remoteWindowSize)&&void 0!==R?R:null};return P}trace(Q){Y.trace(U.LogVerbosity.DEBUG,et,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Q)}keepaliveTrace(Q){Y.trace(U.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Q)}flowControlTrace(Q){Y.trace(U.LogVerbosity.DEBUG,en,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Q)}internalsTrace(Q){Y.trace(U.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Q)}reportDisconnectToOwner(Q){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(S=>S(Q)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let Q of this.activeCalls)Q.onDisconnect()})}addDisconnectListener(Q){this.disconnectListeners.push(Q)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var Q,S;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(S=(Q=this.keepaliveTimeoutId).unref)||void 0===S||S.call(Q));try{this.session.ping((Q,S,R)=>{Q&&(this.keepaliveTrace("Ping failed with error "+Q.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(Q){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var Q,S;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(S=(Q=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===S?void 0:S.call(Q)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(Q){this.activeCalls.delete(Q),0===this.activeCalls.size&&this.session.unref()}addActiveCall(Q){this.activeCalls.add(Q),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(Q,S,R,N,M){let L,U,P;let Y=Q.toHttp2Headers();Y[es]=S,Y[eu]=this.userAgent,Y[eo]="application/grpc",Y[ea]="POST",Y[eA]=R,Y[ec]="trailers";try{L=this.session.request(Y)}catch(Q){throw this.handleDisconnect(),Q}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),U={addMessageSent:()=>{var Q;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(Q=M.addMessageSent)||void 0===Q||Q.call(M)},addMessageReceived:()=>{var Q;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(Q=M.addMessageReceived)||void 0===Q||Q.call(M)},onCallEnd:Q=>{var S;null===(S=M.onCallEnd)||void 0===S||S.call(M,Q),this.removeActiveCall(P)},onStreamEnd:Q=>{var S;Q?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(S=M.onStreamEnd)||void 0===S||S.call(M,Q)}}):U={addMessageSent:()=>{var Q;null===(Q=M.addMessageSent)||void 0===Q||Q.call(M)},addMessageReceived:()=>{var Q;null===(Q=M.addMessageReceived)||void 0===Q||Q.call(M)},onCallEnd:Q=>{var S;null===(S=M.onCallEnd)||void 0===S||S.call(M,Q),this.removeActiveCall(P)},onStreamEnd:Q=>{var S;null===(S=M.onStreamEnd)||void 0===S||S.call(M,Q)}},P=new $.Http2SubchannelCall(L,U,N,this,(0,ee.getNextCallNumber)()),this.addActiveCall(P),P}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,L.unregisterChannelzRef)(this.channelzRef)}};let Http2SubchannelConnector=class Http2SubchannelConnector{constructor(Q){this.channelTarget=Q,this.session=null,this.isShutdown=!1}trace(Q){Y.trace(U.LogVerbosity.DEBUG,et,(0,X.uriToString)(this.channelTarget)+" "+Q)}createSession(Q,S,R,L){return this.isShutdown?Promise.reject():new Promise((U,P)=>{var Y,$,ee;let et;L.realTarget?(et=(0,X.uriToString)(L.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,X.uriToString)(L.realTarget))):(et=null,this.trace("creating HTTP/2 session to "+(0,K.subchannelAddressToString)(Q)));let en=(0,W.getDefaultAuthority)(null!==(Y=L.realTarget)&&void 0!==Y?Y:this.channelTarget),ei=S._getConnectionOptions()||{};ei.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in R?ei.maxSessionMemory=R["grpc-node.max_session_memory"]:ei.maxSessionMemory=Number.MAX_SAFE_INTEGER;let es="http://";if("secureContext"in ei){if(es="https://",R["grpc.ssl_target_name_override"]){let Q=R["grpc.ssl_target_name_override"];ei.checkServerIdentity=(S,R)=>(0,M.checkServerIdentity)(Q,R),ei.servername=Q}else{let Q=null!==(ee=null===($=(0,X.splitHostPort)(en))||void 0===$?void 0:$.host)&&void 0!==ee?ee:"localhost";ei.servername=Q}L.socket&&(ei.createConnection=(Q,S)=>L.socket)}else ei.createConnection=(S,R)=>L.socket?L.socket:Z.connect(Q);ei=Object.assign(Object.assign(Object.assign({},ei),Q),{enableTrace:1===R["grpc-node.tls_enable_trace"]});let eo=N.connect(es+en,ei);this.session=eo;let ea="Failed to connect";eo.unref(),eo.once("connect",()=>{eo.removeAllListeners(),U(new Http2Transport(eo,Q,R,et)),this.session=null}),eo.once("close",()=>{this.session=null,setImmediate(()=>{P(`${ea} (${new Date().toISOString()})`)})}),eo.once("error",Q=>{ea=Q.message,this.trace("connection failed with error "+ea)})})}connect(Q,S,R){var N,L;if(this.isShutdown)return Promise.reject();let U=S._getConnectionOptions()||{};if("secureContext"in U){if(U.ALPNProtocols=["h2"],R["grpc.ssl_target_name_override"]){let Q=R["grpc.ssl_target_name_override"];U.checkServerIdentity=(S,R)=>(0,M.checkServerIdentity)(Q,R),U.servername=Q}else if("grpc.http_connect_target"in R){let Q=(0,W.getDefaultAuthority)(null!==(N=(0,X.parseUri)(R["grpc.http_connect_target"]))&&void 0!==N?N:{path:"localhost"}),S=(0,X.splitHostPort)(Q);U.servername=null!==(L=null==S?void 0:S.host)&&void 0!==L?L:Q}R["grpc-node.tls_enable_trace"]&&(U.enableTrace=!0)}return(0,P.getProxiedConnection)(Q,R,U).then(N=>this.createSession(Q,S,R,N))}shutdown(){var Q;this.isShutdown=!0,null===(Q=this.session)||void 0===Q||Q.close(),this.session=null}};S.Http2SubchannelConnector=Http2SubchannelConnector},14717:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uriToString=S.splitHostPort=S.parseUri=void 0;let R=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function parseUri(Q){let S=R.exec(Q);return null===S?null:{scheme:S[1],authority:S[2],path:S[3]}}S.parseUri=parseUri;let N=/^\d+$/;function splitHostPort(Q){if(Q.startsWith("[")){let S=Q.indexOf("]");if(-1===S)return null;let R=Q.substring(1,S);if(-1===R.indexOf(":"))return null;if(!(Q.length>S+1))return{host:R};if(":"!==Q[S+1])return null;{let M=Q.substring(S+2);return N.test(M)?{host:R,port:+M}:null}}{let S=Q.split(":");return 2!==S.length?{host:Q}:N.test(S[1])?{host:S[0],port:+S[1]}:null}}function uriToString(Q){let S="";return void 0!==Q.scheme&&(S+=Q.scheme+":"),void 0!==Q.authority&&(S+="//"+Q.authority+"/"),S+=Q.path}S.splitHostPort=splitHostPort,S.uriToString=uriToString},18196:(Q,S,R)=>{"use strict";var N,M;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */N={value:!0},N=N=S.im=S.J_=N=S.Cp=N=N=void 0;let L=R(19977),U=R(75962),P=R(95307),Y=R(9234),W=R(16933);N=W,N=function(Q){return"@type"in Q&&"string"==typeof Q["@type"]},function(Q){Q.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",Q.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",Q.IDEMPOTENT="IDEMPOTENT"}(M=S.Cp||(S.Cp={}));let K={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function joinName(Q,S){return""===Q?S:Q+"."+S}function isHandledReflectionObject(Q){return Q instanceof U.Service||Q instanceof U.Type||Q instanceof U.Enum}function isNamespaceBase(Q){return Q instanceof U.Namespace||Q instanceof U.Root}function getAllHandledReflectionObjects(Q,S){let R=joinName(S,Q.name);return isHandledReflectionObject(Q)?[[R,Q]]:isNamespaceBase(Q)&&void 0!==Q.nested?Object.keys(Q.nested).map(S=>getAllHandledReflectionObjects(Q.nested[S],R)).reduce((Q,S)=>Q.concat(S),[]):[]}function createDeserializer(Q,S){return function(R){return Q.toObject(Q.decode(R),S)}}function createSerializer(Q){return function(S){if(Array.isArray(S))throw Error(`Failed to serialize message: expected object with ${Q.name} structure, got array instead`);let R=Q.fromObject(S);return Q.encode(R).finish()}}function mapMethodOptions(Q){return(Q||[]).reduce((Q,S)=>{for(let[R,N]of Object.entries(S))"uninterpreted_option"===R?Q.uninterpreted_option.push(S.uninterpreted_option):Q[R]=N;return Q},{deprecated:!1,idempotency_level:M.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function createMethodDefinition(Q,S,R,N){let M=Q.resolvedRequestType,U=Q.resolvedResponseType;return{path:"/"+S+"/"+Q.name,requestStream:!!Q.requestStream,responseStream:!!Q.responseStream,requestSerialize:createSerializer(M),requestDeserialize:createDeserializer(M,R),responseSerialize:createSerializer(U),responseDeserialize:createDeserializer(U,R),originalName:L(Q.name),requestType:createMessageDefinition(M,N),responseType:createMessageDefinition(U,N),options:mapMethodOptions(Q.parsedOptions)}}function createServiceDefinition(Q,S,R,N){let M={};for(let L of Q.methodsArray)M[L.name]=createMethodDefinition(L,S,R,N);return M}function createMessageDefinition(Q,S){let R=Q.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:R.$type.toObject(R,K),fileDescriptorProtos:S}}function createEnumDefinition(Q,S){let R=Q.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:R.$type.toObject(R,K),fileDescriptorProtos:S}}function createDefinition(Q,S,R,N){if(Q instanceof U.Service)return createServiceDefinition(Q,S,R,N);if(Q instanceof U.Type)return createMessageDefinition(Q,N);if(Q instanceof U.Enum)return createEnumDefinition(Q,N);throw Error("Type mismatch in reflection object handling")}function createPackageDefinition(Q,S){let R={};Q.resolveAll();let N=Q.toDescriptor("proto3").file,M=N.map(Q=>Buffer.from(P.FileDescriptorProto.encode(Q).finish()));for(let[N,L]of getAllHandledReflectionObjects(Q,""))R[N]=createDefinition(L,N,S,M);return R}function createPackageDefinitionFromDescriptorSet(Q,S){S=S||{};let R=U.Root.fromDescriptor(Q);return R.resolveAll(),createPackageDefinition(R,S)}function loadSync(Q,S){let R=(0,Y.loadProtosWithOptionsSync)(Q,S);return createPackageDefinition(R,S)}function fromJSON(Q,S){S=S||{};let R=U.Root.fromJSON(Q);return R.resolveAll(),createPackageDefinition(R,S)}N=function(Q,S){return(0,Y.loadProtosWithOptions)(Q,S).then(Q=>createPackageDefinition(Q,S))},S.J_=loadSync,S.im=fromJSON,N=function(Q,S){let R=P.FileDescriptorSet.decode(Q);return createPackageDefinitionFromDescriptorSet(R,S)},N=function(Q,S){let R=P.FileDescriptorSet.fromObject(Q);return createPackageDefinitionFromDescriptorSet(R,S)},(0,Y.addCommonProtos)()},9234:(Q,S,R)=>{"use strict";/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(S,"__esModule",{value:!0}),S.addCommonProtos=S.loadProtosWithOptionsSync=S.loadProtosWithOptions=void 0;let N=R(57147),M=R(71017),L=R(75962);function addIncludePathResolver(Q,S){let R=Q.resolvePath;Q.resolvePath=(Q,L)=>{if(M.isAbsolute(L))return L;for(let Q of S){let S=M.join(Q,L);try{return N.accessSync(S,N.constants.R_OK),S}catch(Q){continue}}return process.emitWarning(`${L} not found in any of the include paths ${S}`),R(Q,L)}}async function loadProtosWithOptions(Q,S){let R=new L.Root;if((S=S||{}).includeDirs){if(!Array.isArray(S.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));addIncludePathResolver(R,S.includeDirs)}let N=await R.load(Q,S);return N.resolveAll(),N}function loadProtosWithOptionsSync(Q,S){let R=new L.Root;if((S=S||{}).includeDirs){if(!Array.isArray(S.includeDirs))throw Error("The includeDirs option must be an array");addIncludePathResolver(R,S.includeDirs)}let N=R.loadSync(Q,S);return N.resolveAll(),N}function addCommonProtos(){let Q=R(56541),S=R(89987),N=R(57674),M=R(73795);L.common("api",Q.nested.google.nested.protobuf.nested),L.common("descriptor",S.nested.google.nested.protobuf.nested),L.common("source_context",N.nested.google.nested.protobuf.nested),L.common("type",M.nested.google.nested.protobuf.nested)}S.loadProtosWithOptions=loadProtosWithOptions,S.loadProtosWithOptionsSync=loadProtosWithOptionsSync,S.addCommonProtos=addCommonProtos},18670:Q=>{"use strict";function asPromise(Q,S){for(var R=Array(arguments.length-1),N=0,M=2,L=!0;M<arguments.length;)R[N++]=arguments[M++];return new Promise(function(M,U){R[N]=function(Q){if(L){if(L=!1,Q)U(Q);else{for(var S=Array(arguments.length-1),R=0;R<S.length;)S[R++]=arguments[R];M.apply(null,S)}}};try{Q.apply(S||null,R)}catch(Q){L&&(L=!1,U(Q))}})}Q.exports=asPromise},36009:(Q,S)=>{"use strict";var R=S;R.length=function(Q){var S=Q.length;if(!S)return 0;for(var R=0;--S%4>1&&"="===Q.charAt(S);)++R;return Math.ceil(3*Q.length)/4-R};for(var N=Array(64),M=Array(123),L=0;L<64;)M[N[L]=L<26?L+65:L<52?L+71:L<62?L-4:L-59|43]=L++;R.encode=function(Q,S,R){for(var M,L=null,U=[],P=0,Y=0;S<R;){var W=Q[S++];switch(Y){case 0:U[P++]=N[W>>2],M=(3&W)<<4,Y=1;break;case 1:U[P++]=N[M|W>>4],M=(15&W)<<2,Y=2;break;case 2:U[P++]=N[M|W>>6],U[P++]=N[63&W],Y=0}P>8191&&((L||(L=[])).push(String.fromCharCode.apply(String,U)),P=0)}return(Y&&(U[P++]=N[M],U[P++]=61,1===Y&&(U[P++]=61)),L)?(P&&L.push(String.fromCharCode.apply(String,U.slice(0,P))),L.join("")):String.fromCharCode.apply(String,U.slice(0,P))};var U="invalid encoding";R.decode=function(Q,S,R){for(var N,L=R,P=0,Y=0;Y<Q.length;){var W=Q.charCodeAt(Y++);if(61===W&&P>1)break;if(void 0===(W=M[W]))throw Error(U);switch(P){case 0:N=W,P=1;break;case 1:S[R++]=N<<2|(48&W)>>4,N=W,P=2;break;case 2:S[R++]=(15&N)<<4|(60&W)>>2,N=W,P=3;break;case 3:S[R++]=(3&N)<<6|W,P=0}}if(1===P)throw Error(U);return R-L},R.test=function(Q){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(Q)}},57311:Q=>{"use strict";function codegen(Q,S){"string"==typeof Q&&(S=Q,Q=void 0);var R=[];function Codegen(Q){if("string"!=typeof Q){var S=toString();if(codegen.verbose&&console.log("codegen: "+S),S="return "+S,Q){for(var N=Object.keys(Q),M=Array(N.length+1),L=Array(N.length),U=0;U<N.length;)M[U]=N[U],L[U]=Q[N[U++]];return M[U]=S,Function.apply(null,M).apply(null,L)}return Function(S)()}for(var P=Array(arguments.length-1),Y=0;Y<P.length;)P[Y]=arguments[++Y];if(Y=0,Q=Q.replace(/%([%dfijs])/g,function(Q,S){var R=P[Y++];switch(S){case"d":case"f":return String(Number(R));case"i":return String(Math.floor(R));case"j":return JSON.stringify(R);case"s":return String(R)}return"%"}),Y!==P.length)throw Error("parameter count mismatch");return R.push(Q),Codegen}function toString(N){return"function "+(N||S||"")+"("+(Q&&Q.join(",")||"")+"){\n  "+R.join("\n  ")+"\n}"}return Codegen.toString=toString,Codegen}Q.exports=codegen,codegen.verbose=!1},50107:Q=>{"use strict";function EventEmitter(){this._listeners={}}Q.exports=EventEmitter,EventEmitter.prototype.on=function(Q,S,R){return(this._listeners[Q]||(this._listeners[Q]=[])).push({fn:S,ctx:R||this}),this},EventEmitter.prototype.off=function(Q,S){if(void 0===Q)this._listeners={};else if(void 0===S)this._listeners[Q]=[];else for(var R=this._listeners[Q],N=0;N<R.length;)R[N].fn===S?R.splice(N,1):++N;return this},EventEmitter.prototype.emit=function(Q){var S=this._listeners[Q];if(S){for(var R=[],N=1;N<arguments.length;)R.push(arguments[N++]);for(N=0;N<S.length;)S[N].fn.apply(S[N++].ctx,R)}return this}},82651:(Q,S,R)=>{"use strict";Q.exports=fetch;var N=R(18670),M=R(28031)("fs");function fetch(Q,S,R){return("function"==typeof S?(R=S,S={}):S||(S={}),R)?!S.xhr&&M&&M.readFile?M.readFile(Q,function(N,M){return N&&"undefined"!=typeof XMLHttpRequest?fetch.xhr(Q,S,R):N?R(N):R(null,S.binary?M:M.toString("utf8"))}):fetch.xhr(Q,S,R):N(fetch,this,Q,S)}fetch.xhr=function(Q,S,R){var N=new XMLHttpRequest;N.onreadystatechange=function(){if(4===N.readyState){if(0!==N.status&&200!==N.status)return R(Error("status "+N.status));if(S.binary){var Q=N.response;if(!Q){Q=[];for(var M=0;M<N.responseText.length;++M)Q.push(255&N.responseText.charCodeAt(M))}return R(null,"undefined"!=typeof Uint8Array?new Uint8Array(Q):Q)}return R(null,N.responseText)}},S.binary&&("overrideMimeType"in N&&N.overrideMimeType("text/plain; charset=x-user-defined"),N.responseType="arraybuffer"),N.open("GET",Q),N.send()}},71188:Q=>{"use strict";function factory(Q){return"undefined"!=typeof Float32Array?function(){var S=new Float32Array([-0]),R=new Uint8Array(S.buffer),N=128===R[3];function writeFloat_f32_cpy(Q,N,M){S[0]=Q,N[M]=R[0],N[M+1]=R[1],N[M+2]=R[2],N[M+3]=R[3]}function writeFloat_f32_rev(Q,N,M){S[0]=Q,N[M]=R[3],N[M+1]=R[2],N[M+2]=R[1],N[M+3]=R[0]}function readFloat_f32_cpy(Q,N){return R[0]=Q[N],R[1]=Q[N+1],R[2]=Q[N+2],R[3]=Q[N+3],S[0]}function readFloat_f32_rev(Q,N){return R[3]=Q[N],R[2]=Q[N+1],R[1]=Q[N+2],R[0]=Q[N+3],S[0]}Q.writeFloatLE=N?writeFloat_f32_cpy:writeFloat_f32_rev,Q.writeFloatBE=N?writeFloat_f32_rev:writeFloat_f32_cpy,Q.readFloatLE=N?readFloat_f32_cpy:readFloat_f32_rev,Q.readFloatBE=N?readFloat_f32_rev:readFloat_f32_cpy}():function(){function writeFloat_ieee754(Q,S,R,N){var M=S<0?1:0;if(M&&(S=-S),0===S)Q(1/S>0?0:2147483648,R,N);else if(isNaN(S))Q(2143289344,R,N);else if(S>34028234663852886e22)Q((M<<31|2139095040)>>>0,R,N);else if(S<11754943508222875e-54)Q((M<<31|Math.round(S/1401298464324817e-60))>>>0,R,N);else{var L=Math.floor(Math.log(S)/Math.LN2),U=8388607&Math.round(S*Math.pow(2,-L)*8388608);Q((M<<31|L+127<<23|U)>>>0,R,N)}}function readFloat_ieee754(Q,S,R){var N=Q(S,R),M=(N>>31)*2+1,L=N>>>23&255,U=8388607&N;return 255===L?U?NaN:M*(1/0):0===L?1401298464324817e-60*M*U:M*Math.pow(2,L-150)*(U+8388608)}Q.writeFloatLE=writeFloat_ieee754.bind(null,writeUintLE),Q.writeFloatBE=writeFloat_ieee754.bind(null,writeUintBE),Q.readFloatLE=readFloat_ieee754.bind(null,readUintLE),Q.readFloatBE=readFloat_ieee754.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var S=new Float64Array([-0]),R=new Uint8Array(S.buffer),N=128===R[7];function writeDouble_f64_cpy(Q,N,M){S[0]=Q,N[M]=R[0],N[M+1]=R[1],N[M+2]=R[2],N[M+3]=R[3],N[M+4]=R[4],N[M+5]=R[5],N[M+6]=R[6],N[M+7]=R[7]}function writeDouble_f64_rev(Q,N,M){S[0]=Q,N[M]=R[7],N[M+1]=R[6],N[M+2]=R[5],N[M+3]=R[4],N[M+4]=R[3],N[M+5]=R[2],N[M+6]=R[1],N[M+7]=R[0]}function readDouble_f64_cpy(Q,N){return R[0]=Q[N],R[1]=Q[N+1],R[2]=Q[N+2],R[3]=Q[N+3],R[4]=Q[N+4],R[5]=Q[N+5],R[6]=Q[N+6],R[7]=Q[N+7],S[0]}function readDouble_f64_rev(Q,N){return R[7]=Q[N],R[6]=Q[N+1],R[5]=Q[N+2],R[4]=Q[N+3],R[3]=Q[N+4],R[2]=Q[N+5],R[1]=Q[N+6],R[0]=Q[N+7],S[0]}Q.writeDoubleLE=N?writeDouble_f64_cpy:writeDouble_f64_rev,Q.writeDoubleBE=N?writeDouble_f64_rev:writeDouble_f64_cpy,Q.readDoubleLE=N?readDouble_f64_cpy:readDouble_f64_rev,Q.readDoubleBE=N?readDouble_f64_rev:readDouble_f64_cpy}():function(){function writeDouble_ieee754(Q,S,R,N,M,L){var U,P=N<0?1:0;if(P&&(N=-N),0===N)Q(0,M,L+S),Q(1/N>0?0:2147483648,M,L+R);else if(isNaN(N))Q(0,M,L+S),Q(2146959360,M,L+R);else if(N>17976931348623157e292)Q(0,M,L+S),Q((P<<31|2146435072)>>>0,M,L+R);else if(N<22250738585072014e-324)Q((U=N/5e-324)>>>0,M,L+S),Q((P<<31|U/4294967296)>>>0,M,L+R);else{var Y=Math.floor(Math.log(N)/Math.LN2);1024===Y&&(Y=1023),Q(4503599627370496*(U=N*Math.pow(2,-Y))>>>0,M,L+S),Q((P<<31|Y+1023<<20|1048576*U&1048575)>>>0,M,L+R)}}function readDouble_ieee754(Q,S,R,N,M){var L=Q(N,M+S),U=Q(N,M+R),P=(U>>31)*2+1,Y=U>>>20&2047,W=4294967296*(1048575&U)+L;return 2047===Y?W?NaN:P*(1/0):0===Y?5e-324*P*W:P*Math.pow(2,Y-1075)*(W+4503599627370496)}Q.writeDoubleLE=writeDouble_ieee754.bind(null,writeUintLE,0,4),Q.writeDoubleBE=writeDouble_ieee754.bind(null,writeUintBE,4,0),Q.readDoubleLE=readDouble_ieee754.bind(null,readUintLE,0,4),Q.readDoubleBE=readDouble_ieee754.bind(null,readUintBE,4,0)}(),Q}function writeUintLE(Q,S,R){S[R]=255&Q,S[R+1]=Q>>>8&255,S[R+2]=Q>>>16&255,S[R+3]=Q>>>24}function writeUintBE(Q,S,R){S[R]=Q>>>24,S[R+1]=Q>>>16&255,S[R+2]=Q>>>8&255,S[R+3]=255&Q}function readUintLE(Q,S){return(Q[S]|Q[S+1]<<8|Q[S+2]<<16|Q[S+3]<<24)>>>0}function readUintBE(Q,S){return(Q[S]<<24|Q[S+1]<<16|Q[S+2]<<8|Q[S+3])>>>0}Q.exports=factory(factory)},28031:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},52768:(Q,S)=>{"use strict";var R=S,N=R.isAbsolute=function(Q){return/^(?:\/|\w+:)/.test(Q)},M=R.normalize=function(Q){var S=(Q=Q.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),R=N(Q),M="";R&&(M=S.shift()+"/");for(var L=0;L<S.length;)".."===S[L]?L>0&&".."!==S[L-1]?S.splice(--L,2):R?S.splice(L,1):++L:"."===S[L]?S.splice(L,1):++L;return M+S.join("/")};R.resolve=function(Q,S,R){return(R||(S=M(S)),N(S))?S:(R||(Q=M(Q)),(Q=Q.replace(/(?:\/|^)[^/]+$/,"")).length?M(Q+"/"+S):S)}},14314:Q=>{"use strict";function pool(Q,S,R){var N=R||8192,M=N>>>1,L=null,U=N;return function(R){if(R<1||R>M)return Q(R);U+R>N&&(L=Q(N),U=0);var P=S.call(L,U,U+=R);return 7&U&&(U=(7|U)+1),P}}Q.exports=pool},67148:(Q,S)=>{"use strict";var R=S;R.length=function(Q){for(var S=0,R=0,N=0;N<Q.length;++N)(R=Q.charCodeAt(N))<128?S+=1:R<2048?S+=2:(64512&R)==55296&&(64512&Q.charCodeAt(N+1))==56320?(++N,S+=4):S+=3;return S},R.read=function(Q,S,R){if(R-S<1)return"";for(var N,M=null,L=[],U=0;S<R;)(N=Q[S++])<128?L[U++]=N:N>191&&N<224?L[U++]=(31&N)<<6|63&Q[S++]:N>239&&N<365?(N=((7&N)<<18|(63&Q[S++])<<12|(63&Q[S++])<<6|63&Q[S++])-65536,L[U++]=55296+(N>>10),L[U++]=56320+(1023&N)):L[U++]=(15&N)<<12|(63&Q[S++])<<6|63&Q[S++],U>8191&&((M||(M=[])).push(String.fromCharCode.apply(String,L)),U=0);return M?(U&&M.push(String.fromCharCode.apply(String,L.slice(0,U))),M.join("")):String.fromCharCode.apply(String,L.slice(0,U))},R.write=function(Q,S,R){for(var N,M,L=R,U=0;U<Q.length;++U)(N=Q.charCodeAt(U))<128?S[R++]=N:(N<2048?S[R++]=N>>6|192:((64512&N)==55296&&(64512&(M=Q.charCodeAt(U+1)))==56320?(N=65536+((1023&N)<<10)+(1023&M),++U,S[R++]=N>>18|240,S[R++]=N>>12&63|128):S[R++]=N>>12|224,S[R++]=N>>6&63|128),S[R++]=63&N|128);return R-L}},19977:Q=>{var S=1/0,R="[object Symbol]",N=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,M=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,L="\ud800-\udfff",U="\\u0300-\\u036f\\ufe20-\\ufe23",P="\\u20d0-\\u20f0",Y="\\u2700-\\u27bf",W="a-z\\xdf-\\xf6\\xf8-\\xff",K="A-Z\\xc0-\\xd6\\xd8-\\xde",X="\\ufe0e\\ufe0f",Z="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$="[']",ee="["+L+"]",et="["+Z+"]",en="["+U+P+"]",ei="\\d+",es="["+Y+"]",eo="["+W+"]",ea="[^"+L+Z+ei+Y+W+K+"]",eA="\ud83c[\udffb-\udfff]",ec="[^"+L+"]",eu="(?:\ud83c[\udde6-\uddff]){2}",eh="[\ud800-\udbff][\udc00-\udfff]",ed="["+K+"]",eg="\\u200d",ep="(?:"+eo+"|"+ea+")",ef="(?:"+ed+"|"+ea+")",eE="(?:"+$+"(?:d|ll|m|re|s|t|ve))?",em="(?:"+$+"(?:D|LL|M|RE|S|T|VE))?",eC="(?:"+en+"|"+eA+")?",eI="["+X+"]?",eB="(?:"+eg+"(?:"+[ec,eu,eh].join("|")+")"+eI+eC+")*",ey=eI+eC+eB,eQ="(?:"+[es,eu,eh].join("|")+")"+ey,eS="(?:"+[ec+en+"?",en,eu,eh,ee].join("|")+")",eb=RegExp($,"g"),ew=RegExp(en,"g"),eD=RegExp(eA+"(?="+eA+")|"+eS+ey,"g"),eR=RegExp([ed+"?"+eo+"+"+eE+"(?="+[et,ed,"$"].join("|")+")",ef+"+"+em+"(?="+[et,ed+ep,"$"].join("|")+")",ed+"?"+ep+"+"+eE,ed+"+"+em,ei,eQ].join("|"),"g"),eT=RegExp("["+eg+L+U+P+X+"]"),ek=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eN={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},eF="object"==typeof global&&global&&global.Object===Object&&global,eM="object"==typeof self&&self&&self.Object===Object&&self,eL=eF||eM||Function("return this")();function arrayReduce(Q,S,R,N){var M=-1,L=Q?Q.length:0;for(N&&L&&(R=Q[++M]);++M<L;)R=S(R,Q[M],M,Q);return R}function asciiToArray(Q){return Q.split("")}function asciiWords(Q){return Q.match(N)||[]}var ex=function(Q){return function(S){return null==Q?void 0:Q[S]}}(eN);function hasUnicode(Q){return eT.test(Q)}function hasUnicodeWord(Q){return ek.test(Q)}function stringToArray(Q){return hasUnicode(Q)?unicodeToArray(Q):asciiToArray(Q)}function unicodeToArray(Q){return Q.match(eD)||[]}function unicodeWords(Q){return Q.match(eR)||[]}var e_=Object.prototype.toString,eU=eL.Symbol,eO=eU?eU.prototype:void 0,eP=eO?eO.toString:void 0;function baseSlice(Q,S,R){var N=-1,M=Q.length;S<0&&(S=-S>M?0:M+S),(R=R>M?M:R)<0&&(R+=M),M=S>R?0:R-S>>>0,S>>>=0;for(var L=Array(M);++N<M;)L[N]=Q[N+S];return L}function baseToString(Q){if("string"==typeof Q)return Q;if(isSymbol(Q))return eP?eP.call(Q):"";var R=Q+"";return"0"==R&&1/Q==-S?"-0":R}function castSlice(Q,S,R){var N=Q.length;return R=void 0===R?N:R,!S&&R>=N?Q:baseSlice(Q,S,R)}function createCaseFirst(Q){return function(S){var R=hasUnicode(S=toString(S))?stringToArray(S):void 0,N=R?R[0]:S.charAt(0),M=R?castSlice(R,1).join(""):S.slice(1);return N[Q]()+M}}function isObjectLike(Q){return!!Q&&"object"==typeof Q}function isSymbol(Q){return"symbol"==typeof Q||isObjectLike(Q)&&e_.call(Q)==R}function toString(Q){return null==Q?"":baseToString(Q)}var eV=function(Q){return function(S){return arrayReduce(words(deburr(S).replace(eb,"")),Q,"")}}(function(Q,S,R){return S=S.toLowerCase(),Q+(R?capitalize(S):S)});function capitalize(Q){return eG(toString(Q).toLowerCase())}function deburr(Q){return(Q=toString(Q))&&Q.replace(M,ex).replace(ew,"")}var eG=createCaseFirst("toUpperCase");function words(Q,S,R){return(Q=toString(Q),void 0===(S=R?void 0:S))?hasUnicodeWord(Q)?unicodeWords(Q):asciiWords(Q):Q.match(S)||[]}Q.exports=eV},54401:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"addLocale",{enumerable:!0,get:function(){return addLocale}}),R(76945);let addLocale=function(Q){for(var S=arguments.length,R=Array(S>1?S-1:0),N=1;N<S;N++)R[N-1]=arguments[N];return Q};("function"==typeof S.default||"object"==typeof S.default&&null!==S.default)&&void 0===S.default.__esModule&&(Object.defineProperty(S.default,"__esModule",{value:!0}),Object.assign(S.default,S),Q.exports=S.default)},66670:(Q,S,R)=>{"use strict";function getDomainLocale(Q,S,R,N){return!1}Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"getDomainLocale",{enumerable:!0,get:function(){return getDomainLocale}}),R(76945),("function"==typeof S.default||"object"==typeof S.default&&null!==S.default)&&void 0===S.default.__esModule&&(Object.defineProperty(S.default,"__esModule",{value:!0}),Object.assign(S.default,S),Q.exports=S.default)},30614:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"default",{enumerable:!0,get:function(){return ei}});let N=R(80085),M=N._(R(9885)),L=R(62861),U=R(20058),P=R(30602),Y=R(84679),W=R(54401),K=R(10713),X=R(82428),Z=R(32229),$=R(66670),ee=R(16879),et=R(3678);function isModifiedEvent(Q){let S=Q.currentTarget,R=S.getAttribute("target");return R&&"_self"!==R||Q.metaKey||Q.ctrlKey||Q.shiftKey||Q.altKey||Q.nativeEvent&&2===Q.nativeEvent.which}function linkClicked(Q,S,R,N,L,P,Y,W,K,X){let{nodeName:Z}=Q.currentTarget,$="A"===Z.toUpperCase();if($&&(isModifiedEvent(Q)||!K&&!(0,U.isLocalURL)(R)))return;Q.preventDefault();let navigate=()=>{let Q=null==Y||Y;"beforePopState"in S?S[L?"replace":"push"](R,N,{shallow:P,locale:W,scroll:Q}):S[L?"replace":"push"](N||R,{forceOptimisticNavigation:!X,scroll:Q})};K?M.default.startTransition(navigate):navigate()}function formatStringOrUrl(Q){return"string"==typeof Q?Q:(0,P.formatUrl)(Q)}let en=M.default.forwardRef(function(Q,S){let R,N;let{href:U,as:P,children:en,prefetch:ei=null,passHref:es,replace:eo,shallow:ea,scroll:eA,locale:ec,onClick:eu,onMouseEnter:eh,onTouchStart:ed,legacyBehavior:eg=!1,...ep}=Q;R=en,eg&&("string"==typeof R||"number"==typeof R)&&(R=M.default.createElement("a",null,R));let ef=M.default.useContext(K.RouterContext),eE=M.default.useContext(X.AppRouterContext),em=null!=ef?ef:eE,eC=!ef,eI=!1!==ei,eB=null===ei?et.PrefetchKind.AUTO:et.PrefetchKind.FULL,{href:ey,as:eQ}=M.default.useMemo(()=>{if(!ef){let Q=formatStringOrUrl(U);return{href:Q,as:P?formatStringOrUrl(P):Q}}let[Q,S]=(0,L.resolveHref)(ef,U,!0);return{href:Q,as:P?(0,L.resolveHref)(ef,P):S||Q}},[ef,U,P]),eS=M.default.useRef(ey),eb=M.default.useRef(eQ);eg&&(N=M.default.Children.only(R));let ew=eg?N&&"object"==typeof N&&N.ref:S,[eD,eR,eT]=(0,Z.useIntersection)({rootMargin:"200px"}),ek=M.default.useCallback(Q=>{(eb.current!==eQ||eS.current!==ey)&&(eT(),eb.current=eQ,eS.current=ey),eD(Q),ew&&("function"==typeof ew?ew(Q):"object"==typeof ew&&(ew.current=Q))},[eQ,ew,ey,eT,eD]);M.default.useEffect(()=>{},[eQ,ey,eR,ec,eI,null==ef?void 0:ef.locale,em,eC,eB]);let eN={ref:ek,onClick(Q){eg||"function"!=typeof eu||eu(Q),eg&&N.props&&"function"==typeof N.props.onClick&&N.props.onClick(Q),em&&!Q.defaultPrevented&&linkClicked(Q,em,ey,eQ,eo,ea,eA,ec,eC,eI)},onMouseEnter(Q){eg||"function"!=typeof eh||eh(Q),eg&&N.props&&"function"==typeof N.props.onMouseEnter&&N.props.onMouseEnter(Q)},onTouchStart(Q){eg||"function"!=typeof ed||ed(Q),eg&&N.props&&"function"==typeof N.props.onTouchStart&&N.props.onTouchStart(Q)}};if((0,Y.isAbsoluteUrl)(eQ))eN.href=eQ;else if(!eg||es||"a"===N.type&&!("href"in N.props)){let Q=void 0!==ec?ec:null==ef?void 0:ef.locale,S=(null==ef?void 0:ef.isLocaleDomain)&&(0,$.getDomainLocale)(eQ,Q,null==ef?void 0:ef.locales,null==ef?void 0:ef.domainLocales);eN.href=S||(0,ee.addBasePath)((0,W.addLocale)(eQ,Q,null==ef?void 0:ef.defaultLocale))}return eg?M.default.cloneElement(N,eN):M.default.createElement("a",{...ep,...eN},R)}),ei=en;("function"==typeof S.default||"object"==typeof S.default&&null!==S.default)&&void 0===S.default.__esModule&&(Object.defineProperty(S.default,"__esModule",{value:!0}),Object.assign(S.default,S),Q.exports=S.default)},62861:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"resolveHref",{enumerable:!0,get:function(){return resolveHref}});let N=R(56141),M=R(30602),L=R(37739),U=R(84679),P=R(76945),Y=R(20058),W=R(33751),K=R(44006);function resolveHref(Q,S,R){let X;let Z="string"==typeof S?S:(0,M.formatWithValidation)(S),$=Z.match(/^[a-zA-Z]{1,}:\/\//),ee=$?Z.slice($[0].length):Z,et=ee.split("?",1);if((et[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+Z+"' passed to next/router in page: '"+Q.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let S=(0,U.normalizeRepeatedSlashes)(ee);Z=($?$[0]:"")+S}if(!(0,Y.isLocalURL)(Z))return R?[Z]:Z;try{X=new URL(Z.startsWith("#")?Q.asPath:Q.pathname,"http://n")}catch(Q){X=new URL("/","http://n")}try{let Q=new URL(Z,X);Q.pathname=(0,P.normalizePathTrailingSlash)(Q.pathname);let S="";if((0,W.isDynamicRoute)(Q.pathname)&&Q.searchParams&&R){let R=(0,N.searchParamsToUrlQuery)(Q.searchParams),{result:U,params:P}=(0,K.interpolateAs)(Q.pathname,Q.pathname,R);U&&(S=(0,M.formatWithValidation)({pathname:U,hash:Q.hash,query:(0,L.omit)(R,P)}))}let U=Q.origin===X.origin?Q.href.slice(Q.origin.length):Q.href;return R?[U,S||U]:U}catch(Q){return R?[Z]:Z}}("function"==typeof S.default||"object"==typeof S.default&&null!==S.default)&&void 0===S.default.__esModule&&(Object.defineProperty(S.default,"__esModule",{value:!0}),Object.assign(S.default,S),Q.exports=S.default)},32229:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"useIntersection",{enumerable:!0,get:function(){return useIntersection}});let N=R(9885),M=R(14149),L="function"==typeof IntersectionObserver,U=new Map,P=[];function createObserver(Q){let S;let R={root:Q.root||null,margin:Q.rootMargin||""},N=P.find(Q=>Q.root===R.root&&Q.margin===R.margin);if(N&&(S=U.get(N)))return S;let M=new Map,L=new IntersectionObserver(Q=>{Q.forEach(Q=>{let S=M.get(Q.target),R=Q.isIntersecting||Q.intersectionRatio>0;S&&R&&S(R)})},Q);return S={id:R,observer:L,elements:M},P.push(R),U.set(R,S),S}function observe(Q,S,R){let{id:N,observer:M,elements:L}=createObserver(R);return L.set(Q,S),M.observe(Q),function(){if(L.delete(Q),M.unobserve(Q),0===L.size){M.disconnect(),U.delete(N);let Q=P.findIndex(Q=>Q.root===N.root&&Q.margin===N.margin);Q>-1&&P.splice(Q,1)}}}function useIntersection(Q){let{rootRef:S,rootMargin:R,disabled:U}=Q,P=U||!L,[Y,W]=(0,N.useState)(!1),K=(0,N.useRef)(null),X=(0,N.useCallback)(Q=>{K.current=Q},[]);(0,N.useEffect)(()=>{if(L){if(P||Y)return;let Q=K.current;if(Q&&Q.tagName){let N=observe(Q,Q=>Q&&W(Q),{root:null==S?void 0:S.current,rootMargin:R});return N}}else if(!Y){let Q=(0,M.requestIdleCallback)(()=>W(!0));return()=>(0,M.cancelIdleCallback)(Q)}},[P,R,S,Y,K.current]);let Z=(0,N.useCallback)(()=>{W(!1)},[]);return[X,Y,Z]}("function"==typeof S.default||"object"==typeof S.default&&null!==S.default)&&void 0===S.default.__esModule&&(Object.defineProperty(S.default,"__esModule",{value:!0}),Object.assign(S.default,S),Q.exports=S.default)},50821:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"escapeStringRegexp",{enumerable:!0,get:function(){return escapeStringRegexp}});let R=/[|\\{}()[\]^$+*?.-]/,N=/[|\\{}()[\]^$+*?.-]/g;function escapeStringRegexp(Q){return R.test(Q)?Q.replace(N,"\\$&"):Q}},30602:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),function(Q,S){for(var R in S)Object.defineProperty(Q,R,{enumerable:!0,get:S[R]})}(S,{formatUrl:function(){return formatUrl},urlObjectKeys:function(){return U},formatWithValidation:function(){return formatWithValidation}});let N=R(8425),M=N._(R(56141)),L=/https?|ftp|gopher|file/;function formatUrl(Q){let{auth:S,hostname:R}=Q,N=Q.protocol||"",U=Q.pathname||"",P=Q.hash||"",Y=Q.query||"",W=!1;S=S?encodeURIComponent(S).replace(/%3A/i,":")+"@":"",Q.host?W=S+Q.host:R&&(W=S+(~R.indexOf(":")?"["+R+"]":R),Q.port&&(W+=":"+Q.port)),Y&&"object"==typeof Y&&(Y=String(M.urlQueryToSearchParams(Y)));let K=Q.search||Y&&"?"+Y||"";return N&&!N.endsWith(":")&&(N+=":"),Q.slashes||(!N||L.test(N))&&!1!==W?(W="//"+(W||""),U&&"/"!==U[0]&&(U="/"+U)):W||(W=""),P&&"#"!==P[0]&&(P="#"+P),K&&"?"!==K[0]&&(K="?"+K),""+N+W+(U=U.replace(/[?#]/g,encodeURIComponent))+(K=K.replace("#","%23"))+P}let U=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function formatWithValidation(Q){return formatUrl(Q)}},33751:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),function(Q,S){for(var R in S)Object.defineProperty(Q,R,{enumerable:!0,get:S[R]})}(S,{getSortedRoutes:function(){return N.getSortedRoutes},isDynamicRoute:function(){return M.isDynamicRoute}});let N=R(72861),M=R(21534)},44006:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"interpolateAs",{enumerable:!0,get:function(){return interpolateAs}});let N=R(43630),M=R(80680);function interpolateAs(Q,S,R){let L="",U=(0,M.getRouteRegex)(Q),P=U.groups,Y=(S!==Q?(0,N.getRouteMatcher)(U)(S):"")||R;L=Q;let W=Object.keys(P);return W.every(Q=>{let S=Y[Q]||"",{repeat:R,optional:N}=P[Q],M="["+(R?"...":"")+Q+"]";return N&&(M=(S?"":"/")+"["+M+"]"),R&&!Array.isArray(S)&&(S=[S]),(N||Q in Y)&&(L=L.replace(M,R?S.map(Q=>encodeURIComponent(Q)).join("/"):encodeURIComponent(S))||"/")})||(L=""),{params:W,result:L}}},21534:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"isDynamicRoute",{enumerable:!0,get:function(){return isDynamicRoute}});let R=/\/\[[^/]+?\](?=\/|$)/;function isDynamicRoute(Q){return R.test(Q)}},20058:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"isLocalURL",{enumerable:!0,get:function(){return isLocalURL}});let N=R(84679),M=R(99760);function isLocalURL(Q){if(!(0,N.isAbsoluteUrl)(Q))return!0;try{let S=(0,N.getLocationOrigin)(),R=new URL(Q,S);return R.origin===S&&(0,M.hasBasePath)(R.pathname)}catch(Q){return!1}}},37739:(Q,S)=>{"use strict";function omit(Q,S){let R={};return Object.keys(Q).forEach(N=>{S.includes(N)||(R[N]=Q[N])}),R}Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"omit",{enumerable:!0,get:function(){return omit}})},56141:(Q,S)=>{"use strict";function searchParamsToUrlQuery(Q){let S={};return Q.forEach((Q,R)=>{void 0===S[R]?S[R]=Q:Array.isArray(S[R])?S[R].push(Q):S[R]=[S[R],Q]}),S}function stringifyUrlQueryParam(Q){return"string"!=typeof Q&&("number"!=typeof Q||isNaN(Q))&&"boolean"!=typeof Q?"":String(Q)}function urlQueryToSearchParams(Q){let S=new URLSearchParams;return Object.entries(Q).forEach(Q=>{let[R,N]=Q;Array.isArray(N)?N.forEach(Q=>S.append(R,stringifyUrlQueryParam(Q))):S.set(R,stringifyUrlQueryParam(N))}),S}function assign(Q){for(var S=arguments.length,R=Array(S>1?S-1:0),N=1;N<S;N++)R[N-1]=arguments[N];return R.forEach(S=>{Array.from(S.keys()).forEach(S=>Q.delete(S)),S.forEach((S,R)=>Q.append(R,S))}),Q}Object.defineProperty(S,"__esModule",{value:!0}),function(Q,S){for(var R in S)Object.defineProperty(Q,R,{enumerable:!0,get:S[R]})}(S,{searchParamsToUrlQuery:function(){return searchParamsToUrlQuery},urlQueryToSearchParams:function(){return urlQueryToSearchParams},assign:function(){return assign}})},43630:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"getRouteMatcher",{enumerable:!0,get:function(){return getRouteMatcher}});let N=R(84679);function getRouteMatcher(Q){let{re:S,groups:R}=Q;return Q=>{let M=S.exec(Q);if(!M)return!1;let decode=Q=>{try{return decodeURIComponent(Q)}catch(Q){throw new N.DecodeError("failed to decode param")}},L={};return Object.keys(R).forEach(Q=>{let S=R[Q],N=M[S.pos];void 0!==N&&(L[Q]=~N.indexOf("/")?N.split("/").map(Q=>decode(Q)):S.repeat?[decode(N)]:decode(N))}),L}}},80680:(Q,S,R)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),function(Q,S){for(var R in S)Object.defineProperty(Q,R,{enumerable:!0,get:S[R]})}(S,{getRouteRegex:function(){return getRouteRegex},getNamedRouteRegex:function(){return getNamedRouteRegex},getNamedMiddlewareRegex:function(){return getNamedMiddlewareRegex}});let N=R(84265),M=R(50821),L=R(96923),U="nxtP",P="nxtI";function parseParameter(Q){let S=Q.startsWith("[")&&Q.endsWith("]");S&&(Q=Q.slice(1,-1));let R=Q.startsWith("...");return R&&(Q=Q.slice(3)),{key:Q,repeat:R,optional:S}}function getParametrizedRoute(Q){let S=(0,L.removeTrailingSlash)(Q).slice(1).split("/"),R={},U=1;return{parameterizedRoute:S.map(Q=>{let S=N.INTERCEPTION_ROUTE_MARKERS.find(S=>Q.startsWith(S)),L=Q.match(/\[((?:\[.*\])|.+)\]/);if(S&&L){let{key:Q,optional:N,repeat:P}=parseParameter(L[1]);return R[Q]={pos:U++,repeat:P,optional:N},"/"+(0,M.escapeStringRegexp)(S)+"([^/]+?)"}if(!L)return"/"+(0,M.escapeStringRegexp)(Q);{let{key:Q,repeat:S,optional:N}=parseParameter(L[1]);return R[Q]={pos:U++,repeat:S,optional:N},S?N?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:R}}function getRouteRegex(Q){let{parameterizedRoute:S,groups:R}=getParametrizedRoute(Q);return{re:RegExp("^"+S+"(?:/)?$"),groups:R}}function buildGetSafeRouteKey(){let Q=0;return()=>{let S="",R=++Q;for(;R>0;)S+=String.fromCharCode(97+(R-1)%26),R=Math.floor((R-1)/26);return S}}function getSafeKeyFromSegment(Q){let{getSafeRouteKey:S,segment:R,routeKeys:N,keyPrefix:M}=Q,{key:L,optional:U,repeat:P}=parseParameter(R),Y=L.replace(/\W/g,"");M&&(Y=""+M+Y);let W=!1;return(0===Y.length||Y.length>30)&&(W=!0),isNaN(parseInt(Y.slice(0,1)))||(W=!0),W&&(Y=S()),M?N[Y]=""+M+L:N[Y]=""+L,P?U?"(?:/(?<"+Y+">.+?))?":"/(?<"+Y+">.+?)":"/(?<"+Y+">[^/]+?)"}function getNamedParametrizedRoute(Q,S){let R=(0,L.removeTrailingSlash)(Q).slice(1).split("/"),Y=buildGetSafeRouteKey(),W={};return{namedParameterizedRoute:R.map(Q=>{let R=N.INTERCEPTION_ROUTE_MARKERS.some(S=>Q.startsWith(S)),L=Q.match(/\[((?:\[.*\])|.+)\]/);return R&&L?getSafeKeyFromSegment({getSafeRouteKey:Y,segment:L[1],routeKeys:W,keyPrefix:S?P:void 0}):L?getSafeKeyFromSegment({getSafeRouteKey:Y,segment:L[1],routeKeys:W,keyPrefix:S?U:void 0}):"/"+(0,M.escapeStringRegexp)(Q)}).join(""),routeKeys:W}}function getNamedRouteRegex(Q,S){let R=getNamedParametrizedRoute(Q,S);return{...getRouteRegex(Q),namedRegex:"^"+R.namedParameterizedRoute+"(?:/)?$",routeKeys:R.routeKeys}}function getNamedMiddlewareRegex(Q,S){let{parameterizedRoute:R}=getParametrizedRoute(Q),{catchAll:N=!0}=S;if("/"===R)return{namedRegex:"^/"+(N?".*":"")+"$"};let{namedParameterizedRoute:M}=getNamedParametrizedRoute(Q,!1);return{namedRegex:"^"+M+(N?"(?:(/.*)?)":"")+"$"}}},72861:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"getSortedRoutes",{enumerable:!0,get:function(){return getSortedRoutes}});let UrlNode=class UrlNode{insert(Q){this._insert(Q.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(Q){void 0===Q&&(Q="/");let S=[...this.children.keys()].sort();null!==this.slugName&&S.splice(S.indexOf("[]"),1),null!==this.restSlugName&&S.splice(S.indexOf("[...]"),1),null!==this.optionalRestSlugName&&S.splice(S.indexOf("[[...]]"),1);let R=S.map(S=>this.children.get(S)._smoosh(""+Q+S+"/")).reduce((Q,S)=>[...Q,...S],[]);if(null!==this.slugName&&R.push(...this.children.get("[]")._smoosh(Q+"["+this.slugName+"]/")),!this.placeholder){let S="/"===Q?"/":Q.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+S+'" and "'+S+"[[..."+this.optionalRestSlugName+']]").');R.unshift(S)}return null!==this.restSlugName&&R.push(...this.children.get("[...]")._smoosh(Q+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&R.push(...this.children.get("[[...]]")._smoosh(Q+"[[..."+this.optionalRestSlugName+"]]/")),R}_insert(Q,S,R){if(0===Q.length){this.placeholder=!1;return}if(R)throw Error("Catch-all must be the last part of the URL.");let N=Q[0];if(N.startsWith("[")&&N.endsWith("]")){let M=N.slice(1,-1),L=!1;if(M.startsWith("[")&&M.endsWith("]")&&(M=M.slice(1,-1),L=!0),M.startsWith("...")&&(M=M.substring(3),R=!0),M.startsWith("[")||M.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+M+"').");if(M.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+M+"').");function handleSlug(Q,R){if(null!==Q&&Q!==R)throw Error("You cannot use different slug names for the same dynamic path ('"+Q+"' !== '"+R+"').");S.forEach(Q=>{if(Q===R)throw Error('You cannot have the same slug name "'+R+'" repeat within a single dynamic path');if(Q.replace(/\W/g,"")===N.replace(/\W/g,""))throw Error('You cannot have the slug names "'+Q+'" and "'+R+'" differ only by non-word symbols within a single dynamic path')}),S.push(R)}if(R){if(L){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+Q[0]+'" ).');handleSlug(this.optionalRestSlugName,M),this.optionalRestSlugName=M,N="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+Q[0]+'").');handleSlug(this.restSlugName,M),this.restSlugName=M,N="[...]"}}else{if(L)throw Error('Optional route parameters are not yet supported ("'+Q[0]+'").');handleSlug(this.slugName,M),this.slugName=M,N="[]"}}this.children.has(N)||this.children.set(N,new UrlNode),this.children.get(N)._insert(Q.slice(1),S,R)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}};function getSortedRoutes(Q){let S=new UrlNode;return Q.forEach(Q=>S.insert(Q)),S.smoosh()}},84679:(Q,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),function(Q,S){for(var R in S)Object.defineProperty(Q,R,{enumerable:!0,get:S[R]})}(S,{WEB_VITALS:function(){return R},execOnce:function(){return execOnce},isAbsoluteUrl:function(){return isAbsoluteUrl},getLocationOrigin:function(){return getLocationOrigin},getURL:function(){return getURL},getDisplayName:function(){return getDisplayName},isResSent:function(){return isResSent},normalizeRepeatedSlashes:function(){return normalizeRepeatedSlashes},loadGetInitialProps:function(){return loadGetInitialProps},SP:function(){return M},ST:function(){return L},DecodeError:function(){return DecodeError},NormalizeError:function(){return NormalizeError},PageNotFoundError:function(){return PageNotFoundError},MissingStaticPage:function(){return MissingStaticPage},MiddlewareNotFoundError:function(){return MiddlewareNotFoundError},stringifyError:function(){return stringifyError}});let R=["CLS","FCP","FID","INP","LCP","TTFB"];function execOnce(Q){let S,R=!1;return function(){for(var N=arguments.length,M=Array(N),L=0;L<N;L++)M[L]=arguments[L];return R||(R=!0,S=Q(...M)),S}}let N=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,isAbsoluteUrl=Q=>N.test(Q);function getLocationOrigin(){let{protocol:Q,hostname:S,port:R}=window.location;return Q+"//"+S+(R?":"+R:"")}function getURL(){let{href:Q}=window.location,S=getLocationOrigin();return Q.substring(S.length)}function getDisplayName(Q){return"string"==typeof Q?Q:Q.displayName||Q.name||"Unknown"}function isResSent(Q){return Q.finished||Q.headersSent}function normalizeRepeatedSlashes(Q){let S=Q.split("?"),R=S[0];return R.replace(/\\/g,"/").replace(/\/\/+/g,"/")+(S[1]?"?"+S.slice(1).join("?"):"")}async function loadGetInitialProps(Q,S){let R=S.res||S.ctx&&S.ctx.res;if(!Q.getInitialProps)return S.ctx&&S.Component?{pageProps:await loadGetInitialProps(S.Component,S.ctx)}:{};let N=await Q.getInitialProps(S);if(R&&isResSent(R))return N;if(!N){let S='"'+getDisplayName(Q)+'.getInitialProps()" should resolve to an object. But found "'+N+'" instead.';throw Error(S)}return N}let M="undefined"!=typeof performance,L=M&&["mark","measure","getEntriesByName"].every(Q=>"function"==typeof performance[Q]);let DecodeError=class DecodeError extends Error{};let NormalizeError=class NormalizeError extends Error{};let PageNotFoundError=class PageNotFoundError extends Error{constructor(Q){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+Q}};let MissingStaticPage=class MissingStaticPage extends Error{constructor(Q,S){super(),this.message="Failed to load static file for page: "+Q+" "+S}};let MiddlewareNotFoundError=class MiddlewareNotFoundError extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}};function stringifyError(Q){return JSON.stringify({message:Q.message,stack:Q.stack})}},10713:(Q,S,R)=>{"use strict";Q.exports=R(10316).vendored.contexts.RouterContext},11440:(Q,S,R)=>{Q.exports=R(30614)},51949:(Q,S,R)=>{Q.exports=R(30114)},95307:(Q,S,R)=>{"use strict";var N=R(75962);Q.exports=S=N.descriptor=N.Root.fromJSON(R(89987)).lookup(".google.protobuf");var M=N.Namespace,L=N.Root,U=N.Enum,P=N.Type,Y=N.Field,W=N.MapField,K=N.OneOf,X=N.Service,Z=N.Method;function Root_toDescriptorRecursive(Q,R,N){var W=S.FileDescriptorProto.create({name:Q.filename||(Q.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});N&&(W.syntax=N),Q instanceof L||(W.package=Q.fullName.substring(1));for(var K,Z=0;Z<Q.nestedArray.length;++Z)(K=Q._nestedArray[Z])instanceof P?W.messageType.push(K.toDescriptor(N)):K instanceof U?W.enumType.push(K.toDescriptor()):K instanceof Y?W.extension.push(K.toDescriptor(N)):K instanceof X?W.service.push(K.toDescriptor()):K instanceof M&&Root_toDescriptorRecursive(K,R,N);W.options=toDescriptorOptions(Q.options,S.FileOptions),W.messageType.length+W.enumType.length+W.extension.length+W.service.length&&R.push(W)}L.fromDescriptor=function(Q){"number"==typeof Q.length&&(Q=S.FileDescriptorSet.decode(Q));var R=new L;if(Q.file)for(var N,M,W,K=0;K<Q.file.length;++K){if(M=R,(N=Q.file[K]).package&&N.package.length&&(M=R.define(N.package)),N.name&&N.name.length&&R.files.push(M.filename=N.name),N.messageType)for(W=0;W<N.messageType.length;++W)M.add(P.fromDescriptor(N.messageType[W],N.syntax));if(N.enumType)for(W=0;W<N.enumType.length;++W)M.add(U.fromDescriptor(N.enumType[W]));if(N.extension)for(W=0;W<N.extension.length;++W)M.add(Y.fromDescriptor(N.extension[W]));if(N.service)for(W=0;W<N.service.length;++W)M.add(X.fromDescriptor(N.service[W]));var Z=fromDescriptorOptions(N.options,S.FileOptions);if(Z){var $=Object.keys(Z);for(W=0;W<$.length;++W)M.setOption($[W],Z[$[W]])}}return R},L.prototype.toDescriptor=function(Q){var R=S.FileDescriptorSet.create();return Root_toDescriptorRecursive(this,R.file,Q),R};var $=0;P.fromDescriptor=function(Q,R){"number"==typeof Q.length&&(Q=S.DescriptorProto.decode(Q));var N,M=new P(Q.name.length?Q.name:"Type"+$++,fromDescriptorOptions(Q.options,S.MessageOptions));if(Q.oneofDecl)for(N=0;N<Q.oneofDecl.length;++N)M.add(K.fromDescriptor(Q.oneofDecl[N]));if(Q.field)for(N=0;N<Q.field.length;++N){var L=Y.fromDescriptor(Q.field[N],R);M.add(L),Q.field[N].hasOwnProperty("oneofIndex")&&M.oneofsArray[Q.field[N].oneofIndex].add(L)}if(Q.extension)for(N=0;N<Q.extension.length;++N)M.add(Y.fromDescriptor(Q.extension[N],R));if(Q.nestedType)for(N=0;N<Q.nestedType.length;++N)M.add(P.fromDescriptor(Q.nestedType[N],R)),Q.nestedType[N].options&&Q.nestedType[N].options.mapEntry&&M.setOption("map_entry",!0);if(Q.enumType)for(N=0;N<Q.enumType.length;++N)M.add(U.fromDescriptor(Q.enumType[N]));if(Q.extensionRange&&Q.extensionRange.length)for(N=0,M.extensions=[];N<Q.extensionRange.length;++N)M.extensions.push([Q.extensionRange[N].start,Q.extensionRange[N].end]);if(Q.reservedRange&&Q.reservedRange.length||Q.reservedName&&Q.reservedName.length){if(M.reserved=[],Q.reservedRange)for(N=0;N<Q.reservedRange.length;++N)M.reserved.push([Q.reservedRange[N].start,Q.reservedRange[N].end]);if(Q.reservedName)for(N=0;N<Q.reservedName.length;++N)M.reserved.push(Q.reservedName[N])}return M},P.prototype.toDescriptor=function(Q){var R,N,M=S.DescriptorProto.create({name:this.name});for(N=0;N<this.fieldsArray.length;++N)if(M.field.push(R=this._fieldsArray[N].toDescriptor(Q)),this._fieldsArray[N]instanceof W){var L=toDescriptorType(this._fieldsArray[N].keyType,this._fieldsArray[N].resolvedKeyType),K=toDescriptorType(this._fieldsArray[N].type,this._fieldsArray[N].resolvedType),X=11===K||14===K?this._fieldsArray[N].resolvedType&&shortname(this.parent,this._fieldsArray[N].resolvedType)||this._fieldsArray[N].type:void 0;M.nestedType.push(S.DescriptorProto.create({name:R.typeName,field:[S.FieldDescriptorProto.create({name:"key",number:1,label:1,type:L}),S.FieldDescriptorProto.create({name:"value",number:2,label:1,type:K,typeName:X})],options:S.MessageOptions.create({mapEntry:!0})}))}for(N=0;N<this.oneofsArray.length;++N)M.oneofDecl.push(this._oneofsArray[N].toDescriptor());for(N=0;N<this.nestedArray.length;++N)this._nestedArray[N]instanceof Y?M.field.push(this._nestedArray[N].toDescriptor(Q)):this._nestedArray[N]instanceof P?M.nestedType.push(this._nestedArray[N].toDescriptor(Q)):this._nestedArray[N]instanceof U&&M.enumType.push(this._nestedArray[N].toDescriptor());if(this.extensions)for(N=0;N<this.extensions.length;++N)M.extensionRange.push(S.DescriptorProto.ExtensionRange.create({start:this.extensions[N][0],end:this.extensions[N][1]}));if(this.reserved)for(N=0;N<this.reserved.length;++N)"string"==typeof this.reserved[N]?M.reservedName.push(this.reserved[N]):M.reservedRange.push(S.DescriptorProto.ReservedRange.create({start:this.reserved[N][0],end:this.reserved[N][1]}));return M.options=toDescriptorOptions(this.options,S.MessageOptions),M};var ee=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Y.fromDescriptor=function(Q,R){if("number"==typeof Q.length&&(Q=S.DescriptorProto.decode(Q)),"number"!=typeof Q.number)throw Error("missing field id");switch(N=Q.typeName&&Q.typeName.length?Q.typeName:fromDescriptorType(Q.type),Q.label){case 1:M=void 0;break;case 2:M="required";break;case 3:M="repeated";break;default:throw Error("illegal label: "+Q.label)}var N,M,L=Q.extendee;void 0!==Q.extendee&&(L=L.length?L:void 0);var U=new Y(Q.name.length?Q.name:"field"+Q.number,Q.number,N,M,L);if(U.options=fromDescriptorOptions(Q.options,S.FieldOptions),Q.defaultValue&&Q.defaultValue.length){var P=Q.defaultValue;switch(P){case"true":case"TRUE":P=!0;break;case"false":case"FALSE":P=!1;break;default:ee.exec(P)&&(P=parseInt(P))}U.setOption("default",P)}return packableDescriptorType(Q.type)&&("proto3"===R?Q.options&&!Q.options.packed&&U.setOption("packed",!1):Q.options&&Q.options.packed||U.setOption("packed",!1)),U},Y.prototype.toDescriptor=function(Q){var R=S.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)R.type=11,R.typeName=N.util.ucFirst(this.name),R.label=3;else{switch(R.type=toDescriptorType(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:R.typeName=this.resolvedType?shortname(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":R.label=3;break;case"required":R.label=2;break;default:R.label=1}}if(R.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(R.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(R.options=toDescriptorOptions(this.options,S.FieldOptions),null!=this.options.default&&(R.defaultValue=String(this.options.default))),"proto3"===Q?this.packed||((R.options||(R.options=S.FieldOptions.create())).packed=!1):this.packed&&((R.options||(R.options=S.FieldOptions.create())).packed=!0),R};var et=0;U.fromDescriptor=function(Q){"number"==typeof Q.length&&(Q=S.EnumDescriptorProto.decode(Q));var R={};if(Q.value)for(var N=0;N<Q.value.length;++N){var M=Q.value[N].name,L=Q.value[N].number||0;R[M&&M.length?M:"NAME"+L]=L}return new U(Q.name&&Q.name.length?Q.name:"Enum"+et++,R,fromDescriptorOptions(Q.options,S.EnumOptions))},U.prototype.toDescriptor=function(){for(var Q=[],R=0,N=Object.keys(this.values);R<N.length;++R)Q.push(S.EnumValueDescriptorProto.create({name:N[R],number:this.values[N[R]]}));return S.EnumDescriptorProto.create({name:this.name,value:Q,options:toDescriptorOptions(this.options,S.EnumOptions)})};var en=0;K.fromDescriptor=function(Q){return"number"==typeof Q.length&&(Q=S.OneofDescriptorProto.decode(Q)),new K(Q.name&&Q.name.length?Q.name:"oneof"+en++)},K.prototype.toDescriptor=function(){return S.OneofDescriptorProto.create({name:this.name})};var ei=0;X.fromDescriptor=function(Q){"number"==typeof Q.length&&(Q=S.ServiceDescriptorProto.decode(Q));var R=new X(Q.name&&Q.name.length?Q.name:"Service"+ei++,fromDescriptorOptions(Q.options,S.ServiceOptions));if(Q.method)for(var N=0;N<Q.method.length;++N)R.add(Z.fromDescriptor(Q.method[N]));return R},X.prototype.toDescriptor=function(){for(var Q=[],R=0;R<this.methodsArray.length;++R)Q.push(this._methodsArray[R].toDescriptor());return S.ServiceDescriptorProto.create({name:this.name,method:Q,options:toDescriptorOptions(this.options,S.ServiceOptions)})};var es=0;function fromDescriptorType(Q){switch(Q){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+Q)}function packableDescriptorType(Q){switch(Q){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function toDescriptorType(Q,S){switch(Q){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(S instanceof U)return 14;if(S instanceof P)return S.group?10:11;throw Error("illegal type: "+Q)}function fromDescriptorOptions(Q,S){if(Q){for(var R,M,L,P=[],Y=0;Y<S.fieldsArray.length;++Y)"uninterpretedOption"!==(M=(R=S._fieldsArray[Y]).name)&&Q.hasOwnProperty(M)&&(L=Q[M],R.resolvedType instanceof U&&"number"==typeof L&&void 0!==R.resolvedType.valuesById[L]&&(L=R.resolvedType.valuesById[L]),P.push(underScore(M),L));return P.length?N.util.toObject(P):void 0}}function toDescriptorOptions(Q,S){if(Q){for(var R,M,L=[],U=0,P=Object.keys(Q);U<P.length;++U)if(M=Q[R=P[U]],"default"!==R){var Y=S.fields[R];(Y||(Y=S.fields[R=N.util.camelCase(R)]))&&L.push(R,M)}return L.length?S.fromObject(N.util.toObject(L)):void 0}}function shortname(Q,S){var R=Q.fullName.split("."),N=S.fullName.split("."),U=0,P=0,Y=N.length-1;if(!(Q instanceof L)&&S instanceof M)for(;U<R.length&&P<Y&&R[U]===N[P];){var W=S.lookup(R[U++],!0);if(null!==W&&W!==S)break;++P}else for(;U<R.length&&P<Y&&R[U]===N[P];++U,++P);return N.slice(P).join(".")}function underScore(Q){return Q.substring(0,1)+Q.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(Q,S){return"_"+S.toLowerCase()})}Z.fromDescriptor=function(Q){return"number"==typeof Q.length&&(Q=S.MethodDescriptorProto.decode(Q)),new Z(Q.name&&Q.name.length?Q.name:"Method"+es++,"rpc",Q.inputType,Q.outputType,!!Q.clientStreaming,!!Q.serverStreaming,fromDescriptorOptions(Q.options,S.MethodOptions))},Z.prototype.toDescriptor=function(){return S.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:toDescriptorOptions(this.options,S.MethodOptions)})}},75962:(Q,S,R)=>{"use strict";Q.exports=R(23517)},79760:Q=>{"use strict";Q.exports=common;var S,R=/\/|\./;function common(Q,S){R.test(Q)||(Q="google/protobuf/"+Q+".proto",S={nested:{google:{nested:{protobuf:{nested:S}}}}}),common[Q]=S}common("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),common("duration",{Duration:S={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),common("timestamp",{Timestamp:S}),common("empty",{Empty:{fields:{}}}),common("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),common("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),common("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),common.get=function(Q){return common[Q]||null}},84144:(Q,S,R)=>{"use strict";var N=S,M=R(59246),L=R(66738);function genValuePartial_fromObject(Q,S,R,N){var L=!1;if(S.resolvedType){if(S.resolvedType instanceof M){Q("switch(d%s){",N);for(var U=S.resolvedType.values,P=Object.keys(U),Y=0;Y<P.length;++Y)U[P[Y]]!==S.typeDefault||L||(Q("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',N,N,N),S.repeated||Q("break"),L=!0),Q("case%j:",P[Y])("case %i:",U[P[Y]])("m%s=%j",N,U[P[Y]])("break");Q("}")}else Q('if(typeof d%s!=="object")',N)("throw TypeError(%j)",S.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",N,R,N)}else{var W=!1;switch(S.type){case"double":case"float":Q("m%s=Number(d%s)",N,N);break;case"uint32":case"fixed32":Q("m%s=d%s>>>0",N,N);break;case"int32":case"sint32":case"sfixed32":Q("m%s=d%s|0",N,N);break;case"uint64":W=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":Q("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",N,N,W)('else if(typeof d%s==="string")',N)("m%s=parseInt(d%s,10)",N,N)('else if(typeof d%s==="number")',N)("m%s=d%s",N,N)('else if(typeof d%s==="object")',N)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",N,N,N,W?"true":"");break;case"bytes":Q('if(typeof d%s==="string")',N)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",N,N,N)("else if(d%s.length >= 0)",N)("m%s=d%s",N,N);break;case"string":Q("m%s=String(d%s)",N,N);break;case"bool":Q("m%s=Boolean(d%s)",N,N)}}return Q}function genValuePartial_toObject(Q,S,R,N){if(S.resolvedType)S.resolvedType instanceof M?Q("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",N,R,N,N,R,N,N):Q("d%s=types[%i].toObject(m%s,o)",N,R,N);else{var L=!1;switch(S.type){case"double":case"float":Q("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",N,N,N,N);break;case"uint64":L=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":Q('if(typeof m%s==="number")',N)("d%s=o.longs===String?String(m%s):m%s",N,N,N)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",N,N,N,N,L?"true":"",N);break;case"bytes":Q("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",N,N,N,N,N);break;default:Q("d%s=m%s",N,N)}}return Q}N.fromObject=function(Q){var S=Q.fieldsArray,R=L.codegen(["d"],Q.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!S.length)return R("return new this.ctor");R("var m=new this.ctor");for(var N=0;N<S.length;++N){var U=S[N].resolve(),P=L.safeProp(U.name);U.map?(R("if(d%s){",P)('if(typeof d%s!=="object")',P)("throw TypeError(%j)",U.fullName+": object expected")("m%s={}",P)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",P),genValuePartial_fromObject(R,U,N,P+"[ks[i]]")("}")("}")):U.repeated?(R("if(d%s){",P)("if(!Array.isArray(d%s))",P)("throw TypeError(%j)",U.fullName+": array expected")("m%s=[]",P)("for(var i=0;i<d%s.length;++i){",P),genValuePartial_fromObject(R,U,N,P+"[i]")("}")("}")):(U.resolvedType instanceof M||R("if(d%s!=null){",P),genValuePartial_fromObject(R,U,N,P),U.resolvedType instanceof M||R("}"))}return R("return m")},N.toObject=function(Q){var S=Q.fieldsArray.slice().sort(L.compareFieldsById);if(!S.length)return L.codegen()("return {}");for(var R=L.codegen(["m","o"],Q.name+"$toObject")("if(!o)")("o={}")("var d={}"),N=[],U=[],P=[],Y=0;Y<S.length;++Y)S[Y].partOf||(S[Y].resolve().repeated?N:S[Y].map?U:P).push(S[Y]);if(N.length){for(R("if(o.arrays||o.defaults){"),Y=0;Y<N.length;++Y)R("d%s=[]",L.safeProp(N[Y].name));R("}")}if(U.length){for(R("if(o.objects||o.defaults){"),Y=0;Y<U.length;++Y)R("d%s={}",L.safeProp(U[Y].name));R("}")}if(P.length){for(R("if(o.defaults){"),Y=0;Y<P.length;++Y){var W=P[Y],K=L.safeProp(W.name);if(W.resolvedType instanceof M)R("d%s=o.enums===String?%j:%j",K,W.resolvedType.valuesById[W.typeDefault],W.typeDefault);else if(W.long)R("if(util.Long){")("var n=new util.Long(%i,%i,%j)",W.typeDefault.low,W.typeDefault.high,W.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",K)("}else")("d%s=o.longs===String?%j:%i",K,W.typeDefault.toString(),W.typeDefault.toNumber());else if(W.bytes){var X="["+Array.prototype.slice.call(W.typeDefault).join(",")+"]";R("if(o.bytes===String)d%s=%j",K,String.fromCharCode.apply(String,W.typeDefault))("else{")("d%s=%s",K,X)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",K,K)("}")}else R("d%s=%j",K,W.typeDefault)}R("}")}var Z=!1;for(Y=0;Y<S.length;++Y){var W=S[Y],$=Q._fieldsArray.indexOf(W),K=L.safeProp(W.name);W.map?(Z||(Z=!0,R("var ks2")),R("if(m%s&&(ks2=Object.keys(m%s)).length){",K,K)("d%s={}",K)("for(var j=0;j<ks2.length;++j){"),genValuePartial_toObject(R,W,$,K+"[ks2[j]]")("}")):W.repeated?(R("if(m%s&&m%s.length){",K,K)("d%s=[]",K)("for(var j=0;j<m%s.length;++j){",K),genValuePartial_toObject(R,W,$,K+"[j]")("}")):(R("if(m%s!=null&&m.hasOwnProperty(%j)){",K,W.name),genValuePartial_toObject(R,W,$,K),W.partOf&&R("if(o.oneofs)")("d%s=%j",L.safeProp(W.partOf.name),W.name)),R("}")}return R("return d")}},87317:(Q,S,R)=>{"use strict";Q.exports=decoder;var N=R(59246),M=R(91708),L=R(66738);function missing(Q){return"missing required '"+Q.name+"'"}function decoder(Q){var S=L.codegen(["r","l"],Q.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(Q.fieldsArray.filter(function(Q){return Q.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");Q.group&&S("if((t&7)===4)")("break"),S("switch(t>>>3){");for(var R=0;R<Q.fieldsArray.length;++R){var U=Q._fieldsArray[R].resolve(),P=U.resolvedType instanceof N?"int32":U.type,Y="m"+L.safeProp(U.name);S("case %i: {",U.id),U.map?(S("if(%s===util.emptyObject)",Y)("%s={}",Y)("var c2 = r.uint32()+r.pos"),void 0!==M.defaults[U.keyType]?S("k=%j",M.defaults[U.keyType]):S("k=null"),void 0!==M.defaults[P]?S("value=%j",M.defaults[P]):S("value=null"),S("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",U.keyType)("case 2:"),void 0===M.basic[P]?S("value=types[%i].decode(r,r.uint32())",R):S("value=r.%s()",P),S("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),S(void 0!==M.long[U.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",Y)):U.repeated?(S("if(!(%s&&%s.length))",Y,Y)("%s=[]",Y),void 0!==M.packed[P]&&S("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",Y,P)("}else"),void 0===M.basic[P]?S(U.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",Y,R):S("%s.push(r.%s())",Y,P)):void 0===M.basic[P]?S(U.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",Y,R):S("%s=r.%s()",Y,P),S("break")("}")}for(S("default:")("r.skipType(t&7)")("break")("}")("}"),R=0;R<Q._fieldsArray.length;++R){var W=Q._fieldsArray[R];W.required&&S("if(!m.hasOwnProperty(%j))",W.name)("throw util.ProtocolError(%j,{instance:m})",missing(W))}return S("return m")}},49561:(Q,S,R)=>{"use strict";Q.exports=encoder;var N=R(59246),M=R(91708),L=R(66738);function genTypePartial(Q,S,R,N){return S.resolvedType.group?Q("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",R,N,(S.id<<3|3)>>>0,(S.id<<3|4)>>>0):Q("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",R,N,(S.id<<3|2)>>>0)}function encoder(Q){for(var S,R,U=L.codegen(["m","w"],Q.name+"$encode")("if(!w)")("w=Writer.create()"),P=Q.fieldsArray.slice().sort(L.compareFieldsById),S=0;S<P.length;++S){var Y=P[S].resolve(),W=Q._fieldsArray.indexOf(Y),K=Y.resolvedType instanceof N?"int32":Y.type,X=M.basic[K];R="m"+L.safeProp(Y.name),Y.map?(U("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",R,Y.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",R)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(Y.id<<3|2)>>>0,8|M.mapKey[Y.keyType],Y.keyType),void 0===X?U("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",W,R):U(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|X,K,R),U("}")("}")):Y.repeated?(U("if(%s!=null&&%s.length){",R,R),Y.packed&&void 0!==M.packed[K]?U("w.uint32(%i).fork()",(Y.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",R)("w.%s(%s[i])",K,R)("w.ldelim()"):(U("for(var i=0;i<%s.length;++i)",R),void 0===X?genTypePartial(U,Y,W,R+"[i]"):U("w.uint32(%i).%s(%s[i])",(Y.id<<3|X)>>>0,K,R)),U("}")):(Y.optional&&U("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",R,Y.name),void 0===X?genTypePartial(U,Y,W,R):U("w.uint32(%i).%s(%s)",(Y.id<<3|X)>>>0,K,R))}return U("return w")}},59246:(Q,S,R)=>{"use strict";Q.exports=Enum;var N=R(61862);((Enum.prototype=Object.create(N.prototype)).constructor=Enum).className="Enum";var M=R(97540),L=R(66738);function Enum(Q,S,R,M,L,U){if(N.call(this,Q,R),S&&"object"!=typeof S)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=M,this.comments=L||{},this.valuesOptions=U,this.reserved=void 0,S)for(var P=Object.keys(S),Y=0;Y<P.length;++Y)"number"==typeof S[P[Y]]&&(this.valuesById[this.values[P[Y]]=S[P[Y]]]=P[Y])}Enum.fromJSON=function(Q,S){var R=new Enum(Q,S.values,S.options,S.comment,S.comments);return R.reserved=S.reserved,R},Enum.prototype.toJSON=function(Q){var S=!!Q&&!!Q.keepComments;return L.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",S?this.comment:void 0,"comments",S?this.comments:void 0])},Enum.prototype.add=function(Q,S,R,N){if(!L.isString(Q))throw TypeError("name must be a string");if(!L.isInteger(S))throw TypeError("id must be an integer");if(void 0!==this.values[Q])throw Error("duplicate name '"+Q+"' in "+this);if(this.isReservedId(S))throw Error("id "+S+" is reserved in "+this);if(this.isReservedName(Q))throw Error("name '"+Q+"' is reserved in "+this);if(void 0!==this.valuesById[S]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+S+" in "+this);this.values[Q]=S}else this.valuesById[this.values[Q]=S]=Q;return N&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[Q]=N||null),this.comments[Q]=R||null,this},Enum.prototype.remove=function(Q){if(!L.isString(Q))throw TypeError("name must be a string");var S=this.values[Q];if(null==S)throw Error("name '"+Q+"' does not exist in "+this);return delete this.valuesById[S],delete this.values[Q],delete this.comments[Q],this.valuesOptions&&delete this.valuesOptions[Q],this},Enum.prototype.isReservedId=function(Q){return M.isReservedId(this.reserved,Q)},Enum.prototype.isReservedName=function(Q){return M.isReservedName(this.reserved,Q)}},23980:(Q,S,R)=>{"use strict";Q.exports=Field;var N,M=R(61862);((Field.prototype=Object.create(M.prototype)).constructor=Field).className="Field";var L=R(59246),U=R(91708),P=R(66738),Y=/^required|optional|repeated$/;function Field(Q,S,R,N,L,W,K){if(P.isObject(N)?(K=L,W=N,N=L=void 0):P.isObject(L)&&(K=W,W=L,L=void 0),M.call(this,Q,W),!P.isInteger(S)||S<0)throw TypeError("id must be a non-negative integer");if(!P.isString(R))throw TypeError("type must be a string");if(void 0!==N&&!Y.test(N=N.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==L&&!P.isString(L))throw TypeError("extend must be a string");"proto3_optional"===N&&(N="optional"),this.rule=N&&"optional"!==N?N:void 0,this.type=R,this.id=S,this.extend=L||void 0,this.required="required"===N,this.optional=!this.required,this.repeated="repeated"===N,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!P.Long&&void 0!==U.long[R],this.bytes="bytes"===R,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=K}Field.fromJSON=function(Q,S){return new Field(Q,S.id,S.type,S.rule,S.extend,S.options,S.comment)},Object.defineProperty(Field.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),Field.prototype.setOption=function(Q,S,R){return"packed"===Q&&(this._packed=null),M.prototype.setOption.call(this,Q,S,R)},Field.prototype.toJSON=function(Q){var S=!!Q&&!!Q.keepComments;return P.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",S?this.comment:void 0])},Field.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=U.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof N?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof L&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof L)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=P.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var Q;P.base64.test(this.typeDefault)?P.base64.decode(this.typeDefault,Q=P.newBuffer(P.base64.length(this.typeDefault)),0):P.utf8.write(this.typeDefault,Q=P.newBuffer(P.utf8.length(this.typeDefault)),0),this.typeDefault=Q}return this.map?this.defaultValue=P.emptyObject:this.repeated?this.defaultValue=P.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof N&&(this.parent.ctor.prototype[this.name]=this.defaultValue),M.prototype.resolve.call(this)},Field.d=function(Q,S,R,N){return"function"==typeof S?S=P.decorateType(S).name:S&&"object"==typeof S&&(S=P.decorateEnum(S).name),function(M,L){P.decorateType(M.constructor).add(new Field(L,Q,S,R,{default:N}))}},Field._configure=function(Q){N=Q}},62982:(Q,S,R)=>{"use strict";var N=Q.exports=R(82985);function load(Q,S,R){return"function"==typeof S?(R=S,S=new N.Root):S||(S=new N.Root),S.load(Q,R)}function loadSync(Q,S){return S||(S=new N.Root),S.loadSync(Q)}N.build="light",N.load=load,N.loadSync=loadSync,N.encoder=R(49561),N.decoder=R(87317),N.verifier=R(17585),N.converter=R(84144),N.ReflectionObject=R(61862),N.Namespace=R(97540),N.Root=R(98373),N.Enum=R(59246),N.Type=R(59340),N.Field=R(23980),N.OneOf=R(32866),N.MapField=R(67597),N.Service=R(82791),N.Method=R(28909),N.Message=R(34294),N.wrappers=R(34038),N.types=R(91708),N.util=R(66738),N.ReflectionObject._configure(N.Root),N.Namespace._configure(N.Type,N.Service,N.Enum),N.Root._configure(N.Type),N.Field._configure(N.Type)},82985:(Q,S,R)=>{"use strict";var N=S;function configure(){N.util._configure(),N.Writer._configure(N.BufferWriter),N.Reader._configure(N.BufferReader)}N.build="minimal",N.Writer=R(84353),N.BufferWriter=R(81978),N.Reader=R(95199),N.BufferReader=R(15213),N.util=R(18932),N.rpc=R(69226),N.roots=R(10182),N.configure=configure,configure()},23517:(Q,S,R)=>{"use strict";var N=Q.exports=R(62982);N.build="full",N.tokenize=R(86116),N.parse=R(87897),N.common=R(79760),N.Root._configure(N.Type,N.parse,N.common)},67597:(Q,S,R)=>{"use strict";Q.exports=MapField;var N=R(23980);((MapField.prototype=Object.create(N.prototype)).constructor=MapField).className="MapField";var M=R(91708),L=R(66738);function MapField(Q,S,R,M,U,P){if(N.call(this,Q,S,M,void 0,void 0,U,P),!L.isString(R))throw TypeError("keyType must be a string");this.keyType=R,this.resolvedKeyType=null,this.map=!0}MapField.fromJSON=function(Q,S){return new MapField(Q,S.id,S.keyType,S.type,S.options,S.comment)},MapField.prototype.toJSON=function(Q){var S=!!Q&&!!Q.keepComments;return L.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",S?this.comment:void 0])},MapField.prototype.resolve=function(){if(this.resolved)return this;if(void 0===M.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return N.prototype.resolve.call(this)},MapField.d=function(Q,S,R){return"function"==typeof R?R=L.decorateType(R).name:R&&"object"==typeof R&&(R=L.decorateEnum(R).name),function(N,M){L.decorateType(N.constructor).add(new MapField(M,Q,S,R))}}},34294:(Q,S,R)=>{"use strict";Q.exports=Message;var N=R(18932);function Message(Q){if(Q)for(var S=Object.keys(Q),R=0;R<S.length;++R)this[S[R]]=Q[S[R]]}Message.create=function(Q){return this.$type.create(Q)},Message.encode=function(Q,S){return this.$type.encode(Q,S)},Message.encodeDelimited=function(Q,S){return this.$type.encodeDelimited(Q,S)},Message.decode=function(Q){return this.$type.decode(Q)},Message.decodeDelimited=function(Q){return this.$type.decodeDelimited(Q)},Message.verify=function(Q){return this.$type.verify(Q)},Message.fromObject=function(Q){return this.$type.fromObject(Q)},Message.toObject=function(Q,S){return this.$type.toObject(Q,S)},Message.prototype.toJSON=function(){return this.$type.toObject(this,N.toJSONOptions)}},28909:(Q,S,R)=>{"use strict";Q.exports=Method;var N=R(61862);((Method.prototype=Object.create(N.prototype)).constructor=Method).className="Method";var M=R(66738);function Method(Q,S,R,L,U,P,Y,W,K){if(M.isObject(U)?(Y=U,U=P=void 0):M.isObject(P)&&(Y=P,P=void 0),!(void 0===S||M.isString(S)))throw TypeError("type must be a string");if(!M.isString(R))throw TypeError("requestType must be a string");if(!M.isString(L))throw TypeError("responseType must be a string");N.call(this,Q,Y),this.type=S||"rpc",this.requestType=R,this.requestStream=!!U||void 0,this.responseType=L,this.responseStream=!!P||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=W,this.parsedOptions=K}Method.fromJSON=function(Q,S){return new Method(Q,S.type,S.requestType,S.responseType,S.requestStream,S.responseStream,S.options,S.comment,S.parsedOptions)},Method.prototype.toJSON=function(Q){var S=!!Q&&!!Q.keepComments;return M.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",S?this.comment:void 0,"parsedOptions",this.parsedOptions])},Method.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),N.prototype.resolve.call(this))}},97540:(Q,S,R)=>{"use strict";Q.exports=Namespace;var N,M,L,U=R(61862);((Namespace.prototype=Object.create(U.prototype)).constructor=Namespace).className="Namespace";var P=R(23980),Y=R(66738),W=R(32866);function arrayToJSON(Q,S){if(Q&&Q.length){for(var R={},N=0;N<Q.length;++N)R[Q[N].name]=Q[N].toJSON(S);return R}}function Namespace(Q,S){U.call(this,Q,S),this.nested=void 0,this._nestedArray=null}function clearCache(Q){return Q._nestedArray=null,Q}Namespace.fromJSON=function(Q,S){return new Namespace(Q,S.options).addJSON(S.nested)},Namespace.arrayToJSON=arrayToJSON,Namespace.isReservedId=function(Q,S){if(Q){for(var R=0;R<Q.length;++R)if("string"!=typeof Q[R]&&Q[R][0]<=S&&Q[R][1]>S)return!0}return!1},Namespace.isReservedName=function(Q,S){if(Q){for(var R=0;R<Q.length;++R)if(Q[R]===S)return!0}return!1},Object.defineProperty(Namespace.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=Y.toArray(this.nested))}}),Namespace.prototype.toJSON=function(Q){return Y.toObject(["options",this.options,"nested",arrayToJSON(this.nestedArray,Q)])},Namespace.prototype.addJSON=function(Q){var S=this;if(Q)for(var R,U=Object.keys(Q),Y=0;Y<U.length;++Y)R=Q[U[Y]],S.add((void 0!==R.fields?N.fromJSON:void 0!==R.values?L.fromJSON:void 0!==R.methods?M.fromJSON:void 0!==R.id?P.fromJSON:Namespace.fromJSON)(U[Y],R));return this},Namespace.prototype.get=function(Q){return this.nested&&this.nested[Q]||null},Namespace.prototype.getEnum=function(Q){if(this.nested&&this.nested[Q]instanceof L)return this.nested[Q].values;throw Error("no such enum: "+Q)},Namespace.prototype.add=function(Q){if(!(Q instanceof P&&void 0!==Q.extend||Q instanceof N||Q instanceof W||Q instanceof L||Q instanceof M||Q instanceof Namespace))throw TypeError("object must be a valid nested object");if(this.nested){var S=this.get(Q.name);if(S){if(S instanceof Namespace&&Q instanceof Namespace&&!(S instanceof N||S instanceof M)){for(var R=S.nestedArray,U=0;U<R.length;++U)Q.add(R[U]);this.remove(S),this.nested||(this.nested={}),Q.setOptions(S.options,!0)}else throw Error("duplicate name '"+Q.name+"' in "+this)}}else this.nested={};return this.nested[Q.name]=Q,Q.onAdd(this),clearCache(this)},Namespace.prototype.remove=function(Q){if(!(Q instanceof U))throw TypeError("object must be a ReflectionObject");if(Q.parent!==this)throw Error(Q+" is not a member of "+this);return delete this.nested[Q.name],Object.keys(this.nested).length||(this.nested=void 0),Q.onRemove(this),clearCache(this)},Namespace.prototype.define=function(Q,S){if(Y.isString(Q))Q=Q.split(".");else if(!Array.isArray(Q))throw TypeError("illegal path");if(Q&&Q.length&&""===Q[0])throw Error("path must be relative");for(var R=this;Q.length>0;){var N=Q.shift();if(R.nested&&R.nested[N]){if(!((R=R.nested[N])instanceof Namespace))throw Error("path conflicts with non-namespace objects")}else R.add(R=new Namespace(N))}return S&&R.addJSON(S),R},Namespace.prototype.resolveAll=function(){for(var Q=this.nestedArray,S=0;S<Q.length;)Q[S]instanceof Namespace?Q[S++].resolveAll():Q[S++].resolve();return this.resolve()},Namespace.prototype.lookup=function(Q,S,R){if("boolean"==typeof S?(R=S,S=void 0):S&&!Array.isArray(S)&&(S=[S]),Y.isString(Q)&&Q.length){if("."===Q)return this.root;Q=Q.split(".")}else if(!Q.length)return this;if(""===Q[0])return this.root.lookup(Q.slice(1),S);var N=this.get(Q[0]);if(N){if(1===Q.length){if(!S||S.indexOf(N.constructor)>-1)return N}else if(N instanceof Namespace&&(N=N.lookup(Q.slice(1),S,!0)))return N}else for(var M=0;M<this.nestedArray.length;++M)if(this._nestedArray[M]instanceof Namespace&&(N=this._nestedArray[M].lookup(Q,S,!0)))return N;return null===this.parent||R?null:this.parent.lookup(Q,S)},Namespace.prototype.lookupType=function(Q){var S=this.lookup(Q,[N]);if(!S)throw Error("no such type: "+Q);return S},Namespace.prototype.lookupEnum=function(Q){var S=this.lookup(Q,[L]);if(!S)throw Error("no such Enum '"+Q+"' in "+this);return S},Namespace.prototype.lookupTypeOrEnum=function(Q){var S=this.lookup(Q,[N,L]);if(!S)throw Error("no such Type or Enum '"+Q+"' in "+this);return S},Namespace.prototype.lookupService=function(Q){var S=this.lookup(Q,[M]);if(!S)throw Error("no such Service '"+Q+"' in "+this);return S},Namespace._configure=function(Q,S,R){N=Q,M=S,L=R}},61862:(Q,S,R)=>{"use strict";Q.exports=ReflectionObject,ReflectionObject.className="ReflectionObject";var N,M=R(66738);function ReflectionObject(Q,S){if(!M.isString(Q))throw TypeError("name must be a string");if(S&&!M.isObject(S))throw TypeError("options must be an object");this.options=S,this.parsedOptions=null,this.name=Q,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(ReflectionObject.prototype,{root:{get:function(){for(var Q=this;null!==Q.parent;)Q=Q.parent;return Q}},fullName:{get:function(){for(var Q=[this.name],S=this.parent;S;)Q.unshift(S.name),S=S.parent;return Q.join(".")}}}),ReflectionObject.prototype.toJSON=function(){throw Error()},ReflectionObject.prototype.onAdd=function(Q){this.parent&&this.parent!==Q&&this.parent.remove(this),this.parent=Q,this.resolved=!1;var S=Q.root;S instanceof N&&S._handleAdd(this)},ReflectionObject.prototype.onRemove=function(Q){var S=Q.root;S instanceof N&&S._handleRemove(this),this.parent=null,this.resolved=!1},ReflectionObject.prototype.resolve=function(){return this.resolved||this.root instanceof N&&(this.resolved=!0),this},ReflectionObject.prototype.getOption=function(Q){if(this.options)return this.options[Q]},ReflectionObject.prototype.setOption=function(Q,S,R){return R&&this.options&&void 0!==this.options[Q]||((this.options||(this.options={}))[Q]=S),this},ReflectionObject.prototype.setParsedOption=function(Q,S,R){this.parsedOptions||(this.parsedOptions=[]);var N=this.parsedOptions;if(R){var L=N.find(function(S){return Object.prototype.hasOwnProperty.call(S,Q)});if(L){var U=L[Q];M.setProperty(U,R,S)}else(L={})[Q]=M.setProperty({},R,S),N.push(L)}else{var P={};P[Q]=S,N.push(P)}return this},ReflectionObject.prototype.setOptions=function(Q,S){if(Q)for(var R=Object.keys(Q),N=0;N<R.length;++N)this.setOption(R[N],Q[R[N]],S);return this},ReflectionObject.prototype.toString=function(){var Q=this.constructor.className,S=this.fullName;return S.length?Q+" "+S:Q},ReflectionObject._configure=function(Q){N=Q}},32866:(Q,S,R)=>{"use strict";Q.exports=OneOf;var N=R(61862);((OneOf.prototype=Object.create(N.prototype)).constructor=OneOf).className="OneOf";var M=R(23980),L=R(66738);function OneOf(Q,S,R,M){if(Array.isArray(S)||(R=S,S=void 0),N.call(this,Q,R),!(void 0===S||Array.isArray(S)))throw TypeError("fieldNames must be an Array");this.oneof=S||[],this.fieldsArray=[],this.comment=M}function addFieldsToParent(Q){if(Q.parent)for(var S=0;S<Q.fieldsArray.length;++S)Q.fieldsArray[S].parent||Q.parent.add(Q.fieldsArray[S])}OneOf.fromJSON=function(Q,S){return new OneOf(Q,S.oneof,S.options,S.comment)},OneOf.prototype.toJSON=function(Q){var S=!!Q&&!!Q.keepComments;return L.toObject(["options",this.options,"oneof",this.oneof,"comment",S?this.comment:void 0])},OneOf.prototype.add=function(Q){if(!(Q instanceof M))throw TypeError("field must be a Field");return Q.parent&&Q.parent!==this.parent&&Q.parent.remove(Q),this.oneof.push(Q.name),this.fieldsArray.push(Q),Q.partOf=this,addFieldsToParent(this),this},OneOf.prototype.remove=function(Q){if(!(Q instanceof M))throw TypeError("field must be a Field");var S=this.fieldsArray.indexOf(Q);if(S<0)throw Error(Q+" is not a member of "+this);return this.fieldsArray.splice(S,1),(S=this.oneof.indexOf(Q.name))>-1&&this.oneof.splice(S,1),Q.partOf=null,this},OneOf.prototype.onAdd=function(Q){N.prototype.onAdd.call(this,Q);for(var S=this,R=0;R<this.oneof.length;++R){var M=Q.get(this.oneof[R]);M&&!M.partOf&&(M.partOf=S,S.fieldsArray.push(M))}addFieldsToParent(this)},OneOf.prototype.onRemove=function(Q){for(var S,R=0;R<this.fieldsArray.length;++R)(S=this.fieldsArray[R]).parent&&S.parent.remove(S);N.prototype.onRemove.call(this,Q)},OneOf.d=function(){for(var Q=Array(arguments.length),S=0;S<arguments.length;)Q[S]=arguments[S++];return function(S,R){L.decorateType(S.constructor).add(new OneOf(R,Q)),Object.defineProperty(S,R,{get:L.oneOfGetter(Q),set:L.oneOfSetter(Q)})}}},87897:(Q,S,R)=>{"use strict";Q.exports=parse,parse.filename=null,parse.defaults={keepCase:!1};var N=R(86116),M=R(98373),L=R(59340),U=R(23980),P=R(67597),Y=R(32866),W=R(59246),K=R(82791),X=R(28909),Z=R(91708),$=R(66738),ee=/^[1-9][0-9]*$/,et=/^-?[1-9][0-9]*$/,en=/^0[x][0-9a-fA-F]+$/,ei=/^-?0[x][0-9a-fA-F]+$/,es=/^0[0-7]+$/,eo=/^-?0[0-7]+$/,ea=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,eA=/^[a-zA-Z_][a-zA-Z_0-9]*$/,ec=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,eu=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function parse(Q,S,R){S instanceof M||(R=S,S=new M),R||(R=parse.defaults);var eh,ed,eg,ep,ef,eE=R.preferTrailingComment||!1,em=N(Q,R.alternateCommentMode||!1),eC=em.next,eI=em.push,eB=em.peek,ey=em.skip,eQ=em.cmnt,eS=!0,eb=!1,ew=S,eD=R.keepCase?function(Q){return Q}:$.camelCase;function illegal(Q,S,R){var N=parse.filename;return R||(parse.filename=null),Error("illegal "+(S||"token")+" '"+Q+"' ("+(N?N+", ":"")+"line "+em.line+")")}function readString(){var Q,S=[];do{if('"'!==(Q=eC())&&"'"!==Q)throw illegal(Q);S.push(eC()),ey(Q),Q=eB()}while('"'===Q||"'"===Q);return S.join("")}function readValue(Q){var S=eC();switch(S){case"'":case'"':return eI(S),readString();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return parseNumber(S,!0)}catch(R){if(Q&&ec.test(S))return S;throw illegal(S,"value")}}function readRanges(Q,S){do S&&('"'===(R=eB())||"'"===R)?Q.push(readString()):Q.push([N=parseId(eC()),ey("to",!0)?parseId(eC()):N]);while(ey(",",!0));var R,N,M={options:void 0};M.setOption=function(Q,S){void 0===this.options&&(this.options={}),this.options[Q]=S},ifBlock(M,function(Q){if("option"===Q)parseOption(M,Q),ey(";");else throw illegal(Q)},function(){parseInlineOptions(M)})}function parseNumber(Q,S){var R=1;switch("-"===Q.charAt(0)&&(R=-1,Q=Q.substring(1)),Q){case"inf":case"INF":case"Inf":return R*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(ee.test(Q))return R*parseInt(Q,10);if(en.test(Q))return R*parseInt(Q,16);if(es.test(Q))return R*parseInt(Q,8);if(ea.test(Q))return R*parseFloat(Q);throw illegal(Q,"number",S)}function parseId(Q,S){switch(Q){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!S&&"-"===Q.charAt(0))throw illegal(Q,"id");if(et.test(Q))return parseInt(Q,10);if(ei.test(Q))return parseInt(Q,16);if(eo.test(Q))return parseInt(Q,8);throw illegal(Q,"id")}function parsePackage(){if(void 0!==ed)throw illegal("package");if(ed=eC(),!ec.test(ed))throw illegal(ed,"name");ew=ew.define(ed),ey(";")}function parseImport(){var Q,S=eB();switch(S){case"weak":Q=ep||(ep=[]),eC();break;case"public":eC();default:Q=eg||(eg=[])}S=readString(),ey(";"),Q.push(S)}function parseSyntax(){if(ey("="),!(eb="proto3"===(ef=readString()))&&"proto2"!==ef)throw illegal(ef,"syntax");ey(";")}function parseCommon(Q,S){switch(S){case"option":return parseOption(Q,S),ey(";"),!0;case"message":return parseType(Q,S),!0;case"enum":return parseEnum(Q,S),!0;case"service":return parseService(Q,S),!0;case"extend":return parseExtension(Q,S),!0}return!1}function ifBlock(Q,S,R){var N,M=em.line;if(Q&&("string"!=typeof Q.comment&&(Q.comment=eQ()),Q.filename=parse.filename),ey("{",!0)){for(;"}"!==(N=eC());)S(N);ey(";",!0)}else R&&R(),ey(";"),Q&&("string"!=typeof Q.comment||eE)&&(Q.comment=eQ(M)||Q.comment)}function parseType(Q,S){if(!eA.test(S=eC()))throw illegal(S,"type name");var R=new L(S);ifBlock(R,function(Q){if(!parseCommon(R,Q))switch(Q){case"map":parseMapField(R,Q);break;case"required":case"repeated":parseField(R,Q);break;case"optional":eb?parseField(R,"proto3_optional"):parseField(R,"optional");break;case"oneof":parseOneOf(R,Q);break;case"extensions":readRanges(R.extensions||(R.extensions=[]));break;case"reserved":readRanges(R.reserved||(R.reserved=[]),!0);break;default:if(!eb||!ec.test(Q))throw illegal(Q);eI(Q),parseField(R,"optional")}}),Q.add(R)}function parseField(Q,S,R){var N=eC();if("group"===N){parseGroup(Q,S);return}for(;N.endsWith(".")||eB().startsWith(".");)N+=eC();if(!ec.test(N))throw illegal(N,"type");var M=eC();if(!eA.test(M))throw illegal(M,"name");M=eD(M),ey("=");var L=new U(M,parseId(eC()),N,S,R);if(ifBlock(L,function(Q){if("option"===Q)parseOption(L,Q),ey(";");else throw illegal(Q)},function(){parseInlineOptions(L)}),"proto3_optional"===S){var P=new Y("_"+M);L.setOption("proto3_optional",!0),P.add(L),Q.add(P)}else Q.add(L);!eb&&L.repeated&&(void 0!==Z.packed[N]||void 0===Z.basic[N])&&L.setOption("packed",!1,!0)}function parseGroup(Q,S){var R=eC();if(!eA.test(R))throw illegal(R,"name");var N=$.lcFirst(R);R===N&&(R=$.ucFirst(R)),ey("=");var M=parseId(eC()),P=new L(R);P.group=!0;var Y=new U(N,M,R,S);Y.filename=parse.filename,ifBlock(P,function(Q){switch(Q){case"option":parseOption(P,Q),ey(";");break;case"required":case"repeated":parseField(P,Q);break;case"optional":eb?parseField(P,"proto3_optional"):parseField(P,"optional");break;case"message":parseType(P,Q);break;case"enum":parseEnum(P,Q);break;default:throw illegal(Q)}}),Q.add(P).add(Y)}function parseMapField(Q){ey("<");var S=eC();if(void 0===Z.mapKey[S])throw illegal(S,"type");ey(",");var R=eC();if(!ec.test(R))throw illegal(R,"type");ey(">");var N=eC();if(!eA.test(N))throw illegal(N,"name");ey("=");var M=new P(eD(N),parseId(eC()),S,R);ifBlock(M,function(Q){if("option"===Q)parseOption(M,Q),ey(";");else throw illegal(Q)},function(){parseInlineOptions(M)}),Q.add(M)}function parseOneOf(Q,S){if(!eA.test(S=eC()))throw illegal(S,"name");var R=new Y(eD(S));ifBlock(R,function(Q){"option"===Q?(parseOption(R,Q),ey(";")):(eI(Q),parseField(R,"optional"))}),Q.add(R)}function parseEnum(Q,S){if(!eA.test(S=eC()))throw illegal(S,"name");var R=new W(S);ifBlock(R,function(Q){switch(Q){case"option":parseOption(R,Q),ey(";");break;case"reserved":readRanges(R.reserved||(R.reserved=[]),!0);break;default:parseEnumValue(R,Q)}}),Q.add(R)}function parseEnumValue(Q,S){if(!eA.test(S))throw illegal(S,"name");ey("=");var R=parseId(eC(),!0),N={options:void 0};N.setOption=function(Q,S){void 0===this.options&&(this.options={}),this.options[Q]=S},ifBlock(N,function(Q){if("option"===Q)parseOption(N,Q),ey(";");else throw illegal(Q)},function(){parseInlineOptions(N)}),Q.add(S,R,N.comment,N.options)}function parseOption(Q,S){var R,N=ey("(",!0);if(!ec.test(S=eC()))throw illegal(S,"name");var M=S,L=M;N&&(ey(")"),L=M="("+M+")",S=eB(),eu.test(S)&&(R=S.slice(1),M+=S,eC())),ey("=");var U=parseOptionValue(Q,M);setParsedOption(Q,L,U,R)}function parseOptionValue(Q,S){if(ey("{",!0)){for(var R={};!ey("}",!0);){if(!eA.test(eh=eC()))throw illegal(eh,"name");if(null===eh)throw illegal(eh,"end of input");var N,M,L=eh;if(ey(":",!0),"{"===eB())N=parseOptionValue(Q,S+"."+eh);else if("["===eB()){if(N=[],ey("[",!0)){do M=readValue(!0),N.push(M);while(ey(",",!0));ey("]"),void 0!==M&&setOption(Q,S+"."+eh,M)}}else N=readValue(!0),setOption(Q,S+"."+eh,N);var U=R[L];U&&(N=[].concat(U).concat(N)),R[L]=N,ey(",",!0),ey(";",!0)}return R}var P=readValue(!0);return setOption(Q,S,P),P}function setOption(Q,S,R){Q.setOption&&Q.setOption(S,R)}function setParsedOption(Q,S,R,N){Q.setParsedOption&&Q.setParsedOption(S,R,N)}function parseInlineOptions(Q){if(ey("[",!0)){do parseOption(Q,"option");while(ey(",",!0));ey("]")}return Q}function parseService(Q,S){if(!eA.test(S=eC()))throw illegal(S,"service name");var R=new K(S);ifBlock(R,function(Q){if(!parseCommon(R,Q)){if("rpc"===Q)parseMethod(R,Q);else throw illegal(Q)}}),Q.add(R)}function parseMethod(Q,S){var R=eQ(),N=S;if(!eA.test(S=eC()))throw illegal(S,"name");var M,L,U,P,Y=S;if(ey("("),ey("stream",!0)&&(L=!0),!ec.test(S=eC())||(M=S,ey(")"),ey("returns"),ey("("),ey("stream",!0)&&(P=!0),!ec.test(S=eC())))throw illegal(S);U=S,ey(")");var W=new X(Y,N,M,U,L,P);W.comment=R,ifBlock(W,function(Q){if("option"===Q)parseOption(W,Q),ey(";");else throw illegal(Q)}),Q.add(W)}function parseExtension(Q,S){if(!ec.test(S=eC()))throw illegal(S,"reference");var R=S;ifBlock(null,function(S){switch(S){case"required":case"repeated":parseField(Q,S,R);break;case"optional":eb?parseField(Q,"proto3_optional",R):parseField(Q,"optional",R);break;default:if(!eb||!ec.test(S))throw illegal(S);eI(S),parseField(Q,"optional",R)}})}for(;null!==(eh=eC());)switch(eh){case"package":if(!eS)throw illegal(eh);parsePackage();break;case"import":if(!eS)throw illegal(eh);parseImport();break;case"syntax":if(!eS)throw illegal(eh);parseSyntax();break;case"option":parseOption(ew,eh),ey(";");break;default:if(parseCommon(ew,eh)){eS=!1;continue}throw illegal(eh)}return parse.filename=null,{package:ed,imports:eg,weakImports:ep,syntax:ef,root:S}}},95199:(Q,S,R)=>{"use strict";Q.exports=Reader;var N,M=R(18932),L=M.LongBits,U=M.utf8;function indexOutOfRange(Q,S){return RangeError("index out of range: "+Q.pos+" + "+(S||1)+" > "+Q.len)}function Reader(Q){this.buf=Q,this.pos=0,this.len=Q.length}var P="undefined"!=typeof Uint8Array?function(Q){if(Q instanceof Uint8Array||Array.isArray(Q))return new Reader(Q);throw Error("illegal buffer")}:function(Q){if(Array.isArray(Q))return new Reader(Q);throw Error("illegal buffer")},create=function(){return M.Buffer?function(Q){return(Reader.create=function(Q){return M.Buffer.isBuffer(Q)?new N(Q):P(Q)})(Q)}:P};function readLongVarint(){var Q=new L(0,0),S=0;if(this.len-this.pos>4){for(;S<4;++S)if(Q.lo=(Q.lo|(127&this.buf[this.pos])<<7*S)>>>0,this.buf[this.pos++]<128)return Q;if(Q.lo=(Q.lo|(127&this.buf[this.pos])<<28)>>>0,Q.hi=(Q.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return Q;S=0}else{for(;S<3;++S){if(this.pos>=this.len)throw indexOutOfRange(this);if(Q.lo=(Q.lo|(127&this.buf[this.pos])<<7*S)>>>0,this.buf[this.pos++]<128)return Q}return Q.lo=(Q.lo|(127&this.buf[this.pos++])<<7*S)>>>0,Q}if(this.len-this.pos>4){for(;S<5;++S)if(Q.hi=(Q.hi|(127&this.buf[this.pos])<<7*S+3)>>>0,this.buf[this.pos++]<128)return Q}else for(;S<5;++S){if(this.pos>=this.len)throw indexOutOfRange(this);if(Q.hi=(Q.hi|(127&this.buf[this.pos])<<7*S+3)>>>0,this.buf[this.pos++]<128)return Q}throw Error("invalid varint encoding")}function readFixed32_end(Q,S){return(Q[S-4]|Q[S-3]<<8|Q[S-2]<<16|Q[S-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new L(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=create(),Reader.prototype._slice=M.Array.prototype.subarray||M.Array.prototype.slice,Reader.prototype.uint32=function(){var Q=4294967295;return function(){if(Q=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(Q=(Q|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(Q=(Q|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(Q=(Q|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(Q=(Q|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return Q;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return Q}}(),Reader.prototype.int32=function(){return 0|this.uint32()},Reader.prototype.sint32=function(){var Q=this.uint32();return Q>>>1^-(1&Q)|0},Reader.prototype.bool=function(){return 0!==this.uint32()},Reader.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var Q=M.float.readFloatLE(this.buf,this.pos);return this.pos+=4,Q},Reader.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var Q=M.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,Q},Reader.prototype.bytes=function(){var Q=this.uint32(),S=this.pos,R=this.pos+Q;if(R>this.len)throw indexOutOfRange(this,Q);if(this.pos+=Q,Array.isArray(this.buf))return this.buf.slice(S,R);if(S===R){var N=M.Buffer;return N?N.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,S,R)},Reader.prototype.string=function(){var Q=this.bytes();return U.read(Q,0,Q.length)},Reader.prototype.skip=function(Q){if("number"==typeof Q){if(this.pos+Q>this.len)throw indexOutOfRange(this,Q);this.pos+=Q}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(Q){switch(Q){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(Q=7&this.uint32());)this.skipType(Q);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+Q+" at offset "+this.pos)}return this},Reader._configure=function(Q){N=Q,Reader.create=create(),N._configure();var S=M.Long?"toLong":"toNumber";M.merge(Reader.prototype,{int64:function(){return readLongVarint.call(this)[S](!1)},uint64:function(){return readLongVarint.call(this)[S](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[S](!1)},fixed64:function(){return readFixed64.call(this)[S](!0)},sfixed64:function(){return readFixed64.call(this)[S](!1)}})}},15213:(Q,S,R)=>{"use strict";Q.exports=BufferReader;var N=R(95199);(BufferReader.prototype=Object.create(N.prototype)).constructor=BufferReader;var M=R(18932);function BufferReader(Q){N.call(this,Q)}BufferReader._configure=function(){M.Buffer&&(BufferReader.prototype._slice=M.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var Q=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+Q,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+Q,this.len))},BufferReader._configure()},98373:(Q,S,R)=>{"use strict";Q.exports=Root;var N,M,L,U=R(97540);((Root.prototype=Object.create(U.prototype)).constructor=Root).className="Root";var P=R(23980),Y=R(59246),W=R(32866),K=R(66738);function Root(Q){U.call(this,"",Q),this.deferred=[],this.files=[]}function SYNC(){}Root.fromJSON=function(Q,S){return S||(S=new Root),Q.options&&S.setOptions(Q.options),S.addJSON(Q.nested)},Root.prototype.resolvePath=K.path.resolve,Root.prototype.fetch=K.fetch,Root.prototype.load=function load(Q,S,R){"function"==typeof S&&(R=S,S=void 0);var N=this;if(!R)return K.asPromise(load,N,Q,S);var U=R===SYNC;function finish(Q,S){if(R){if(U)throw Q;var N=R;R=null,N(Q,S)}}function getBundledFileName(Q){var S=Q.lastIndexOf("google/protobuf/");if(S>-1){var R=Q.substring(S);if(R in L)return R}return null}function process(Q,R){try{if(K.isString(R)&&"{"===R.charAt(0)&&(R=JSON.parse(R)),K.isString(R)){M.filename=Q;var L,Y=M(R,N,S),W=0;if(Y.imports)for(;W<Y.imports.length;++W)(L=getBundledFileName(Y.imports[W])||N.resolvePath(Q,Y.imports[W]))&&fetch(L);if(Y.weakImports)for(W=0;W<Y.weakImports.length;++W)(L=getBundledFileName(Y.weakImports[W])||N.resolvePath(Q,Y.weakImports[W]))&&fetch(L,!0)}else N.setOptions(R.options).addJSON(R.nested)}catch(Q){finish(Q)}U||P||finish(null,N)}function fetch(Q,S){if(Q=getBundledFileName(Q)||Q,!(N.files.indexOf(Q)>-1)){if(N.files.push(Q),Q in L){U?process(Q,L[Q]):(++P,setTimeout(function(){--P,process(Q,L[Q])}));return}if(U){var M;try{M=K.fs.readFileSync(Q).toString("utf8")}catch(Q){S||finish(Q);return}process(Q,M)}else++P,N.fetch(Q,function(M,L){if(--P,R){if(M){S?P||finish(null,N):finish(M);return}process(Q,L)}})}}var P=0;K.isString(Q)&&(Q=[Q]);for(var Y,W=0;W<Q.length;++W)(Y=N.resolvePath("",Q[W]))&&fetch(Y);if(U)return N;P||finish(null,N)},Root.prototype.loadSync=function(Q,S){if(!K.isNode)throw Error("not supported");return this.load(Q,S,SYNC)},Root.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(Q){return"'extend "+Q.extend+"' in "+Q.parent.fullName}).join(", "));return U.prototype.resolveAll.call(this)};var X=/^[A-Z]/;function tryHandleExtension(Q,S){var R=S.parent.lookup(S.extend);if(R){var N=new P(S.fullName,S.id,S.type,S.rule,void 0,S.options);return!!R.get(N.name)||(N.declaringField=S,S.extensionField=N,R.add(N),!0)}return!1}Root.prototype._handleAdd=function(Q){if(Q instanceof P)void 0===Q.extend||Q.extensionField||tryHandleExtension(this,Q)||this.deferred.push(Q);else if(Q instanceof Y)X.test(Q.name)&&(Q.parent[Q.name]=Q.values);else if(!(Q instanceof W)){if(Q instanceof N)for(var S=0;S<this.deferred.length;)tryHandleExtension(this,this.deferred[S])?this.deferred.splice(S,1):++S;for(var R=0;R<Q.nestedArray.length;++R)this._handleAdd(Q._nestedArray[R]);X.test(Q.name)&&(Q.parent[Q.name]=Q)}},Root.prototype._handleRemove=function(Q){if(Q instanceof P){if(void 0!==Q.extend){if(Q.extensionField)Q.extensionField.parent.remove(Q.extensionField),Q.extensionField=null;else{var S=this.deferred.indexOf(Q);S>-1&&this.deferred.splice(S,1)}}}else if(Q instanceof Y)X.test(Q.name)&&delete Q.parent[Q.name];else if(Q instanceof U){for(var R=0;R<Q.nestedArray.length;++R)this._handleRemove(Q._nestedArray[R]);X.test(Q.name)&&delete Q.parent[Q.name]}},Root._configure=function(Q,S,R){N=Q,M=S,L=R}},10182:Q=>{"use strict";Q.exports={}},69226:(Q,S,R)=>{"use strict";S.Service=R(12741)},12741:(Q,S,R)=>{"use strict";Q.exports=Service;var N=R(18932);function Service(Q,S,R){if("function"!=typeof Q)throw TypeError("rpcImpl must be a function");N.EventEmitter.call(this),this.rpcImpl=Q,this.requestDelimited=!!S,this.responseDelimited=!!R}(Service.prototype=Object.create(N.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function rpcCall(Q,S,R,M,L){if(!M)throw TypeError("request must be specified");var U=this;if(!L)return N.asPromise(rpcCall,U,Q,S,R,M);if(!U.rpcImpl){setTimeout(function(){L(Error("already ended"))},0);return}try{return U.rpcImpl(Q,S[U.requestDelimited?"encodeDelimited":"encode"](M).finish(),function(S,N){if(S)return U.emit("error",S,Q),L(S);if(null===N){U.end(!0);return}if(!(N instanceof R))try{N=R[U.responseDelimited?"decodeDelimited":"decode"](N)}catch(S){return U.emit("error",S,Q),L(S)}return U.emit("data",N,Q),L(null,N)})}catch(S){U.emit("error",S,Q),setTimeout(function(){L(S)},0);return}},Service.prototype.end=function(Q){return this.rpcImpl&&(Q||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},82791:(Q,S,R)=>{"use strict";Q.exports=Service;var N=R(97540);((Service.prototype=Object.create(N.prototype)).constructor=Service).className="Service";var M=R(28909),L=R(66738),U=R(69226);function Service(Q,S){N.call(this,Q,S),this.methods={},this._methodsArray=null}function clearCache(Q){return Q._methodsArray=null,Q}Service.fromJSON=function(Q,S){var R=new Service(Q,S.options);if(S.methods)for(var N=Object.keys(S.methods),L=0;L<N.length;++L)R.add(M.fromJSON(N[L],S.methods[N[L]]));return S.nested&&R.addJSON(S.nested),R.comment=S.comment,R},Service.prototype.toJSON=function(Q){var S=N.prototype.toJSON.call(this,Q),R=!!Q&&!!Q.keepComments;return L.toObject(["options",S&&S.options||void 0,"methods",N.arrayToJSON(this.methodsArray,Q)||{},"nested",S&&S.nested||void 0,"comment",R?this.comment:void 0])},Object.defineProperty(Service.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=L.toArray(this.methods))}}),Service.prototype.get=function(Q){return this.methods[Q]||N.prototype.get.call(this,Q)},Service.prototype.resolveAll=function(){for(var Q=this.methodsArray,S=0;S<Q.length;++S)Q[S].resolve();return N.prototype.resolve.call(this)},Service.prototype.add=function(Q){if(this.get(Q.name))throw Error("duplicate name '"+Q.name+"' in "+this);return Q instanceof M?(this.methods[Q.name]=Q,Q.parent=this,clearCache(this)):N.prototype.add.call(this,Q)},Service.prototype.remove=function(Q){if(Q instanceof M){if(this.methods[Q.name]!==Q)throw Error(Q+" is not a member of "+this);return delete this.methods[Q.name],Q.parent=null,clearCache(this)}return N.prototype.remove.call(this,Q)},Service.prototype.create=function(Q,S,R){for(var N,M=new U.Service(Q,S,R),P=0;P<this.methodsArray.length;++P){var Y=L.lcFirst((N=this._methodsArray[P]).resolve().name).replace(/[^$\w_]/g,"");M[Y]=L.codegen(["r","c"],L.isReserved(Y)?Y+"_":Y)("return this.rpcCall(m,q,s,r,c)")({m:N,q:N.resolvedRequestType.ctor,s:N.resolvedResponseType.ctor})}return M}},86116:Q=>{"use strict";Q.exports=tokenize;var S=/[\s{}=;:[\],'"()<>]/g,R=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,N=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,M=/^ *[*/]+ */,L=/^\s*\*?\/*/,U=/\n/g,P=/\s/,Y=/\\(.?)/g,W={0:"\x00",r:"\r",n:"\n",t:"	"};function unescape(Q){return Q.replace(Y,function(Q,S){switch(S){case"\\":case"":return S;default:return W[S]||""}})}function tokenize(Q,Y){Q=Q.toString();var W=0,K=Q.length,X=1,Z=0,$={},ee=[],et=null;function illegal(Q){return Error("illegal "+Q+" (line "+X+")")}function readString(){var S="'"===et?N:R;S.lastIndex=W-1;var M=S.exec(Q);if(!M)throw illegal("string");return W=S.lastIndex,push(et),et=null,unescape(M[1])}function charAt(S){return Q.charAt(S)}function setComment(S,R,N){var P,W,K={type:Q.charAt(S++),lineEmpty:!1,leading:N},ee=S-(P=Y?2:3);do if(--ee<0||"\n"===(W=Q.charAt(ee))){K.lineEmpty=!0;break}while(" "===W||"	"===W);for(var et=Q.substring(S,R).split(U),en=0;en<et.length;++en)et[en]=et[en].replace(Y?L:M,"").trim();K.text=et.join("\n").trim(),$[X]=K,Z=X}function isDoubleSlashCommentLine(S){var R=findEndOfLine(S),N=Q.substring(S,R);return/^\s*\/\//.test(N)}function findEndOfLine(Q){for(var S=Q;S<K&&"\n"!==charAt(S);)S++;return S}function next(){if(ee.length>0)return ee.shift();if(et)return readString();var R,N,M,L,U,Z=0===W;do{if(W===K)return null;for(R=!1;P.test(M=charAt(W));)if("\n"===M&&(Z=!0,++X),++W===K)return null;if("/"===charAt(W)){if(++W===K)throw illegal("comment");if("/"===charAt(W)){if(Y){if(L=W,U=!1,isDoubleSlashCommentLine(W-1)){U=!0;do if((W=findEndOfLine(W))===K||(W++,!Z))break;while(isDoubleSlashCommentLine(W))}else W=Math.min(K,findEndOfLine(W)+1);U&&(setComment(L,W,Z),Z=!0),X++,R=!0}else{for(U="/"===charAt(L=W+1);"\n"!==charAt(++W);)if(W===K)return null;++W,U&&(setComment(L,W-1,Z),Z=!0),++X,R=!0}}else{if("*"!==(M=charAt(W)))return"/";L=W+1,U=Y||"*"===charAt(L);do{if("\n"===M&&++X,++W===K)throw illegal("comment");N=M,M=charAt(W)}while("*"!==N||"/"!==M);++W,U&&(setComment(L,W-2,Z),Z=!0),R=!0}}}while(R);var $=W;if(S.lastIndex=0,!S.test(charAt($++)))for(;$<K&&!S.test(charAt($));)++$;var en=Q.substring(W,W=$);return('"'===en||"'"===en)&&(et=en),en}function push(Q){ee.push(Q)}function peek(){if(!ee.length){var Q=next();if(null===Q)return null;push(Q)}return ee[0]}function skip(Q,S){var R=peek();if(R===Q)return next(),!0;if(!S)throw illegal("token '"+R+"', '"+Q+"' expected");return!1}function cmnt(Q){var S,R=null;return void 0===Q?(S=$[X-1],delete $[X-1],S&&(Y||"*"===S.type||S.lineEmpty)&&(R=S.leading?S.text:null)):(Z<Q&&peek(),S=$[Q],delete $[Q],S&&!S.lineEmpty&&(Y||"/"===S.type)&&(R=S.leading?null:S.text)),R}return Object.defineProperty({next:next,peek:peek,push:push,skip:skip,cmnt:cmnt},"line",{get:function(){return X}})}tokenize.unescape=unescape},59340:(Q,S,R)=>{"use strict";Q.exports=Type;var N=R(97540);((Type.prototype=Object.create(N.prototype)).constructor=Type).className="Type";var M=R(59246),L=R(32866),U=R(23980),P=R(67597),Y=R(82791),W=R(34294),K=R(95199),X=R(84353),Z=R(66738),$=R(49561),ee=R(87317),et=R(17585),en=R(84144),ei=R(34038);function Type(Q,S){N.call(this,Q,S),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function clearCache(Q){return Q._fieldsById=Q._fieldsArray=Q._oneofsArray=null,delete Q.encode,delete Q.decode,delete Q.verify,Q}Object.defineProperties(Type.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var Q=Object.keys(this.fields),S=0;S<Q.length;++S){var R=this.fields[Q[S]],N=R.id;if(this._fieldsById[N])throw Error("duplicate id "+N+" in "+this);this._fieldsById[N]=R}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Z.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Z.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Type.generateConstructor(this)())},set:function(Q){var S=Q.prototype;S instanceof W||((Q.prototype=new W).constructor=Q,Z.merge(Q.prototype,S)),Q.$type=Q.prototype.$type=this,Z.merge(Q,W,!0),this._ctor=Q;for(var R=0;R<this.fieldsArray.length;++R)this._fieldsArray[R].resolve();var N={};for(R=0;R<this.oneofsArray.length;++R)N[this._oneofsArray[R].resolve().name]={get:Z.oneOfGetter(this._oneofsArray[R].oneof),set:Z.oneOfSetter(this._oneofsArray[R].oneof)};R&&Object.defineProperties(Q.prototype,N)}}}),Type.generateConstructor=function(Q){for(var S,R=Z.codegen(["p"],Q.name),N=0;N<Q.fieldsArray.length;++N)(S=Q._fieldsArray[N]).map?R("this%s={}",Z.safeProp(S.name)):S.repeated&&R("this%s=[]",Z.safeProp(S.name));return R("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},Type.fromJSON=function(Q,S){var R=new Type(Q,S.options);R.extensions=S.extensions,R.reserved=S.reserved;for(var W=Object.keys(S.fields),K=0;K<W.length;++K)R.add((void 0!==S.fields[W[K]].keyType?P.fromJSON:U.fromJSON)(W[K],S.fields[W[K]]));if(S.oneofs)for(W=Object.keys(S.oneofs),K=0;K<W.length;++K)R.add(L.fromJSON(W[K],S.oneofs[W[K]]));if(S.nested)for(W=Object.keys(S.nested),K=0;K<W.length;++K){var X=S.nested[W[K]];R.add((void 0!==X.id?U.fromJSON:void 0!==X.fields?Type.fromJSON:void 0!==X.values?M.fromJSON:void 0!==X.methods?Y.fromJSON:N.fromJSON)(W[K],X))}return S.extensions&&S.extensions.length&&(R.extensions=S.extensions),S.reserved&&S.reserved.length&&(R.reserved=S.reserved),S.group&&(R.group=!0),S.comment&&(R.comment=S.comment),R},Type.prototype.toJSON=function(Q){var S=N.prototype.toJSON.call(this,Q),R=!!Q&&!!Q.keepComments;return Z.toObject(["options",S&&S.options||void 0,"oneofs",N.arrayToJSON(this.oneofsArray,Q),"fields",N.arrayToJSON(this.fieldsArray.filter(function(Q){return!Q.declaringField}),Q)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",S&&S.nested||void 0,"comment",R?this.comment:void 0])},Type.prototype.resolveAll=function(){for(var Q=this.fieldsArray,S=0;S<Q.length;)Q[S++].resolve();var R=this.oneofsArray;for(S=0;S<R.length;)R[S++].resolve();return N.prototype.resolveAll.call(this)},Type.prototype.get=function(Q){return this.fields[Q]||this.oneofs&&this.oneofs[Q]||this.nested&&this.nested[Q]||null},Type.prototype.add=function(Q){if(this.get(Q.name))throw Error("duplicate name '"+Q.name+"' in "+this);if(Q instanceof U&&void 0===Q.extend){if(this._fieldsById?this._fieldsById[Q.id]:this.fieldsById[Q.id])throw Error("duplicate id "+Q.id+" in "+this);if(this.isReservedId(Q.id))throw Error("id "+Q.id+" is reserved in "+this);if(this.isReservedName(Q.name))throw Error("name '"+Q.name+"' is reserved in "+this);return Q.parent&&Q.parent.remove(Q),this.fields[Q.name]=Q,Q.message=this,Q.onAdd(this),clearCache(this)}return Q instanceof L?(this.oneofs||(this.oneofs={}),this.oneofs[Q.name]=Q,Q.onAdd(this),clearCache(this)):N.prototype.add.call(this,Q)},Type.prototype.remove=function(Q){if(Q instanceof U&&void 0===Q.extend){if(!this.fields||this.fields[Q.name]!==Q)throw Error(Q+" is not a member of "+this);return delete this.fields[Q.name],Q.parent=null,Q.onRemove(this),clearCache(this)}if(Q instanceof L){if(!this.oneofs||this.oneofs[Q.name]!==Q)throw Error(Q+" is not a member of "+this);return delete this.oneofs[Q.name],Q.parent=null,Q.onRemove(this),clearCache(this)}return N.prototype.remove.call(this,Q)},Type.prototype.isReservedId=function(Q){return N.isReservedId(this.reserved,Q)},Type.prototype.isReservedName=function(Q){return N.isReservedName(this.reserved,Q)},Type.prototype.create=function(Q){return new this.ctor(Q)},Type.prototype.setup=function(){for(var Q=this.fullName,S=[],R=0;R<this.fieldsArray.length;++R)S.push(this._fieldsArray[R].resolve().resolvedType);this.encode=$(this)({Writer:X,types:S,util:Z}),this.decode=ee(this)({Reader:K,types:S,util:Z}),this.verify=et(this)({types:S,util:Z}),this.fromObject=en.fromObject(this)({types:S,util:Z}),this.toObject=en.toObject(this)({types:S,util:Z});var N=ei[Q];if(N){var M=Object.create(this);M.fromObject=this.fromObject,this.fromObject=N.fromObject.bind(M),M.toObject=this.toObject,this.toObject=N.toObject.bind(M)}return this},Type.prototype.encode=function(Q,S){return this.setup().encode(Q,S)},Type.prototype.encodeDelimited=function(Q,S){return this.encode(Q,S&&S.len?S.fork():S).ldelim()},Type.prototype.decode=function(Q,S){return this.setup().decode(Q,S)},Type.prototype.decodeDelimited=function(Q){return Q instanceof K||(Q=K.create(Q)),this.decode(Q,Q.uint32())},Type.prototype.verify=function(Q){return this.setup().verify(Q)},Type.prototype.fromObject=function(Q){return this.setup().fromObject(Q)},Type.prototype.toObject=function(Q,S){return this.setup().toObject(Q,S)},Type.d=function(Q){return function(S){Z.decorateType(S,Q)}}},91708:(Q,S,R)=>{"use strict";var N=S,M=R(66738),L=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function bake(Q,S){var R=0,N={};for(S|=0;R<Q.length;)N[L[R+S]]=Q[R++];return N}N.basic=bake([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),N.defaults=bake([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",M.emptyArray,null]),N.long=bake([0,0,0,1,1],7),N.mapKey=bake([0,0,0,5,5,0,0,0,1,1,0,2],2),N.packed=bake([1,5,0,0,0,5,5,0,0,0,1,1,0])},66738:(Q,S,R)=>{"use strict";var N,M,L=Q.exports=R(18932),U=R(10182);L.codegen=R(57311),L.fetch=R(82651),L.path=R(52768),L.fs=L.inquire("fs"),L.toArray=function(Q){if(Q){for(var S=Object.keys(Q),R=Array(S.length),N=0;N<S.length;)R[N]=Q[S[N++]];return R}return[]},L.toObject=function(Q){for(var S={},R=0;R<Q.length;){var N=Q[R++],M=Q[R++];void 0!==M&&(S[N]=M)}return S};var P=/\\/g,Y=/"/g;L.isReserved=function(Q){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(Q)},L.safeProp=function(Q){return!/^[$\w_]+$/.test(Q)||L.isReserved(Q)?'["'+Q.replace(P,"\\\\").replace(Y,'\\"')+'"]':"."+Q},L.ucFirst=function(Q){return Q.charAt(0).toUpperCase()+Q.substring(1)};var W=/_([a-z])/g;L.camelCase=function(Q){return Q.substring(0,1)+Q.substring(1).replace(W,function(Q,S){return S.toUpperCase()})},L.compareFieldsById=function(Q,S){return Q.id-S.id},L.decorateType=function(Q,S){if(Q.$type)return S&&Q.$type.name!==S&&(L.decorateRoot.remove(Q.$type),Q.$type.name=S,L.decorateRoot.add(Q.$type)),Q.$type;N||(N=R(59340));var M=new N(S||Q.name);return L.decorateRoot.add(M),M.ctor=Q,Object.defineProperty(Q,"$type",{value:M,enumerable:!1}),Object.defineProperty(Q.prototype,"$type",{value:M,enumerable:!1}),M};var K=0;L.decorateEnum=function(Q){if(Q.$type)return Q.$type;M||(M=R(59246));var S=new M("Enum"+K++,Q);return L.decorateRoot.add(S),Object.defineProperty(Q,"$type",{value:S,enumerable:!1}),S},L.setProperty=function(Q,S,R){function setProp(Q,S,R){var N=S.shift();if("__proto__"===N||"prototype"===N)return Q;if(S.length>0)Q[N]=setProp(Q[N]||{},S,R);else{var M=Q[N];M&&(R=[].concat(M).concat(R)),Q[N]=R}return Q}if("object"!=typeof Q)throw TypeError("dst must be an object");if(!S)throw TypeError("path must be specified");return setProp(Q,S=S.split("."),R)},Object.defineProperty(L,"decorateRoot",{get:function(){return U.decorated||(U.decorated=new(R(98373)))}})},41168:(Q,S,R)=>{"use strict";Q.exports=LongBits;var N=R(18932);function LongBits(Q,S){this.lo=Q>>>0,this.hi=S>>>0}var M=LongBits.zero=new LongBits(0,0);M.toNumber=function(){return 0},M.zzEncode=M.zzDecode=function(){return this},M.length=function(){return 1};var L=LongBits.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";LongBits.fromNumber=function(Q){if(0===Q)return M;var S=Q<0;S&&(Q=-Q);var R=Q>>>0,N=(Q-R)/4294967296>>>0;return S&&(N=~N>>>0,R=~R>>>0,++R>4294967295&&(R=0,++N>4294967295&&(N=0))),new LongBits(R,N)},LongBits.from=function(Q){if("number"==typeof Q)return LongBits.fromNumber(Q);if(N.isString(Q)){if(!N.Long)return LongBits.fromNumber(parseInt(Q,10));Q=N.Long.fromString(Q)}return Q.low||Q.high?new LongBits(Q.low>>>0,Q.high>>>0):M},LongBits.prototype.toNumber=function(Q){if(!Q&&this.hi>>>31){var S=~this.lo+1>>>0,R=~this.hi>>>0;return S||(R=R+1>>>0),-(S+4294967296*R)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function(Q){return N.Long?new N.Long(0|this.lo,0|this.hi,!!Q):{low:0|this.lo,high:0|this.hi,unsigned:!!Q}};var U=String.prototype.charCodeAt;LongBits.fromHash=function(Q){return Q===L?M:new LongBits((U.call(Q,0)|U.call(Q,1)<<8|U.call(Q,2)<<16|U.call(Q,3)<<24)>>>0,(U.call(Q,4)|U.call(Q,5)<<8|U.call(Q,6)<<16|U.call(Q,7)<<24)>>>0)},LongBits.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function(){var Q=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^Q)>>>0,this.lo=(this.lo<<1^Q)>>>0,this},LongBits.prototype.zzDecode=function(){var Q=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^Q)>>>0,this.hi=(this.hi>>>1^Q)>>>0,this},LongBits.prototype.length=function(){var Q=this.lo,S=(this.lo>>>28|this.hi<<4)>>>0,R=this.hi>>>24;return 0===R?0===S?Q<16384?Q<128?1:2:Q<2097152?3:4:S<16384?S<128?5:6:S<2097152?7:8:R<128?9:10}},18932:function(Q,S,R){"use strict";var N=S;function merge(Q,S,R){for(var N=Object.keys(S),M=0;M<N.length;++M)void 0!==Q[N[M]]&&R||(Q[N[M]]=S[N[M]]);return Q}function newError(Q){function CustomError(Q,S){if(!(this instanceof CustomError))return new CustomError(Q,S);Object.defineProperty(this,"message",{get:function(){return Q}}),Error.captureStackTrace?Error.captureStackTrace(this,CustomError):Object.defineProperty(this,"stack",{value:Error().stack||""}),S&&merge(this,S)}return CustomError.prototype=Object.create(Error.prototype,{constructor:{value:CustomError,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return Q},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),CustomError}N.asPromise=R(18670),N.base64=R(36009),N.EventEmitter=R(50107),N.float=R(71188),N.inquire=R(28031),N.utf8=R(67148),N.pool=R(14314),N.LongBits=R(41168),N.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),N.global=N.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,N.emptyArray=Object.freeze?Object.freeze([]):[],N.emptyObject=Object.freeze?Object.freeze({}):{},N.isInteger=Number.isInteger||function(Q){return"number"==typeof Q&&isFinite(Q)&&Math.floor(Q)===Q},N.isString=function(Q){return"string"==typeof Q||Q instanceof String},N.isObject=function(Q){return Q&&"object"==typeof Q},N.isset=N.isSet=function(Q,S){var R=Q[S];return!!(null!=R&&Q.hasOwnProperty(S))&&("object"!=typeof R||(Array.isArray(R)?R.length:Object.keys(R).length)>0)},N.Buffer=function(){try{var Q=N.inquire("buffer").Buffer;return Q.prototype.utf8Write?Q:null}catch(Q){return null}}(),N._Buffer_from=null,N._Buffer_allocUnsafe=null,N.newBuffer=function(Q){return"number"==typeof Q?N.Buffer?N._Buffer_allocUnsafe(Q):new N.Array(Q):N.Buffer?N._Buffer_from(Q):"undefined"==typeof Uint8Array?Q:new Uint8Array(Q)},N.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,N.Long=N.global.dcodeIO&&N.global.dcodeIO.Long||N.global.Long||N.inquire("long"),N.key2Re=/^true|false|0|1$/,N.key32Re=/^-?(?:0|[1-9][0-9]*)$/,N.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,N.longToHash=function(Q){return Q?N.LongBits.from(Q).toHash():N.LongBits.zeroHash},N.longFromHash=function(Q,S){var R=N.LongBits.fromHash(Q);return N.Long?N.Long.fromBits(R.lo,R.hi,S):R.toNumber(!!S)},N.merge=merge,N.lcFirst=function(Q){return Q.charAt(0).toLowerCase()+Q.substring(1)},N.newError=newError,N.ProtocolError=newError("ProtocolError"),N.oneOfGetter=function(Q){for(var S={},R=0;R<Q.length;++R)S[Q[R]]=1;return function(){for(var Q=Object.keys(this),R=Q.length-1;R>-1;--R)if(1===S[Q[R]]&&void 0!==this[Q[R]]&&null!==this[Q[R]])return Q[R]}},N.oneOfSetter=function(Q){return function(S){for(var R=0;R<Q.length;++R)Q[R]!==S&&delete this[Q[R]]}},N.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},N._configure=function(){var Q=N.Buffer;if(!Q){N._Buffer_from=N._Buffer_allocUnsafe=null;return}N._Buffer_from=Q.from!==Uint8Array.from&&Q.from||function(S,R){return new Q(S,R)},N._Buffer_allocUnsafe=Q.allocUnsafe||function(S){return new Q(S)}}},17585:(Q,S,R)=>{"use strict";Q.exports=verifier;var N=R(59246),M=R(66738);function invalid(Q,S){return Q.name+": "+S+(Q.repeated&&"array"!==S?"[]":Q.map&&"object"!==S?"{k:"+Q.keyType+"}":"")+" expected"}function genVerifyValue(Q,S,R,M){if(S.resolvedType){if(S.resolvedType instanceof N){Q("switch(%s){",M)("default:")("return%j",invalid(S,"enum value"));for(var L=Object.keys(S.resolvedType.values),U=0;U<L.length;++U)Q("case %i:",S.resolvedType.values[L[U]]);Q("break")("}")}else Q("{")("var e=types[%i].verify(%s);",R,M)("if(e)")("return%j+e",S.name+".")("}")}else switch(S.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":Q("if(!util.isInteger(%s))",M)("return%j",invalid(S,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":Q("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",M,M,M,M)("return%j",invalid(S,"integer|Long"));break;case"float":case"double":Q('if(typeof %s!=="number")',M)("return%j",invalid(S,"number"));break;case"bool":Q('if(typeof %s!=="boolean")',M)("return%j",invalid(S,"boolean"));break;case"string":Q("if(!util.isString(%s))",M)("return%j",invalid(S,"string"));break;case"bytes":Q('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',M,M,M)("return%j",invalid(S,"buffer"))}return Q}function genVerifyKey(Q,S,R){switch(S.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":Q("if(!util.key32Re.test(%s))",R)("return%j",invalid(S,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":Q("if(!util.key64Re.test(%s))",R)("return%j",invalid(S,"integer|Long key"));break;case"bool":Q("if(!util.key2Re.test(%s))",R)("return%j",invalid(S,"boolean key"))}return Q}function verifier(Q){var S=M.codegen(["m"],Q.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),R=Q.oneofsArray,N={};R.length&&S("var p={}");for(var L=0;L<Q.fieldsArray.length;++L){var U=Q._fieldsArray[L].resolve(),P="m"+M.safeProp(U.name);if(U.optional&&S("if(%s!=null&&m.hasOwnProperty(%j)){",P,U.name),U.map)S("if(!util.isObject(%s))",P)("return%j",invalid(U,"object"))("var k=Object.keys(%s)",P)("for(var i=0;i<k.length;++i){"),genVerifyKey(S,U,"k[i]"),genVerifyValue(S,U,L,P+"[k[i]]")("}");else if(U.repeated)S("if(!Array.isArray(%s))",P)("return%j",invalid(U,"array"))("for(var i=0;i<%s.length;++i){",P),genVerifyValue(S,U,L,P+"[i]")("}");else{if(U.partOf){var Y=M.safeProp(U.partOf.name);1===N[U.partOf.name]&&S("if(p%s===1)",Y)("return%j",U.partOf.name+": multiple values"),N[U.partOf.name]=1,S("p%s=1",Y)}genVerifyValue(S,U,L,P)}U.optional&&S("}")}return S("return null")}},34038:(Q,S,R)=>{"use strict";var N=S,M=R(34294);N[".google.protobuf.Any"]={fromObject:function(Q){if(Q&&Q["@type"]){var S=Q["@type"].substring(Q["@type"].lastIndexOf("/")+1),R=this.lookup(S);if(R){var N="."===Q["@type"].charAt(0)?Q["@type"].slice(1):Q["@type"];return -1===N.indexOf("/")&&(N="/"+N),this.create({type_url:N,value:R.encode(R.fromObject(Q)).finish()})}}return this.fromObject(Q)},toObject:function(Q,S){var R="type.googleapis.com/",N="",L="";if(S&&S.json&&Q.type_url&&Q.value){L=Q.type_url.substring(Q.type_url.lastIndexOf("/")+1),N=Q.type_url.substring(0,Q.type_url.lastIndexOf("/")+1);var U=this.lookup(L);U&&(Q=U.decode(Q.value))}if(!(Q instanceof this.ctor)&&Q instanceof M){var P=Q.$type.toObject(Q,S),Y="."===Q.$type.fullName[0]?Q.$type.fullName.slice(1):Q.$type.fullName;return""===N&&(N=R),L=N+Y,P["@type"]=L,P}return this.toObject(Q,S)}}},84353:(Q,S,R)=>{"use strict";Q.exports=Writer;var N,M=R(18932),L=M.LongBits,U=M.base64,P=M.utf8;function Op(Q,S,R){this.fn=Q,this.len=S,this.next=void 0,this.val=R}function noop(){}function State(Q){this.head=Q.head,this.tail=Q.tail,this.len=Q.len,this.next=Q.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create=function(){return M.Buffer?function(){return(Writer.create=function(){return new N})()}:function(){return new Writer}};function writeByte(Q,S,R){S[R]=255&Q}function writeVarint32(Q,S,R){for(;Q>127;)S[R++]=127&Q|128,Q>>>=7;S[R]=Q}function VarintOp(Q,S){this.len=Q,this.next=void 0,this.val=S}function writeVarint64(Q,S,R){for(;Q.hi;)S[R++]=127&Q.lo|128,Q.lo=(Q.lo>>>7|Q.hi<<25)>>>0,Q.hi>>>=7;for(;Q.lo>127;)S[R++]=127&Q.lo|128,Q.lo=Q.lo>>>7;S[R++]=Q.lo}function writeFixed32(Q,S,R){S[R]=255&Q,S[R+1]=Q>>>8&255,S[R+2]=Q>>>16&255,S[R+3]=Q>>>24}Writer.create=create(),Writer.alloc=function(Q){return new M.Array(Q)},M.Array!==Array&&(Writer.alloc=M.pool(Writer.alloc,M.Array.prototype.subarray)),Writer.prototype._push=function(Q,S,R){return this.tail=this.tail.next=new Op(Q,S,R),this.len+=S,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer.prototype.uint32=function(Q){return this.len+=(this.tail=this.tail.next=new VarintOp((Q>>>=0)<128?1:Q<16384?2:Q<2097152?3:Q<268435456?4:5,Q)).len,this},Writer.prototype.int32=function(Q){return Q<0?this._push(writeVarint64,10,L.fromNumber(Q)):this.uint32(Q)},Writer.prototype.sint32=function(Q){return this.uint32((Q<<1^Q>>31)>>>0)},Writer.prototype.uint64=function(Q){var S=L.from(Q);return this._push(writeVarint64,S.length(),S)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function(Q){var S=L.from(Q).zzEncode();return this._push(writeVarint64,S.length(),S)},Writer.prototype.bool=function(Q){return this._push(writeByte,1,Q?1:0)},Writer.prototype.fixed32=function(Q){return this._push(writeFixed32,4,Q>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function(Q){var S=L.from(Q);return this._push(writeFixed32,4,S.lo)._push(writeFixed32,4,S.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function(Q){return this._push(M.float.writeFloatLE,4,Q)},Writer.prototype.double=function(Q){return this._push(M.float.writeDoubleLE,8,Q)};var Y=M.Array.prototype.set?function(Q,S,R){S.set(Q,R)}:function(Q,S,R){for(var N=0;N<Q.length;++N)S[R+N]=Q[N]};Writer.prototype.bytes=function(Q){var S=Q.length>>>0;if(!S)return this._push(writeByte,1,0);if(M.isString(Q)){var R=Writer.alloc(S=U.length(Q));U.decode(Q,R,0),Q=R}return this.uint32(S)._push(Y,S,Q)},Writer.prototype.string=function(Q){var S=P.length(Q);return S?this.uint32(S)._push(P.write,S,Q):this._push(writeByte,1,0)},Writer.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function(){var Q=this.head,S=this.tail,R=this.len;return this.reset().uint32(R),R&&(this.tail.next=Q.next,this.tail=S,this.len+=R),this},Writer.prototype.finish=function(){for(var Q=this.head.next,S=this.constructor.alloc(this.len),R=0;Q;)Q.fn(Q.val,S,R),R+=Q.len,Q=Q.next;return S},Writer._configure=function(Q){N=Q,Writer.create=create(),N._configure()}},81978:(Q,S,R)=>{"use strict";Q.exports=BufferWriter;var N=R(84353);(BufferWriter.prototype=Object.create(N.prototype)).constructor=BufferWriter;var M=R(18932);function BufferWriter(){N.call(this)}function writeStringBuffer(Q,S,R){Q.length<40?M.utf8.write(Q,S,R):S.utf8Write?S.utf8Write(Q,R):S.write(Q,R)}BufferWriter._configure=function(){BufferWriter.alloc=M._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=M.Buffer&&M.Buffer.prototype instanceof Uint8Array&&"set"===M.Buffer.prototype.set.name?function(Q,S,R){S.set(Q,R)}:function(Q,S,R){if(Q.copy)Q.copy(S,R,0,Q.length);else for(var N=0;N<Q.length;)S[R++]=Q[N++]}},BufferWriter.prototype.bytes=function(Q){M.isString(Q)&&(Q=M._Buffer_from(Q,"base64"));var S=Q.length>>>0;return this.uint32(S),S&&this._push(BufferWriter.writeBytesBuffer,S,Q),this},BufferWriter.prototype.string=function(Q){var S=M.Buffer.byteLength(Q);return this.uint32(S),S&&this._push(writeStringBuffer,S,Q),this},BufferWriter._configure()},42753:(Q,S,R)=>{"use strict";var N;let M;let L=R(81588),U=R(65977),P=R(27491),Y=R(56357),W=R(46410),K=R(67682),X=R(42964),{InvalidArgumentError:Z}=P,$=R(58195),ee=R(55536),et=R(15638),en=R(58484),ei=R(51027),es=R(41308),eo=R(81854),ea=R(4523),{getGlobalDispatcher:eA,setGlobalDispatcher:ec}=R(48258),eu=R(52814),eh=R(99809),ed=R(4084);try{R(6113),M=!0}catch{M=!1}function makeDispatcher(Q){return(S,R,N)=>{if("function"==typeof R&&(N=R,R=null),!S||"string"!=typeof S&&"object"!=typeof S&&!(S instanceof URL))throw new Z("invalid url");if(null!=R&&"object"!=typeof R)throw new Z("invalid opts");if(R&&null!=R.path){if("string"!=typeof R.path)throw new Z("invalid opts.path");let Q=R.path;R.path.startsWith("/")||(Q=`/${Q}`),S=new URL(X.parseOrigin(S).origin+Q)}else R||(R="object"==typeof S?S:{}),S=X.parseURL(S);let{agent:M,dispatcher:L=eA()}=R;if(M)throw new Z("unsupported opts.agent. Did you mean opts.client?");return Q.call(L,{...R,origin:S.origin,path:S.search?`${S.pathname}${S.search}`:S.pathname,method:R.method||(R.body?"PUT":"GET")},N)}}if(Object.assign(U.prototype,$),N=U,N=L,N=Y,N=W,N=K,N=eo,N=ea,N=eu,N=eh,N=ed,N=ee,N=P,N=ec,N=eA,X.nodeMajor>16||16===X.nodeMajor&&X.nodeMinor>=8){let S=null;Q.exports.he=async function(Q){S||(S=R(99762).fetch);try{return await S(...arguments)}catch(Q){throw"object"==typeof Q&&Error.captureStackTrace(Q,this),Q}},R(58380).Headers,R(34916).Response,R(72110).Request,R(93178).FormData,R(68007).File,R(42713).FileReader;let{setGlobalOrigin:M,getGlobalOrigin:L}=R(98481);N=M,N=L;let{CacheStorage:U}=R(83401),{kConstruct:P}=R(20499);N=new U(P)}if(X.nodeMajor>=16){let{deleteCookie:Q,getCookies:S,getSetCookies:M,setCookie:L}=R(41766);N=Q,N=S,N=M,N=L;let{parseMIMEType:U,serializeAMimeType:P}=R(13296);N=U,N=P}if(X.nodeMajor>=18&&M){let{WebSocket:Q}=R(24425);N=Q}N=makeDispatcher($.request),N=makeDispatcher($.stream),N=makeDispatcher($.pipeline),N=makeDispatcher($.connect),N=makeDispatcher($.upgrade),N=et,N=ei,N=en,N=es},67682:(Q,S,R)=>{"use strict";let{InvalidArgumentError:N}=R(27491),{kClients:M,kRunning:L,kClose:U,kDestroy:P,kDispatch:Y,kInterceptors:W}=R(43294),K=R(82216),X=R(56357),Z=R(81588),$=R(42964),ee=R(4084),{WeakRef:et,FinalizationRegistry:en}=R(58845)(),ei=Symbol("onConnect"),es=Symbol("onDisconnect"),eo=Symbol("onConnectionError"),ea=Symbol("maxRedirections"),eA=Symbol("onDrain"),ec=Symbol("factory"),eu=Symbol("finalizer"),eh=Symbol("options");function defaultFactory(Q,S){return S&&1===S.connections?new Z(Q,S):new X(Q,S)}let Agent=class Agent extends K{constructor({factory:Q=defaultFactory,maxRedirections:S=0,connect:R,...L}={}){if(super(),"function"!=typeof Q)throw new N("factory must be a function.");if(null!=R&&"function"!=typeof R&&"object"!=typeof R)throw new N("connect must be a function or an object");if(!Number.isInteger(S)||S<0)throw new N("maxRedirections must be a positive number");R&&"function"!=typeof R&&(R={...R}),this[W]=L.interceptors&&L.interceptors.Agent&&Array.isArray(L.interceptors.Agent)?L.interceptors.Agent:[ee({maxRedirections:S})],this[eh]={...$.deepClone(L),connect:R},this[eh].interceptors=L.interceptors?{...L.interceptors}:void 0,this[ea]=S,this[ec]=Q,this[M]=new Map,this[eu]=new en(Q=>{let S=this[M].get(Q);void 0!==S&&void 0===S.deref()&&this[M].delete(Q)});let U=this;this[eA]=(Q,S)=>{U.emit("drain",Q,[U,...S])},this[ei]=(Q,S)=>{U.emit("connect",Q,[U,...S])},this[es]=(Q,S,R)=>{U.emit("disconnect",Q,[U,...S],R)},this[eo]=(Q,S,R)=>{U.emit("connectionError",Q,[U,...S],R)}}get[L](){let Q=0;for(let S of this[M].values()){let R=S.deref();R&&(Q+=R[L])}return Q}[Y](Q,S){let R;if(Q.origin&&("string"==typeof Q.origin||Q.origin instanceof URL))R=String(Q.origin);else throw new N("opts.origin must be a non-empty string or URL.");let L=this[M].get(R),U=L?L.deref():null;return U||(U=this[ec](Q.origin,this[eh]).on("drain",this[eA]).on("connect",this[ei]).on("disconnect",this[es]).on("connectionError",this[eo]),this[M].set(R,new et(U)),this[eu].register(U,R)),U.dispatch(Q,S)}async [U](){let Q=[];for(let S of this[M].values()){let R=S.deref();R&&Q.push(R.close())}await Promise.all(Q)}async [P](Q){let S=[];for(let R of this[M].values()){let N=R.deref();N&&S.push(N.destroy(Q))}await Promise.all(S)}};Q.exports=Agent},7336:(Q,S,R)=>{let{addAbortListener:N}=R(42964),{RequestAbortedError:M}=R(27491),L=Symbol("kListener"),U=Symbol("kSignal");function abort(Q){Q.abort?Q.abort():Q.onError(new M)}function addSignal(Q,S){if(Q[U]=null,Q[L]=null,S){if(S.aborted){abort(Q);return}Q[U]=S,Q[L]=()=>{abort(Q)},N(Q[U],Q[L])}}function removeSignal(Q){Q[U]&&("removeEventListener"in Q[U]?Q[U].removeEventListener("abort",Q[L]):Q[U].removeListener("abort",Q[L]),Q[U]=null,Q[L]=null)}Q.exports={addSignal,removeSignal}},59103:(Q,S,R)=>{"use strict";let{AsyncResource:N}=R(50852),{InvalidArgumentError:M,RequestAbortedError:L,SocketError:U}=R(27491),P=R(42964),{addSignal:Y,removeSignal:W}=R(7336);let ConnectHandler=class ConnectHandler extends N{constructor(Q,S){if(!Q||"object"!=typeof Q)throw new M("invalid opts");if("function"!=typeof S)throw new M("invalid callback");let{signal:R,opaque:N,responseHeaders:L}=Q;if(R&&"function"!=typeof R.on&&"function"!=typeof R.addEventListener)throw new M("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=N||null,this.responseHeaders=L||null,this.callback=S,this.abort=null,Y(this,R)}onConnect(Q,S){if(!this.callback)throw new L;this.abort=Q,this.context=S}onHeaders(){throw new U("bad connect",null)}onUpgrade(Q,S,R){let{callback:N,opaque:M,context:L}=this;W(this),this.callback=null;let U=S;null!=U&&(U="raw"===this.responseHeaders?P.parseRawHeaders(S):P.parseHeaders(S)),this.runInAsyncScope(N,null,null,{statusCode:Q,headers:U,socket:R,opaque:M,context:L})}onError(Q){let{callback:S,opaque:R}=this;W(this),S&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(S,null,Q,{opaque:R})}))}};function connect(Q,S){if(void 0===S)return new Promise((S,R)=>{connect.call(this,Q,(Q,N)=>Q?R(Q):S(N))});try{let R=new ConnectHandler(Q,S);this.dispatch({...Q,method:"CONNECT"},R)}catch(N){if("function"!=typeof S)throw N;let R=Q&&Q.opaque;queueMicrotask(()=>S(N,{opaque:R}))}}Q.exports=connect},43684:(Q,S,R)=>{"use strict";let{Readable:N,Duplex:M,PassThrough:L}=R(12781),{InvalidArgumentError:U,InvalidReturnValueError:P,RequestAbortedError:Y}=R(27491),W=R(42964),{AsyncResource:K}=R(50852),{addSignal:X,removeSignal:Z}=R(7336),$=R(39491),ee=Symbol("resume");let PipelineRequest=class PipelineRequest extends N{constructor(){super({autoDestroy:!0}),this[ee]=null}_read(){let{[ee]:Q}=this;Q&&(this[ee]=null,Q())}_destroy(Q,S){this._read(),S(Q)}};let PipelineResponse=class PipelineResponse extends N{constructor(Q){super({autoDestroy:!0}),this[ee]=Q}_read(){this[ee]()}_destroy(Q,S){Q||this._readableState.endEmitted||(Q=new Y),S(Q)}};let PipelineHandler=class PipelineHandler extends K{constructor(Q,S){if(!Q||"object"!=typeof Q)throw new U("invalid opts");if("function"!=typeof S)throw new U("invalid handler");let{signal:R,method:N,opaque:L,onInfo:P,responseHeaders:K}=Q;if(R&&"function"!=typeof R.on&&"function"!=typeof R.addEventListener)throw new U("signal must be an EventEmitter or EventTarget");if("CONNECT"===N)throw new U("invalid method");if(P&&"function"!=typeof P)throw new U("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=L||null,this.responseHeaders=K||null,this.handler=S,this.abort=null,this.context=null,this.onInfo=P||null,this.req=new PipelineRequest().on("error",W.nop),this.ret=new M({readableObjectMode:Q.objectMode,autoDestroy:!0,read:()=>{let{body:Q}=this;Q&&Q.resume&&Q.resume()},write:(Q,S,R)=>{let{req:N}=this;N.push(Q,S)||N._readableState.destroyed?R():N[ee]=R},destroy:(Q,S)=>{let{body:R,req:N,res:M,ret:L,abort:U}=this;Q||L._readableState.endEmitted||(Q=new Y),U&&Q&&U(),W.destroy(R,Q),W.destroy(N,Q),W.destroy(M,Q),Z(this),S(Q)}}).on("prefinish",()=>{let{req:Q}=this;Q.push(null)}),this.res=null,X(this,R)}onConnect(Q,S){let{ret:R,res:N}=this;if($(!N,"pipeline cannot be retried"),R.destroyed)throw new Y;this.abort=Q,this.context=S}onHeaders(Q,S,R){let N;let{opaque:M,handler:L,context:U}=this;if(Q<200){if(this.onInfo){let R="raw"===this.responseHeaders?W.parseRawHeaders(S):W.parseHeaders(S);this.onInfo({statusCode:Q,headers:R})}return}this.res=new PipelineResponse(R);try{this.handler=null;let R="raw"===this.responseHeaders?W.parseRawHeaders(S):W.parseHeaders(S);N=this.runInAsyncScope(L,null,{statusCode:Q,headers:R,opaque:M,body:this.res,context:U})}catch(Q){throw this.res.on("error",W.nop),Q}if(!N||"function"!=typeof N.on)throw new P("expected Readable");N.on("data",Q=>{let{ret:S,body:R}=this;!S.push(Q)&&R.pause&&R.pause()}).on("error",Q=>{let{ret:S}=this;W.destroy(S,Q)}).on("end",()=>{let{ret:Q}=this;Q.push(null)}).on("close",()=>{let{ret:Q}=this;Q._readableState.ended||W.destroy(Q,new Y)}),this.body=N}onData(Q){let{res:S}=this;return S.push(Q)}onComplete(Q){let{res:S}=this;S.push(null)}onError(Q){let{ret:S}=this;this.handler=null,W.destroy(S,Q)}};function pipeline(Q,S){try{let R=new PipelineHandler(Q,S);return this.dispatch({...Q,body:R.req},R),R.ret}catch(Q){return new L().destroy(Q)}}Q.exports=pipeline},1213:(Q,S,R)=>{"use strict";let N=R(41917),{InvalidArgumentError:M,RequestAbortedError:L}=R(27491),U=R(42964),{getResolveErrorBodyCallback:P}=R(11508),{AsyncResource:Y}=R(50852),{addSignal:W,removeSignal:K}=R(7336);let RequestHandler=class RequestHandler extends Y{constructor(Q,S){if(!Q||"object"!=typeof Q)throw new M("invalid opts");let{signal:R,method:N,opaque:L,body:P,onInfo:Y,responseHeaders:K,throwOnError:X,highWaterMark:Z}=Q;try{if("function"!=typeof S)throw new M("invalid callback");if(Z&&("number"!=typeof Z||Z<0))throw new M("invalid highWaterMark");if(R&&"function"!=typeof R.on&&"function"!=typeof R.addEventListener)throw new M("signal must be an EventEmitter or EventTarget");if("CONNECT"===N)throw new M("invalid method");if(Y&&"function"!=typeof Y)throw new M("invalid onInfo callback");super("UNDICI_REQUEST")}catch(Q){throw U.isStream(P)&&U.destroy(P.on("error",U.nop),Q),Q}this.responseHeaders=K||null,this.opaque=L||null,this.callback=S,this.res=null,this.abort=null,this.body=P,this.trailers={},this.context=null,this.onInfo=Y||null,this.throwOnError=X,this.highWaterMark=Z,U.isStream(P)&&P.on("error",Q=>{this.onError(Q)}),W(this,R)}onConnect(Q,S){if(!this.callback)throw new L;this.abort=Q,this.context=S}onHeaders(Q,S,R,M){let{callback:L,opaque:Y,abort:W,context:K,responseHeaders:X,highWaterMark:Z}=this,$="raw"===X?U.parseRawHeaders(S):U.parseHeaders(S);if(Q<200){this.onInfo&&this.onInfo({statusCode:Q,headers:$});return}let ee="raw"===X?U.parseHeaders(S):$,et=ee["content-type"],en=new N({resume:R,abort:W,contentType:et,highWaterMark:Z});this.callback=null,this.res=en,null!==L&&(this.throwOnError&&Q>=400?this.runInAsyncScope(P,null,{callback:L,body:en,contentType:et,statusCode:Q,statusMessage:M,headers:$}):this.runInAsyncScope(L,null,null,{statusCode:Q,headers:$,trailers:this.trailers,opaque:Y,body:en,context:K}))}onData(Q){let{res:S}=this;return S.push(Q)}onComplete(Q){let{res:S}=this;K(this),U.parseHeaders(Q,this.trailers),S.push(null)}onError(Q){let{res:S,callback:R,body:N,opaque:M}=this;K(this),R&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(R,null,Q,{opaque:M})})),S&&(this.res=null,queueMicrotask(()=>{U.destroy(S,Q)})),N&&(this.body=null,U.destroy(N,Q))}};function request(Q,S){if(void 0===S)return new Promise((S,R)=>{request.call(this,Q,(Q,N)=>Q?R(Q):S(N))});try{this.dispatch(Q,new RequestHandler(Q,S))}catch(N){if("function"!=typeof S)throw N;let R=Q&&Q.opaque;queueMicrotask(()=>S(N,{opaque:R}))}}Q.exports=request,Q.exports.RequestHandler=RequestHandler},31361:(Q,S,R)=>{"use strict";let{finished:N,PassThrough:M}=R(12781),{InvalidArgumentError:L,InvalidReturnValueError:U,RequestAbortedError:P}=R(27491),Y=R(42964),{getResolveErrorBodyCallback:W}=R(11508),{AsyncResource:K}=R(50852),{addSignal:X,removeSignal:Z}=R(7336);let StreamHandler=class StreamHandler extends K{constructor(Q,S,R){if(!Q||"object"!=typeof Q)throw new L("invalid opts");let{signal:N,method:M,opaque:U,body:P,onInfo:W,responseHeaders:K,throwOnError:Z}=Q;try{if("function"!=typeof R)throw new L("invalid callback");if("function"!=typeof S)throw new L("invalid factory");if(N&&"function"!=typeof N.on&&"function"!=typeof N.addEventListener)throw new L("signal must be an EventEmitter or EventTarget");if("CONNECT"===M)throw new L("invalid method");if(W&&"function"!=typeof W)throw new L("invalid onInfo callback");super("UNDICI_STREAM")}catch(Q){throw Y.isStream(P)&&Y.destroy(P.on("error",Y.nop),Q),Q}this.responseHeaders=K||null,this.opaque=U||null,this.factory=S,this.callback=R,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=P,this.onInfo=W||null,this.throwOnError=Z||!1,Y.isStream(P)&&P.on("error",Q=>{this.onError(Q)}),X(this,N)}onConnect(Q,S){if(!this.callback)throw new P;this.abort=Q,this.context=S}onHeaders(Q,S,R,L){let P;let{factory:K,opaque:X,context:Z,callback:$,responseHeaders:ee}=this,et="raw"===ee?Y.parseRawHeaders(S):Y.parseHeaders(S);if(Q<200){this.onInfo&&this.onInfo({statusCode:Q,headers:et});return}if(this.factory=null,this.throwOnError&&Q>=400){let R="raw"===ee?Y.parseHeaders(S):et,N=R["content-type"];P=new M,this.callback=null,this.runInAsyncScope(W,null,{callback:$,body:P,contentType:N,statusCode:Q,statusMessage:L,headers:et})}else{if(null===K)return;if(!(P=this.runInAsyncScope(K,null,{statusCode:Q,headers:et,opaque:X,context:Z}))||"function"!=typeof P.write||"function"!=typeof P.end||"function"!=typeof P.on)throw new U("expected Writable");N(P,{readable:!1},Q=>{let{callback:S,res:R,opaque:N,trailers:M,abort:L}=this;this.res=null,(Q||!R.readable)&&Y.destroy(R,Q),this.callback=null,this.runInAsyncScope(S,null,Q||null,{opaque:N,trailers:M}),Q&&L()})}P.on("drain",R),this.res=P;let en=void 0!==P.writableNeedDrain?P.writableNeedDrain:P._writableState&&P._writableState.needDrain;return!0!==en}onData(Q){let{res:S}=this;return!S||S.write(Q)}onComplete(Q){let{res:S}=this;Z(this),S&&(this.trailers=Y.parseHeaders(Q),S.end())}onError(Q){let{res:S,callback:R,opaque:N,body:M}=this;Z(this),this.factory=null,S?(this.res=null,Y.destroy(S,Q)):R&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(R,null,Q,{opaque:N})})),M&&(this.body=null,Y.destroy(M,Q))}};function stream(Q,S,R){if(void 0===R)return new Promise((R,N)=>{stream.call(this,Q,S,(Q,S)=>Q?N(Q):R(S))});try{this.dispatch(Q,new StreamHandler(Q,S,R))}catch(N){if("function"!=typeof R)throw N;let S=Q&&Q.opaque;queueMicrotask(()=>R(N,{opaque:S}))}}Q.exports=stream},36229:(Q,S,R)=>{"use strict";let{InvalidArgumentError:N,RequestAbortedError:M,SocketError:L}=R(27491),{AsyncResource:U}=R(50852),P=R(42964),{addSignal:Y,removeSignal:W}=R(7336),K=R(39491);let UpgradeHandler=class UpgradeHandler extends U{constructor(Q,S){if(!Q||"object"!=typeof Q)throw new N("invalid opts");if("function"!=typeof S)throw new N("invalid callback");let{signal:R,opaque:M,responseHeaders:L}=Q;if(R&&"function"!=typeof R.on&&"function"!=typeof R.addEventListener)throw new N("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=L||null,this.opaque=M||null,this.callback=S,this.abort=null,this.context=null,Y(this,R)}onConnect(Q,S){if(!this.callback)throw new M;this.abort=Q,this.context=null}onHeaders(){throw new L("bad upgrade",null)}onUpgrade(Q,S,R){let{callback:N,opaque:M,context:L}=this;K.strictEqual(Q,101),W(this),this.callback=null;let U="raw"===this.responseHeaders?P.parseRawHeaders(S):P.parseHeaders(S);this.runInAsyncScope(N,null,null,{headers:U,socket:R,opaque:M,context:L})}onError(Q){let{callback:S,opaque:R}=this;W(this),S&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(S,null,Q,{opaque:R})}))}};function upgrade(Q,S){if(void 0===S)return new Promise((S,R)=>{upgrade.call(this,Q,(Q,N)=>Q?R(Q):S(N))});try{let R=new UpgradeHandler(Q,S);this.dispatch({...Q,method:Q.method||"GET",upgrade:Q.protocol||"Websocket"},R)}catch(N){if("function"!=typeof S)throw N;let R=Q&&Q.opaque;queueMicrotask(()=>S(N,{opaque:R}))}}Q.exports=upgrade},58195:(Q,S,R)=>{"use strict";Q.exports.request=R(1213),Q.exports.stream=R(31361),Q.exports.pipeline=R(43684),Q.exports.upgrade=R(36229),Q.exports.connect=R(59103)},41917:(Q,S,R)=>{"use strict";let N;let M=R(39491),{Readable:L}=R(12781),{RequestAbortedError:U,NotSupportedError:P,InvalidArgumentError:Y}=R(27491),W=R(42964),{ReadableStreamFrom:K,toUSVString:X}=R(42964),Z=Symbol("kConsume"),$=Symbol("kReading"),ee=Symbol("kBody"),et=Symbol("abort"),en=Symbol("kContentType"),noop=()=>{};function isLocked(Q){return Q[ee]&&!0===Q[ee].locked||Q[Z]}function isUnusable(Q){return W.isDisturbed(Q)||isLocked(Q)}async function consume(Q,S){if(isUnusable(Q))throw TypeError("unusable");return M(!Q[Z]),new Promise((R,N)=>{Q[Z]={type:S,stream:Q,resolve:R,reject:N,length:0,body:[]},Q.on("error",function(Q){consumeFinish(this[Z],Q)}).on("close",function(){null!==this[Z].body&&consumeFinish(this[Z],new U)}),process.nextTick(consumeStart,Q[Z])})}function consumeStart(Q){if(null===Q.body)return;let{_readableState:S}=Q.stream;for(let R of S.buffer)consumePush(Q,R);for(S.endEmitted?consumeEnd(this[Z]):Q.stream.on("end",function(){consumeEnd(this[Z])}),Q.stream.resume();null!=Q.stream.read(););}function consumeEnd(Q){let{type:S,body:M,resolve:L,stream:U,length:P}=Q;try{if("text"===S)L(X(Buffer.concat(M)));else if("json"===S)L(JSON.parse(Buffer.concat(M)));else if("arrayBuffer"===S){let Q=new Uint8Array(P),S=0;for(let R of M)Q.set(R,S),S+=R.byteLength;L(Q.buffer)}else"blob"===S&&(N||(N=R(14300).Blob),L(new N(M,{type:U[en]})));consumeFinish(Q)}catch(Q){U.destroy(Q)}}function consumePush(Q,S){Q.length+=S.length,Q.body.push(S)}function consumeFinish(Q,S){null!==Q.body&&(S?Q.reject(S):Q.resolve(),Q.type=null,Q.stream=null,Q.resolve=null,Q.reject=null,Q.length=0,Q.body=null)}Q.exports=class extends L{constructor({resume:Q,abort:S,contentType:R="",highWaterMark:N=65536}){super({autoDestroy:!0,read:Q,highWaterMark:N}),this._readableState.dataEmitted=!1,this[et]=S,this[Z]=null,this[ee]=null,this[en]=R,this[$]=!1}destroy(Q){return this.destroyed?this:(Q||this._readableState.endEmitted||(Q=new U),Q&&this[et](),super.destroy(Q))}emit(Q,...S){return"data"===Q?this._readableState.dataEmitted=!0:"error"===Q&&(this._readableState.errorEmitted=!0),super.emit(Q,...S)}on(Q,...S){return("data"===Q||"readable"===Q)&&(this[$]=!0),super.on(Q,...S)}addListener(Q,...S){return this.on(Q,...S)}off(Q,...S){let R=super.off(Q,...S);return("data"===Q||"readable"===Q)&&(this[$]=this.listenerCount("data")>0||this.listenerCount("readable")>0),R}removeListener(Q,...S){return this.off(Q,...S)}push(Q){return this[Z]&&null!==Q&&0===this.readableLength?(consumePush(this[Z],Q),!this[$]||super.push(Q)):super.push(Q)}async text(){return consume(this,"text")}async json(){return consume(this,"json")}async blob(){return consume(this,"blob")}async arrayBuffer(){return consume(this,"arrayBuffer")}async formData(){throw new P}get bodyUsed(){return W.isDisturbed(this)}get body(){return!this[ee]&&(this[ee]=K(this),this[Z]&&(this[ee].getReader(),M(this[ee].locked))),this[ee]}dump(Q){let S=Q&&Number.isFinite(Q.limit)?Q.limit:262144,R=Q&&Q.signal;if(R)try{if("object"!=typeof R||!("aborted"in R))throw new Y("signal must be an AbortSignal");W.throwIfAborted(R)}catch(Q){return Promise.reject(Q)}return this.closed?Promise.resolve(null):new Promise((Q,N)=>{let M=R?W.addAbortListener(R,()=>{this.destroy()}):noop;this.on("close",function(){M(),R&&R.aborted?N(R.reason||Object.assign(Error("The operation was aborted"),{name:"AbortError"})):Q(null)}).on("error",noop).on("data",function(Q){(S-=Q.length)<=0&&this.destroy()}).resume()})}}},11508:(Q,S,R)=>{let N=R(39491),{ResponseStatusCodeError:M}=R(27491),{toUSVString:L}=R(42964);async function getResolveErrorBodyCallback({callback:Q,body:S,contentType:R,statusCode:U,statusMessage:P,headers:Y}){N(S);let W=[],K=0;for await(let Q of S)if(W.push(Q),(K+=Q.length)>131072){W=null;break}if(204===U||!R||!W){process.nextTick(Q,new M(`Response status code ${U}${P?`: ${P}`:""}`,U,Y));return}try{if(R.startsWith("application/json")){let S=JSON.parse(L(Buffer.concat(W)));process.nextTick(Q,new M(`Response status code ${U}${P?`: ${P}`:""}`,U,Y,S));return}if(R.startsWith("text/")){let S=L(Buffer.concat(W));process.nextTick(Q,new M(`Response status code ${U}${P?`: ${P}`:""}`,U,Y,S));return}}catch(Q){}process.nextTick(Q,new M(`Response status code ${U}${P?`: ${P}`:""}`,U,Y))}Q.exports={getResolveErrorBodyCallback}},46410:(Q,S,R)=>{"use strict";let{BalancedPoolMissingUpstreamError:N,InvalidArgumentError:M}=R(27491),{PoolBase:L,kClients:U,kNeedDrain:P,kAddClient:Y,kRemoveClient:W,kGetDispatcher:K}=R(45621),X=R(56357),{kUrl:Z,kInterceptors:$}=R(43294),{parseOrigin:ee}=R(42964),et=Symbol("factory"),en=Symbol("options"),ei=Symbol("kGreatestCommonDivisor"),es=Symbol("kCurrentWeight"),eo=Symbol("kIndex"),ea=Symbol("kWeight"),eA=Symbol("kMaxWeightPerServer"),ec=Symbol("kErrorPenalty");function getGreatestCommonDivisor(Q,S){return 0===S?Q:getGreatestCommonDivisor(S,Q%S)}function defaultFactory(Q,S){return new X(Q,S)}let BalancedPool=class BalancedPool extends L{constructor(Q=[],{factory:S=defaultFactory,...R}={}){if(super(),this[en]=R,this[eo]=-1,this[es]=0,this[eA]=this[en].maxWeightPerServer||100,this[ec]=this[en].errorPenalty||15,Array.isArray(Q)||(Q=[Q]),"function"!=typeof S)throw new M("factory must be a function.");for(let N of(this[$]=R.interceptors&&R.interceptors.BalancedPool&&Array.isArray(R.interceptors.BalancedPool)?R.interceptors.BalancedPool:[],this[et]=S,Q))this.addUpstream(N);this._updateBalancedPoolStats()}addUpstream(Q){let S=ee(Q).origin;if(this[U].find(Q=>Q[Z].origin===S&&!0!==Q.closed&&!0!==Q.destroyed))return this;let R=this[et](S,Object.assign({},this[en]));for(let Q of(this[Y](R),R.on("connect",()=>{R[ea]=Math.min(this[eA],R[ea]+this[ec])}),R.on("connectionError",()=>{R[ea]=Math.max(1,R[ea]-this[ec]),this._updateBalancedPoolStats()}),R.on("disconnect",(...Q)=>{let S=Q[2];S&&"UND_ERR_SOCKET"===S.code&&(R[ea]=Math.max(1,R[ea]-this[ec]),this._updateBalancedPoolStats())}),this[U]))Q[ea]=this[eA];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[ei]=this[U].map(Q=>Q[ea]).reduce(getGreatestCommonDivisor,0)}removeUpstream(Q){let S=ee(Q).origin,R=this[U].find(Q=>Q[Z].origin===S&&!0!==Q.closed&&!0!==Q.destroyed);return R&&this[W](R),this}get upstreams(){return this[U].filter(Q=>!0!==Q.closed&&!0!==Q.destroyed).map(Q=>Q[Z].origin)}[K](){if(0===this[U].length)throw new N;let Q=this[U].find(Q=>!Q[P]&&!0!==Q.closed&&!0!==Q.destroyed);if(!Q)return;let S=this[U].map(Q=>Q[P]).reduce((Q,S)=>Q&&S,!0);if(S)return;let R=0,M=this[U].findIndex(Q=>!Q[P]);for(;R++<this[U].length;){this[eo]=(this[eo]+1)%this[U].length;let Q=this[U][this[eo]];if(Q[ea]>this[U][M][ea]&&!Q[P]&&(M=this[eo]),0===this[eo]&&(this[es]=this[es]-this[ei],this[es]<=0&&(this[es]=this[eA])),Q[ea]>=this[es]&&!Q[P])return Q}return this[es]=this[U][M][ea],this[eo]=M,this[U][M]}};Q.exports=BalancedPool},38540:(Q,S,R)=>{"use strict";let{kConstruct:N}=R(20499),{urlEquals:M,fieldValues:L}=R(77905),{kEnumerableProperty:U,isDisturbed:P}=R(42964),{kHeadersList:Y}=R(43294),{webidl:W}=R(52277),{Response:K,cloneResponse:X}=R(34916),{Request:Z}=R(72110),{kState:$,kHeaders:ee,kGuard:et,kRealm:en}=R(16119),{fetching:ei}=R(99762),{urlIsHttpHttpsScheme:es,createDeferredPromise:eo,readAllBytes:ea}=R(98504),eA=R(39491),{getGlobalDispatcher:ec}=R(48258);let Cache=class Cache{#e;constructor(){arguments[0]!==N&&W.illegalConstructor(),this.#e=arguments[1]}async match(Q,S={}){W.brandCheck(this,Cache),W.argumentLengthCheck(arguments,1,{header:"Cache.match"}),Q=W.converters.RequestInfo(Q),S=W.converters.CacheQueryOptions(S);let R=await this.matchAll(Q,S);if(0!==R.length)return R[0]}async matchAll(Q,S={}){W.brandCheck(this,Cache),void 0!==Q&&(Q=W.converters.RequestInfo(Q)),S=W.converters.CacheQueryOptions(S);let R=null;if(void 0!==Q){if(Q instanceof Z){if("GET"!==(R=Q[$]).method&&!S.ignoreMethod)return[]}else"string"==typeof Q&&(R=new Z(Q)[$])}let N=[];if(void 0===Q)for(let Q of this.#e)N.push(Q[1]);else{let Q=this.#t(R,S);for(let S of Q)N.push(S[1])}let M=[];for(let Q of N){let S=new K(Q.body?.source??null),R=S[$].body;S[$]=Q,S[$].body=R,S[ee][Y]=Q.headersList,S[ee][et]="immutable",M.push(S)}return Object.freeze(M)}async add(Q){W.brandCheck(this,Cache),W.argumentLengthCheck(arguments,1,{header:"Cache.add"}),Q=W.converters.RequestInfo(Q);let S=[Q],R=this.addAll(S);return await R}async addAll(Q){W.brandCheck(this,Cache),W.argumentLengthCheck(arguments,1,{header:"Cache.addAll"}),Q=W.converters["sequence<RequestInfo>"](Q);let S=[],R=[];for(let S of Q){if("string"==typeof S)continue;let Q=S[$];if(!es(Q.url)||"GET"!==Q.method)throw W.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}let N=[];for(let M of Q){let Q=new Z(M)[$];if(!es(Q.url))throw W.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."});Q.initiator="fetch",Q.destination="subresource",R.push(Q);let U=eo();N.push(ei({request:Q,dispatcher:ec(),processResponse(Q){if("error"===Q.type||206===Q.status||Q.status<200||Q.status>299)U.reject(W.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(Q.headersList.contains("vary")){let S=L(Q.headersList.get("vary"));for(let Q of S)if("*"===Q){for(let Q of(U.reject(W.errors.exception({header:"Cache.addAll",message:"invalid vary field value"})),N))Q.abort();return}}},processResponseEndOfBody(Q){if(Q.aborted){U.reject(new DOMException("aborted","AbortError"));return}U.resolve(Q)}})),S.push(U.promise)}let M=Promise.all(S),U=await M,P=[],Y=0;for(let Q of U){let S={type:"put",request:R[Y],response:Q};P.push(S),Y++}let K=eo(),X=null;try{this.#r(P)}catch(Q){X=Q}return queueMicrotask(()=>{null===X?K.resolve(void 0):K.reject(X)}),K.promise}async put(Q,S){W.brandCheck(this,Cache),W.argumentLengthCheck(arguments,2,{header:"Cache.put"}),Q=W.converters.RequestInfo(Q),S=W.converters.Response(S);let R=null;if(!es((R=Q instanceof Z?Q[$]:new Z(Q)[$]).url)||"GET"!==R.method)throw W.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"});let N=S[$];if(206===N.status)throw W.errors.exception({header:"Cache.put",message:"Got 206 status"});if(N.headersList.contains("vary")){let Q=L(N.headersList.get("vary"));for(let S of Q)if("*"===S)throw W.errors.exception({header:"Cache.put",message:"Got * vary field value"})}if(N.body&&(P(N.body.stream)||N.body.stream.locked))throw W.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"});let M=X(N),U=eo();if(null!=N.body){let Q=N.body.stream,S=Q.getReader();ea(S).then(U.resolve,U.reject)}else U.resolve(void 0);let Y=[],K={type:"put",request:R,response:M};Y.push(K);let ee=await U.promise;null!=M.body&&(M.body.source=ee);let et=eo(),en=null;try{this.#r(Y)}catch(Q){en=Q}return queueMicrotask(()=>{null===en?et.resolve():et.reject(en)}),et.promise}async delete(Q,S={}){let R;W.brandCheck(this,Cache),W.argumentLengthCheck(arguments,1,{header:"Cache.delete"}),Q=W.converters.RequestInfo(Q),S=W.converters.CacheQueryOptions(S);let N=null;if(Q instanceof Z){if("GET"!==(N=Q[$]).method&&!S.ignoreMethod)return!1}else eA("string"==typeof Q),N=new Z(Q)[$];let M=[],L={type:"delete",request:N,options:S};M.push(L);let U=eo(),P=null;try{R=this.#r(M)}catch(Q){P=Q}return queueMicrotask(()=>{null===P?U.resolve(!!R?.length):U.reject(P)}),U.promise}async keys(Q,S={}){W.brandCheck(this,Cache),void 0!==Q&&(Q=W.converters.RequestInfo(Q)),S=W.converters.CacheQueryOptions(S);let R=null;if(void 0!==Q){if(Q instanceof Z){if("GET"!==(R=Q[$]).method&&!S.ignoreMethod)return[]}else"string"==typeof Q&&(R=new Z(Q)[$])}let N=eo(),M=[];if(void 0===Q)for(let Q of this.#e)M.push(Q[0]);else{let Q=this.#t(R,S);for(let S of Q)M.push(S[0])}return queueMicrotask(()=>{let Q=[];for(let S of M){let R=new Z("https://a");R[$]=S,R[ee][Y]=S.headersList,R[ee][et]="immutable",R[en]=S.client,Q.push(R)}N.resolve(Object.freeze(Q))}),N.promise}#r(Q){let S=this.#e,R=[...S],N=[],M=[];try{for(let R of Q){let Q;if("delete"!==R.type&&"put"!==R.type)throw W.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if("delete"===R.type&&null!=R.response)throw W.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#t(R.request,R.options,N).length)throw new DOMException("???","InvalidStateError");if("delete"===R.type){if(Q=this.#t(R.request,R.options),0===Q.length)return[];for(let R of Q){let Q=S.indexOf(R);eA(-1!==Q),S.splice(Q,1)}}else if("put"===R.type){if(null==R.response)throw W.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let M=R.request;if(!es(M.url))throw W.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if("GET"!==M.method)throw W.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(null!=R.options)throw W.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});for(let N of Q=this.#t(R.request)){let Q=S.indexOf(N);eA(-1!==Q),S.splice(Q,1)}S.push([R.request,R.response]),N.push([R.request,R.response])}M.push([R.request,R.response])}return M}catch(Q){throw this.#e.length=0,this.#e=R,Q}}#t(Q,S,R){let N=[],M=R??this.#e;for(let R of M){let[M,L]=R;this.#n(Q,M,L,S)&&N.push(R)}return N}#n(Q,S,R=null,N){let U=new URL(Q.url),P=new URL(S.url);if(N?.ignoreSearch&&(P.search="",U.search=""),!M(U,P,!0))return!1;if(null==R||N?.ignoreVary||!R.headersList.contains("vary"))return!0;let Y=L(R.headersList.get("vary"));for(let R of Y){if("*"===R)return!1;let N=S.headersList.get(R),M=Q.headersList.get(R);if(N!==M)return!1}return!0}};Object.defineProperties(Cache.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:U,matchAll:U,add:U,addAll:U,put:U,delete:U,keys:U});let eu=[{key:"ignoreSearch",converter:W.converters.boolean,defaultValue:!1},{key:"ignoreMethod",converter:W.converters.boolean,defaultValue:!1},{key:"ignoreVary",converter:W.converters.boolean,defaultValue:!1}];W.converters.CacheQueryOptions=W.dictionaryConverter(eu),W.converters.MultiCacheQueryOptions=W.dictionaryConverter([...eu,{key:"cacheName",converter:W.converters.DOMString}]),W.converters.Response=W.interfaceConverter(K),W.converters["sequence<RequestInfo>"]=W.sequenceConverter(W.converters.RequestInfo),Q.exports={Cache}},83401:(Q,S,R)=>{"use strict";let{kConstruct:N}=R(20499),{Cache:M}=R(38540),{webidl:L}=R(52277),{kEnumerableProperty:U}=R(42964);let CacheStorage=class CacheStorage{#i=new Map;constructor(){arguments[0]!==N&&L.illegalConstructor()}async match(Q,S={}){if(L.brandCheck(this,CacheStorage),L.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"}),Q=L.converters.RequestInfo(Q),null!=(S=L.converters.MultiCacheQueryOptions(S)).cacheName){if(this.#i.has(S.cacheName)){let R=this.#i.get(S.cacheName),L=new M(N,R);return await L.match(Q,S)}}else for(let R of this.#i.values()){let L=new M(N,R),U=await L.match(Q,S);if(void 0!==U)return U}}async has(Q){return L.brandCheck(this,CacheStorage),L.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"}),Q=L.converters.DOMString(Q),this.#i.has(Q)}async open(Q){if(L.brandCheck(this,CacheStorage),L.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"}),Q=L.converters.DOMString(Q),this.#i.has(Q)){let S=this.#i.get(Q);return new M(N,S)}let S=[];return this.#i.set(Q,S),new M(N,S)}async delete(Q){return L.brandCheck(this,CacheStorage),L.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"}),Q=L.converters.DOMString(Q),this.#i.delete(Q)}async keys(){L.brandCheck(this,CacheStorage);let Q=this.#i.keys();return[...Q]}};Object.defineProperties(CacheStorage.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:U,has:U,open:U,delete:U,keys:U}),Q.exports={CacheStorage}},20499:(Q,S,R)=>{"use strict";Q.exports={kConstruct:R(43294).kConstruct}},77905:(Q,S,R)=>{"use strict";let N=R(39491),{URLSerializer:M}=R(13296),{isValidHeaderName:L}=R(98504);function urlEquals(Q,S,R=!1){let N=M(Q,R),L=M(S,R);return N===L}function fieldValues(Q){N(null!==Q);let S=[];for(let R of Q.split(","))(R=R.trim()).length&&L(R)&&S.push(R);return S}Q.exports={urlEquals,fieldValues}},81588:(Q,S,R)=>{"use strict";let N;let M=R(39491),L=R(41808),U=R(13685),{pipeline:P}=R(12781),Y=R(42964),W=R(33286),K=R(74132),X=R(82216),{RequestContentLengthMismatchError:Z,ResponseContentLengthMismatchError:$,InvalidArgumentError:ee,RequestAbortedError:et,HeadersTimeoutError:en,HeadersOverflowError:ei,SocketError:es,InformationalError:eo,BodyTimeoutError:ea,HTTPParserError:eA,ResponseExceededMaxSizeError:ec,ClientDestroyedError:eu}=R(27491),eh=R(55536),{kUrl:ed,kReset:eg,kServerName:ep,kClient:ef,kBusy:eE,kParser:em,kConnect:eC,kBlocking:eI,kResuming:eB,kRunning:ey,kPending:eQ,kSize:eS,kWriting:eb,kQueue:ew,kConnected:eD,kConnecting:eR,kNeedDrain:eT,kNoRef:ek,kKeepAliveDefaultTimeout:eN,kHostHeader:eF,kPendingIdx:eM,kRunningIdx:eL,kError:ex,kPipelining:e_,kSocket:eU,kKeepAliveTimeoutValue:eO,kMaxHeadersSize:eP,kKeepAliveMaxTimeout:eV,kKeepAliveTimeoutThreshold:eG,kHeadersTimeout:eH,kBodyTimeout:eY,kStrictContentLength:eJ,kConnector:eW,kMaxRedirections:ej,kMaxRequests:ez,kCounter:eK,kClose:eX,kDestroy:eZ,kDispatch:e$,kInterceptors:e0,kLocalAddress:e1,kMaxResponseSize:e2,kHTTPConnVersion:e4,kHost:e9,kHTTP2Session:e3,kHTTP2SessionState:e8,kHTTP2BuildRequest:e5,kHTTP2CopyHeaders:e6,kHTTP1BuildRequest:e7}=R(43294);try{N=R(85158)}catch{N={constants:{}}}let{constants:{HTTP2_HEADER_AUTHORITY:te,HTTP2_HEADER_METHOD:tt,HTTP2_HEADER_PATH:tr,HTTP2_HEADER_SCHEME:ti,HTTP2_HEADER_CONTENT_LENGTH:ts,HTTP2_HEADER_EXPECT:ta,HTTP2_HEADER_STATUS:tA}}=N,tl=!1,tc=Buffer[Symbol.species],tu=Symbol("kClosedResolve"),th={};try{let Q=R(67643);th.sendHeaders=Q.channel("undici:client:sendHeaders"),th.beforeConnect=Q.channel("undici:client:beforeConnect"),th.connectError=Q.channel("undici:client:connectError"),th.connected=Q.channel("undici:client:connected")}catch{th.sendHeaders={hasSubscribers:!1},th.beforeConnect={hasSubscribers:!1},th.connectError={hasSubscribers:!1},th.connected={hasSubscribers:!1}}let Client=class Client extends X{constructor(Q,{interceptors:S,maxHeaderSize:R,headersTimeout:N,socketTimeout:M,requestTimeout:P,connectTimeout:W,bodyTimeout:K,idleTimeout:X,keepAlive:Z,keepAliveTimeout:$,maxKeepAliveTimeout:et,keepAliveMaxTimeout:en,keepAliveTimeoutThreshold:ei,socketPath:es,pipelining:eo,tls:ea,strictContentLength:eA,maxCachedSessions:ec,maxRedirections:eu,connect:eg,maxRequestsPerClient:ef,localAddress:eE,maxResponseSize:em,autoSelectFamily:eC,autoSelectFamilyAttemptTimeout:eI,allowH2:ey,maxConcurrentStreams:eQ}={}){if(super(),void 0!==Z)throw new ee("unsupported keepAlive, use pipelining=0 instead");if(void 0!==M)throw new ee("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==P)throw new ee("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==X)throw new ee("unsupported idleTimeout, use keepAliveTimeout instead");if(void 0!==et)throw new ee("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(null!=R&&!Number.isFinite(R))throw new ee("invalid maxHeaderSize");if(null!=es&&"string"!=typeof es)throw new ee("invalid socketPath");if(null!=W&&(!Number.isFinite(W)||W<0))throw new ee("invalid connectTimeout");if(null!=$&&(!Number.isFinite($)||$<=0))throw new ee("invalid keepAliveTimeout");if(null!=en&&(!Number.isFinite(en)||en<=0))throw new ee("invalid keepAliveMaxTimeout");if(null!=ei&&!Number.isFinite(ei))throw new ee("invalid keepAliveTimeoutThreshold");if(null!=N&&(!Number.isInteger(N)||N<0))throw new ee("headersTimeout must be a positive integer or zero");if(null!=K&&(!Number.isInteger(K)||K<0))throw new ee("bodyTimeout must be a positive integer or zero");if(null!=eg&&"function"!=typeof eg&&"object"!=typeof eg)throw new ee("connect must be a function or an object");if(null!=eu&&(!Number.isInteger(eu)||eu<0))throw new ee("maxRedirections must be a positive number");if(null!=ef&&(!Number.isInteger(ef)||ef<0))throw new ee("maxRequestsPerClient must be a positive number");if(null!=eE&&("string"!=typeof eE||0===L.isIP(eE)))throw new ee("localAddress must be valid string IP address");if(null!=em&&(!Number.isInteger(em)||em<-1))throw new ee("maxResponseSize must be a positive number");if(null!=eI&&(!Number.isInteger(eI)||eI<-1))throw new ee("autoSelectFamilyAttemptTimeout must be a positive number");if(null!=ey&&"boolean"!=typeof ey)throw new ee("allowH2 must be a valid boolean value");if(null!=eQ&&("number"!=typeof eQ||eQ<1))throw new ee("maxConcurrentStreams must be a possitive integer, greater than 0");"function"!=typeof eg&&(eg=eh({...ea,maxCachedSessions:ec,allowH2:ey,socketPath:es,timeout:W,...Y.nodeHasAutoSelectFamily&&eC?{autoSelectFamily:eC,autoSelectFamilyAttemptTimeout:eI}:void 0,...eg})),this[e0]=S&&S.Client&&Array.isArray(S.Client)?S.Client:[tg({maxRedirections:eu})],this[ed]=Y.parseOrigin(Q),this[eW]=eg,this[eU]=null,this[e_]=null!=eo?eo:1,this[eP]=R||U.maxHeaderSize,this[eN]=null==$?4e3:$,this[eV]=null==en?6e5:en,this[eG]=null==ei?1e3:ei,this[eO]=this[eN],this[ep]=null,this[e1]=null!=eE?eE:null,this[eB]=0,this[eT]=0,this[eF]=`host: ${this[ed].hostname}${this[ed].port?`:${this[ed].port}`:""}\r
`,this[eY]=null!=K?K:3e5,this[eH]=null!=N?N:3e5,this[eJ]=null==eA||eA,this[ej]=eu,this[ez]=ef,this[tu]=null,this[e2]=em>-1?em:-1,this[e4]="h1",this[e3]=null,this[e8]=ey?{openStreams:0,maxConcurrentStreams:null!=eQ?eQ:100}:null,this[e9]=`${this[ed].hostname}${this[ed].port?`:${this[ed].port}`:""}`,this[ew]=[],this[eL]=0,this[eM]=0}get pipelining(){return this[e_]}set pipelining(Q){this[e_]=Q,resume(this,!0)}get[eQ](){return this[ew].length-this[eM]}get[ey](){return this[eM]-this[eL]}get[eS](){return this[ew].length-this[eL]}get[eD](){return!!this[eU]&&!this[eR]&&!this[eU].destroyed}get[eE](){let Q=this[eU];return Q&&(Q[eg]||Q[eb]||Q[eI])||this[eS]>=(this[e_]||1)||this[eQ]>0}[eC](Q){connect(this),this.once("connect",Q)}[e$](Q,S){let R=Q.origin||this[ed].origin,N="h2"===this[e4]?K[e5](R,Q,S):K[e7](R,Q,S);return this[ew].push(N),this[eB]||(null==Y.bodyLength(N.body)&&Y.isIterable(N.body)?(this[eB]=1,process.nextTick(resume,this)):resume(this,!0)),this[eB]&&2!==this[eT]&&this[eE]&&(this[eT]=2),this[eT]<2}async [eX](){return new Promise(Q=>{this[eS]?this[tu]=Q:Q(null)})}async [eZ](Q){return new Promise(S=>{let R=this[ew].splice(this[eM]);for(let S=0;S<R.length;S++){let N=R[S];errorRequest(this,N,Q)}let callback=()=>{this[tu]&&(this[tu](),this[tu]=null),S()};null!=this[e3]&&(Y.destroy(this[e3],Q),this[e3]=null,this[e8]=null),this[eU]?Y.destroy(this[eU].on("close",callback),Q):queueMicrotask(callback),resume(this)})}};function onHttp2SessionError(Q){M("ERR_TLS_CERT_ALTNAME_INVALID"!==Q.code),this[eU][ex]=Q,onError(this[ef],Q)}function onHttp2FrameError(Q,S,R){let N=new eo(`HTTP/2: "frameError" received - type ${Q}, code ${S}`);0===R&&(this[eU][ex]=N,onError(this[ef],N))}function onHttp2SessionEnd(){Y.destroy(this,new es("other side closed")),Y.destroy(this[eU],new es("other side closed"))}function onHTTP2GoAway(Q){let S=this[ef],R=new eo(`HTTP/2: "GOAWAY" frame received with code ${Q}`);if(S[eU]=null,S[e3]=null,S.destroyed){M(0===this[eQ]);let Q=S[ew].splice(S[eL]);for(let S=0;S<Q.length;S++){let N=Q[S];errorRequest(this,N,R)}}else if(S[ey]>0){let Q=S[ew][S[eL]];S[ew][S[eL]++]=null,errorRequest(S,Q,R)}S[eM]=S[eL],M(0===S[ey]),S.emit("disconnect",S[ed],[S],R),resume(S)}let td=R(27250),tg=R(4084),tp=Buffer.alloc(0),tf=null,tE=async function(){let Q;let S=process.env.JEST_WORKER_ID?R(79679):void 0;try{Q=await WebAssembly.compile(Buffer.from(R(16771),"base64"))}catch(N){Q=await WebAssembly.compile(Buffer.from(S||R(79679),"base64"))}return await WebAssembly.instantiate(Q,{env:{wasm_on_url:(Q,S,R)=>0,wasm_on_status:(Q,S,R)=>{M.strictEqual(tm.ptr,Q);let N=S-tB+tC.byteOffset;return tm.onStatus(new tc(tC.buffer,N,R))||0},wasm_on_message_begin:Q=>(M.strictEqual(tm.ptr,Q),tm.onMessageBegin()||0),wasm_on_header_field:(Q,S,R)=>{M.strictEqual(tm.ptr,Q);let N=S-tB+tC.byteOffset;return tm.onHeaderField(new tc(tC.buffer,N,R))||0},wasm_on_header_value:(Q,S,R)=>{M.strictEqual(tm.ptr,Q);let N=S-tB+tC.byteOffset;return tm.onHeaderValue(new tc(tC.buffer,N,R))||0},wasm_on_headers_complete:(Q,S,R,N)=>(M.strictEqual(tm.ptr,Q),tm.onHeadersComplete(S,!!R,!!N)||0),wasm_on_body:(Q,S,R)=>{M.strictEqual(tm.ptr,Q);let N=S-tB+tC.byteOffset;return tm.onBody(new tc(tC.buffer,N,R))||0},wasm_on_message_complete:Q=>(M.strictEqual(tm.ptr,Q),tm.onMessageComplete()||0)}})}();tE.catch();let tm=null,tC=null,tI=0,tB=null,ty=1,tQ=2,tS=3;let Parser=class Parser{constructor(Q,S,{exports:R}){M(Number.isFinite(Q[eP])&&Q[eP]>0),this.llhttp=R,this.ptr=this.llhttp.llhttp_alloc(td.TYPE.RESPONSE),this.client=Q,this.socket=S,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=Q[eP],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=Q[e2]}setTimeout(Q,S){this.timeoutType=S,Q!==this.timeoutValue?(W.clearTimeout(this.timeout),Q?(this.timeout=W.setTimeout(onParserTimeout,Q,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=Q):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){!this.socket.destroyed&&this.paused&&(M(null!=this.ptr),M(null==tm),this.llhttp.llhttp_resume(this.ptr),M(this.timeoutType===tQ),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||tp),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let Q=this.socket.read();if(null===Q)break;this.execute(Q)}}execute(Q){M(null!=this.ptr),M(null==tm),M(!this.paused);let{socket:S,llhttp:R}=this;Q.length>tI&&(tB&&R.free(tB),tI=4096*Math.ceil(Q.length/4096),tB=R.malloc(tI)),new Uint8Array(R.memory.buffer,tB,tI).set(Q);try{let N;try{tC=Q,tm=this,N=R.llhttp_execute(this.ptr,tB,Q.length)}catch(Q){throw Q}finally{tm=null,tC=null}let M=R.llhttp_get_error_pos(this.ptr)-tB;if(N===td.ERROR.PAUSED_UPGRADE)this.onUpgrade(Q.slice(M));else if(N===td.ERROR.PAUSED)this.paused=!0,S.unshift(Q.slice(M));else if(N!==td.ERROR.OK){let S=R.llhttp_get_error_reason(this.ptr),L="";if(S){let Q=new Uint8Array(R.memory.buffer,S).indexOf(0);L="Response does not match the HTTP/1.1 protocol ("+Buffer.from(R.memory.buffer,S,Q).toString()+")"}throw new eA(L,td.ERROR[N],Q.slice(M))}}catch(Q){Y.destroy(S,Q)}}destroy(){M(null!=this.ptr),M(null==tm),this.llhttp.llhttp_free(this.ptr),this.ptr=null,W.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(Q){this.statusText=Q.toString()}onMessageBegin(){let{socket:Q,client:S}=this;if(Q.destroyed)return -1;let R=S[ew][S[eL]];if(!R)return -1}onHeaderField(Q){let S=this.headers.length;(1&S)==0?this.headers.push(Q):this.headers[S-1]=Buffer.concat([this.headers[S-1],Q]),this.trackHeader(Q.length)}onHeaderValue(Q){let S=this.headers.length;(1&S)==1?(this.headers.push(Q),S+=1):this.headers[S-1]=Buffer.concat([this.headers[S-1],Q]);let R=this.headers[S-2];10===R.length&&"keep-alive"===R.toString().toLowerCase()?this.keepAlive+=Q.toString():10===R.length&&"connection"===R.toString().toLowerCase()?this.connection+=Q.toString():14===R.length&&"content-length"===R.toString().toLowerCase()&&(this.contentLength+=Q.toString()),this.trackHeader(Q.length)}trackHeader(Q){this.headersSize+=Q,this.headersSize>=this.headersMaxSize&&Y.destroy(this.socket,new ei)}onUpgrade(Q){let{upgrade:S,client:R,socket:N,headers:L,statusCode:U}=this;M(S);let P=R[ew][R[eL]];M(P),M(!N.destroyed),M(N===R[eU]),M(!this.paused),M(P.upgrade||"CONNECT"===P.method),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,M(this.headers.length%2==0),this.headers=[],this.headersSize=0,N.unshift(Q),N[em].destroy(),N[em]=null,N[ef]=null,N[ex]=null,N.removeListener("error",onSocketError).removeListener("readable",onSocketReadable).removeListener("end",onSocketEnd).removeListener("close",onSocketClose),R[eU]=null,R[ew][R[eL]++]=null,R.emit("disconnect",R[ed],[R],new eo("upgrade"));try{P.onUpgrade(U,L,N)}catch(Q){Y.destroy(N,Q)}resume(R)}onHeadersComplete(Q,S,R){let{client:N,socket:L,headers:U,statusText:P}=this;if(L.destroyed)return -1;let W=N[ew][N[eL]];if(!W)return -1;if(M(!this.upgrade),M(this.statusCode<200),100===Q)return Y.destroy(L,new es("bad response",Y.getSocketInfo(L))),-1;if(S&&!W.upgrade)return Y.destroy(L,new es("bad upgrade",Y.getSocketInfo(L))),-1;if(M.strictEqual(this.timeoutType,ty),this.statusCode=Q,this.shouldKeepAlive=R||"HEAD"===W.method&&!L[eg]&&"keep-alive"===this.connection.toLowerCase(),this.statusCode>=200){let Q=null!=W.bodyTimeout?W.bodyTimeout:N[eY];this.setTimeout(Q,tQ)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if("CONNECT"===W.method||S)return M(1===N[ey]),this.upgrade=!0,2;if(M(this.headers.length%2==0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&N[e_]){let Q=this.keepAlive?Y.parseKeepAliveTimeout(this.keepAlive):null;if(null!=Q){let S=Math.min(Q-N[eG],N[eV]);S<=0?L[eg]=!0:N[eO]=S}else N[eO]=N[eN]}else L[eg]=!0;let K=!1===W.onHeaders(Q,U,this.resume,P);return W.aborted?-1:"HEAD"===W.method||Q<200?1:(L[eI]&&(L[eI]=!1,resume(N)),K?td.ERROR.PAUSED:0)}onBody(Q){let{client:S,socket:R,statusCode:N,maxResponseSize:L}=this;if(R.destroyed)return -1;let U=S[ew][S[eL]];return(M(U),M.strictEqual(this.timeoutType,tQ),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),M(N>=200),L>-1&&this.bytesRead+Q.length>L)?(Y.destroy(R,new ec),-1):(this.bytesRead+=Q.length,!1===U.onData(Q))?td.ERROR.PAUSED:void 0}onMessageComplete(){let{client:Q,socket:S,statusCode:R,upgrade:N,headers:L,contentLength:U,bytesRead:P,shouldKeepAlive:W}=this;if(S.destroyed&&(!R||W))return -1;if(N)return;let K=Q[ew][Q[eL]];if(M(K),M(R>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",M(this.headers.length%2==0),this.headers=[],this.headersSize=0,!(R<200)){if("HEAD"!==K.method&&U&&P!==parseInt(U,10))return Y.destroy(S,new $),-1;if(K.onComplete(L),Q[ew][Q[eL]++]=null,S[eb])return M.strictEqual(Q[ey],0),Y.destroy(S,new eo("reset")),td.ERROR.PAUSED;if(!W||S[eg]&&0===Q[ey])return Y.destroy(S,new eo("reset")),td.ERROR.PAUSED;1===Q[e_]?setImmediate(resume,Q):resume(Q)}}};function onParserTimeout(Q){let{socket:S,timeoutType:R,client:N}=Q;R===ty?(!S[eb]||S.writableNeedDrain||N[ey]>1)&&(M(!Q.paused,"cannot be paused while waiting for headers"),Y.destroy(S,new en)):R===tQ?Q.paused||Y.destroy(S,new ea):R===tS&&(M(0===N[ey]&&N[eO]),Y.destroy(S,new eo("socket idle timeout")))}function onSocketReadable(){let{[em]:Q}=this;Q&&Q.readMore()}function onSocketError(Q){let{[ef]:S,[em]:R}=this;if(M("ERR_TLS_CERT_ALTNAME_INVALID"!==Q.code),"h2"!==S[e4]&&"ECONNRESET"===Q.code&&R.statusCode&&!R.shouldKeepAlive){R.onMessageComplete();return}this[ex]=Q,onError(this[ef],Q)}function onError(Q,S){if(0===Q[ey]&&"UND_ERR_INFO"!==S.code&&"UND_ERR_SOCKET"!==S.code){M(Q[eM]===Q[eL]);let R=Q[ew].splice(Q[eL]);for(let N=0;N<R.length;N++){let M=R[N];errorRequest(Q,M,S)}M(0===Q[eS])}}function onSocketEnd(){let{[em]:Q,[ef]:S}=this;if("h2"!==S[e4]&&Q.statusCode&&!Q.shouldKeepAlive){Q.onMessageComplete();return}Y.destroy(this,new es("other side closed",Y.getSocketInfo(this)))}function onSocketClose(){let{[ef]:Q,[em]:S}=this;"h1"===Q[e4]&&S&&(this[ex]||!S.statusCode||S.shouldKeepAlive||S.onMessageComplete(),this[em].destroy(),this[em]=null);let R=this[ex]||new es("closed",Y.getSocketInfo(this));if(Q[eU]=null,Q.destroyed){M(0===Q[eQ]);let S=Q[ew].splice(Q[eL]);for(let N=0;N<S.length;N++){let M=S[N];errorRequest(Q,M,R)}}else if(Q[ey]>0&&"UND_ERR_INFO"!==R.code){let S=Q[ew][Q[eL]];Q[ew][Q[eL]++]=null,errorRequest(Q,S,R)}Q[eM]=Q[eL],M(0===Q[ey]),Q.emit("disconnect",Q[ed],[Q],R),resume(Q)}async function connect(Q){M(!Q[eR]),M(!Q[eU]);let{host:S,hostname:R,protocol:U,port:P}=Q[ed];if("["===R[0]){let Q=R.indexOf("]");M(-1!==Q);let S=R.substring(1,Q);M(L.isIP(S)),R=S}Q[eR]=!0,th.beforeConnect.hasSubscribers&&th.beforeConnect.publish({connectParams:{host:S,hostname:R,protocol:U,port:P,servername:Q[ep],localAddress:Q[e1]},connector:Q[eW]});try{let L=await new Promise((N,M)=>{Q[eW]({host:S,hostname:R,protocol:U,port:P,servername:Q[ep],localAddress:Q[e1]},(Q,S)=>{Q?M(Q):N(S)})});if(Q.destroyed){Y.destroy(L.on("error",()=>{}),new eu);return}Q[eR]=!1,M(L);let W="h2"===L.alpnProtocol;if(W){tl||(tl=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let S=N.connect(Q[ed],{createConnection:()=>L,peerMaxConcurrentStreams:Q[e8].maxConcurrentStreams});Q[e4]="h2",S[ef]=Q,S[eU]=L,S.on("error",onHttp2SessionError),S.on("frameError",onHttp2FrameError),S.on("end",onHttp2SessionEnd),S.on("goaway",onHTTP2GoAway),S.on("close",onSocketClose),S.unref(),Q[e3]=S,L[e3]=S}else tf||(tf=await tE,tE=null),L[ek]=!1,L[eb]=!1,L[eg]=!1,L[eI]=!1,L[em]=new Parser(Q,L,tf);L[eK]=0,L[ez]=Q[ez],L[ef]=Q,L[ex]=null,L.on("error",onSocketError).on("readable",onSocketReadable).on("end",onSocketEnd).on("close",onSocketClose),Q[eU]=L,th.connected.hasSubscribers&&th.connected.publish({connectParams:{host:S,hostname:R,protocol:U,port:P,servername:Q[ep],localAddress:Q[e1]},connector:Q[eW],socket:L}),Q.emit("connect",Q[ed],[Q])}catch(N){if(Q.destroyed)return;if(Q[eR]=!1,th.connectError.hasSubscribers&&th.connectError.publish({connectParams:{host:S,hostname:R,protocol:U,port:P,servername:Q[ep],localAddress:Q[e1]},connector:Q[eW],error:N}),"ERR_TLS_CERT_ALTNAME_INVALID"===N.code)for(M(0===Q[ey]);Q[eQ]>0&&Q[ew][Q[eM]].servername===Q[ep];){let S=Q[ew][Q[eM]++];errorRequest(Q,S,N)}else onError(Q,N);Q.emit("connectionError",Q[ed],[Q],N)}resume(Q)}function emitDrain(Q){Q[eT]=0,Q.emit("drain",Q[ed],[Q])}function resume(Q,S){2!==Q[eB]&&(Q[eB]=2,_resume(Q,S),Q[eB]=0,Q[eL]>256&&(Q[ew].splice(0,Q[eL]),Q[eM]-=Q[eL],Q[eL]=0))}function _resume(Q,S){for(;;){if(Q.destroyed){M(0===Q[eQ]);return}if(Q[tu]&&!Q[eS]){Q[tu](),Q[tu]=null;return}let R=Q[eU];if(R&&!R.destroyed&&"h2"!==R.alpnProtocol){if(0===Q[eS]?!R[ek]&&R.unref&&(R.unref(),R[ek]=!0):R[ek]&&R.ref&&(R.ref(),R[ek]=!1),0===Q[eS])R[em].timeoutType!==tS&&R[em].setTimeout(Q[eO],tS);else if(Q[ey]>0&&R[em].statusCode<200&&R[em].timeoutType!==ty){let S=Q[ew][Q[eL]],N=null!=S.headersTimeout?S.headersTimeout:Q[eH];R[em].setTimeout(N,ty)}}if(Q[eE])Q[eT]=2;else if(2===Q[eT]){S?(Q[eT]=1,process.nextTick(emitDrain,Q)):emitDrain(Q);continue}if(0===Q[eQ]||Q[ey]>=(Q[e_]||1))return;let N=Q[ew][Q[eM]];if("https:"===Q[ed].protocol&&Q[ep]!==N.servername){if(Q[ey]>0)return;if(Q[ep]=N.servername,R&&R.servername!==N.servername){Y.destroy(R,new eo("servername changed"));return}}if(Q[eR])return;if(!R&&!Q[e3]){connect(Q);return}if(R.destroyed||R[eb]||R[eg]||R[eI]||Q[ey]>0&&!N.idempotent||Q[ey]>0&&(N.upgrade||"CONNECT"===N.method)||Q[ey]>0&&0!==Y.bodyLength(N.body)&&(Y.isStream(N.body)||Y.isAsyncIterable(N.body)))return;!N.aborted&&write(Q,N)?Q[eM]++:Q[ew].splice(Q[eM],1)}}function shouldSendContentLength(Q){return"GET"!==Q&&"HEAD"!==Q&&"OPTIONS"!==Q&&"TRACE"!==Q&&"CONNECT"!==Q}function write(Q,S){if("h2"===Q[e4]){writeH2(Q,Q[e3],S);return}let{body:R,method:N,path:L,host:U,upgrade:P,headers:W,blocking:K,reset:X}=S,$="PUT"===N||"POST"===N||"PATCH"===N;R&&"function"==typeof R.read&&R.read(0);let ee=Y.bodyLength(R),en=ee;if(null===en&&(en=S.contentLength),0!==en||$||(en=null),shouldSendContentLength(N)&&en>0&&null!==S.contentLength&&S.contentLength!==en){if(Q[eJ])return errorRequest(Q,S,new Z),!1;process.emitWarning(new Z)}let ei=Q[eU];try{S.onConnect(R=>{S.aborted||S.completed||(errorRequest(Q,S,R||new et),Y.destroy(ei,new eo("aborted")))})}catch(R){errorRequest(Q,S,R)}if(S.aborted)return!1;"HEAD"===N&&(ei[eg]=!0),(P||"CONNECT"===N)&&(ei[eg]=!0),null!=X&&(ei[eg]=X),Q[ez]&&ei[eK]++>=Q[ez]&&(ei[eg]=!0),K&&(ei[eI]=!0);let es=`${N} ${L} HTTP/1.1\r
`;return"string"==typeof U?es+=`host: ${U}\r
`:es+=Q[eF],P?es+=`connection: upgrade\r
upgrade: ${P}\r
`:Q[e_]&&!ei[eg]?es+="connection: keep-alive\r\n":es+="connection: close\r\n",W&&(es+=W),th.sendHeaders.hasSubscribers&&th.sendHeaders.publish({request:S,headers:es,socket:ei}),R&&0!==ee?Y.isBuffer(R)?(M(en===R.byteLength,"buffer body must have content length"),ei.cork(),ei.write(`${es}content-length: ${en}\r
\r
`,"latin1"),ei.write(R),ei.uncork(),S.onBodySent(R),S.onRequestSent(),$||(ei[eg]=!0)):Y.isBlobLike(R)?"function"==typeof R.stream?writeIterable({body:R.stream(),client:Q,request:S,socket:ei,contentLength:en,header:es,expectsPayload:$}):writeBlob({body:R,client:Q,request:S,socket:ei,contentLength:en,header:es,expectsPayload:$}):Y.isStream(R)?writeStream({body:R,client:Q,request:S,socket:ei,contentLength:en,header:es,expectsPayload:$}):Y.isIterable(R)?writeIterable({body:R,client:Q,request:S,socket:ei,contentLength:en,header:es,expectsPayload:$}):M(!1):(0===en?ei.write(`${es}content-length: 0\r
\r
`,"latin1"):(M(null===en,"no body must not have content length"),ei.write(`${es}\r
`,"latin1")),S.onRequestSent()),!0}function writeH2(Q,S,R){let N,L;let{body:U,method:P,path:W,host:X,upgrade:$,expectContinue:ee,signal:en,headers:ei}=R;if(N="string"==typeof ei?K[e6](ei.trim()):ei,$)return errorRequest(Q,R,Error("Upgrade not supported for H2")),!1;try{R.onConnect(S=>{R.aborted||R.completed||errorRequest(Q,R,S||new et)})}catch(S){errorRequest(Q,R,S)}if(R.aborted)return!1;let es=Q[e8];if(N[te]=X||Q[e9],N[tt]=P,"CONNECT"===P)return S.ref(),(L=S.request(N,{endStream:!1,signal:en})).id&&!L.pending?(R.onUpgrade(null,null,L),++es.openStreams):L.once("ready",()=>{R.onUpgrade(null,null,L),++es.openStreams}),L.once("close",()=>{es.openStreams-=1,0===es.openStreams&&S.unref()}),!0;N[tr]=W,N[ti]="https";let ea="PUT"===P||"POST"===P||"PATCH"===P;U&&"function"==typeof U.read&&U.read(0);let eA=Y.bodyLength(U);if(null==eA&&(eA=R.contentLength),0!==eA&&ea||(eA=null),shouldSendContentLength(P)&&eA>0&&null!=R.contentLength&&R.contentLength!==eA){if(Q[eJ])return errorRequest(Q,R,new Z),!1;process.emitWarning(new Z)}null!=eA&&(M(U,"no body must not have content length"),N[ts]=`${eA}`),S.ref();let ec="GET"===P||"HEAD"===P;return ee?(N[ta]="100-continue",(L=S.request(N,{endStream:ec,signal:en})).once("continue",writeBodyH2)):(L=S.request(N,{endStream:ec,signal:en}),writeBodyH2()),++es.openStreams,L.once("response",Q=>{let{[tA]:S,...N}=Q;!1===R.onHeaders(Number(S),N,L.resume.bind(L),"")&&L.pause()}),L.once("end",()=>{R.onComplete([])}),L.on("data",Q=>{!1===R.onData(Q)&&L.pause()}),L.once("close",()=>{es.openStreams-=1,0===es.openStreams&&S.unref()}),L.once("error",function(S){!Q[e3]||Q[e3].destroyed||this.closed||this.destroyed||(es.streams-=1,Y.destroy(L,S))}),L.once("frameError",(S,N)=>{let M=new eo(`HTTP/2: "frameError" received - type ${S}, code ${N}`);errorRequest(Q,R,M),!Q[e3]||Q[e3].destroyed||this.closed||this.destroyed||(es.streams-=1,Y.destroy(L,M))}),!0;function writeBodyH2(){U?Y.isBuffer(U)?(M(eA===U.byteLength,"buffer body must have content length"),L.cork(),L.write(U),L.uncork(),L.end(),R.onBodySent(U),R.onRequestSent()):Y.isBlobLike(U)?"function"==typeof U.stream?writeIterable({client:Q,request:R,contentLength:eA,h2stream:L,expectsPayload:ea,body:U.stream(),socket:Q[eU],header:""}):writeBlob({body:U,client:Q,request:R,contentLength:eA,expectsPayload:ea,h2stream:L,header:"",socket:Q[eU]}):Y.isStream(U)?writeStream({body:U,client:Q,request:R,contentLength:eA,expectsPayload:ea,socket:Q[eU],h2stream:L,header:""}):Y.isIterable(U)?writeIterable({body:U,client:Q,request:R,contentLength:eA,expectsPayload:ea,header:"",h2stream:L,socket:Q[eU]}):M(!1):R.onRequestSent()}}function writeStream({h2stream:Q,body:S,client:R,request:N,socket:L,contentLength:U,header:W,expectsPayload:K}){if(M(0!==U||0===R[ey],"stream body cannot be pipelined"),"h2"===R[e4]){let R=P(S,Q,R=>{R?(Y.destroy(S,R),Y.destroy(Q,R)):N.onRequestSent()});function onPipeData(Q){N.onBodySent(Q)}R.on("data",onPipeData),R.once("end",()=>{R.removeListener("data",onPipeData),Y.destroy(R)});return}let X=!1,Z=new AsyncWriter({socket:L,request:N,contentLength:U,client:R,expectsPayload:K,header:W}),onData=function(Q){if(!X)try{!Z.write(Q)&&this.pause&&this.pause()}catch(Q){Y.destroy(this,Q)}},onDrain=function(){!X&&S.resume&&S.resume()},onAbort=function(){if(X)return;let Q=new et;queueMicrotask(()=>onFinished(Q))},onFinished=function(Q){if(!X){if(X=!0,M(L.destroyed||L[eb]&&R[ey]<=1),L.off("drain",onDrain).off("error",onFinished),S.removeListener("data",onData).removeListener("end",onFinished).removeListener("error",onFinished).removeListener("close",onAbort),!Q)try{Z.end()}catch(S){Q=S}Z.destroy(Q),Q&&("UND_ERR_INFO"!==Q.code||"reset"!==Q.message)?Y.destroy(S,Q):Y.destroy(S)}};S.on("data",onData).on("end",onFinished).on("error",onFinished).on("close",onAbort),S.resume&&S.resume(),L.on("drain",onDrain).on("error",onFinished)}async function writeBlob({h2stream:Q,body:S,client:R,request:N,socket:L,contentLength:U,header:P,expectsPayload:W}){M(U===S.size,"blob body must have content length");let K="h2"===R[e4];try{if(null!=U&&U!==S.size)throw new Z;let M=Buffer.from(await S.arrayBuffer());K?(Q.cork(),Q.write(M),Q.uncork()):(L.cork(),L.write(`${P}content-length: ${U}\r
\r
`,"latin1"),L.write(M),L.uncork()),N.onBodySent(M),N.onRequestSent(),W||(L[eg]=!0),resume(R)}catch(S){Y.destroy(K?Q:L,S)}}async function writeIterable({h2stream:Q,body:S,client:R,request:N,socket:L,contentLength:U,header:P,expectsPayload:Y}){M(0!==U||0===R[ey],"iterator body cannot be pipelined");let W=null;function onDrain(){if(W){let Q=W;W=null,Q()}}let waitForDrain=()=>new Promise((Q,S)=>{M(null===W),L[ex]?S(L[ex]):W=Q});if("h2"===R[e4]){Q.on("close",onDrain).on("drain",onDrain);try{for await(let R of S){if(L[ex])throw L[ex];let S=Q.write(R);N.onBodySent(R),S||await waitForDrain()}}catch(S){Q.destroy(S)}finally{N.onRequestSent(),Q.end(),Q.off("close",onDrain).off("drain",onDrain)}return}L.on("close",onDrain).on("drain",onDrain);let K=new AsyncWriter({socket:L,request:N,contentLength:U,client:R,expectsPayload:Y,header:P});try{for await(let Q of S){if(L[ex])throw L[ex];K.write(Q)||await waitForDrain()}K.end()}catch(Q){K.destroy(Q)}finally{L.off("close",onDrain).off("drain",onDrain)}}let AsyncWriter=class AsyncWriter{constructor({socket:Q,request:S,contentLength:R,client:N,expectsPayload:M,header:L}){this.socket=Q,this.request=S,this.contentLength=R,this.client=N,this.bytesWritten=0,this.expectsPayload=M,this.header=L,Q[eb]=!0}write(Q){let{socket:S,request:R,contentLength:N,client:M,bytesWritten:L,expectsPayload:U,header:P}=this;if(S[ex])throw S[ex];if(S.destroyed)return!1;let Y=Buffer.byteLength(Q);if(!Y)return!0;if(null!==N&&L+Y>N){if(M[eJ])throw new Z;process.emitWarning(new Z)}S.cork(),0===L&&(U||(S[eg]=!0),null===N?S.write(`${P}transfer-encoding: chunked\r
`,"latin1"):S.write(`${P}content-length: ${N}\r
\r
`,"latin1")),null===N&&S.write(`\r
${Y.toString(16)}\r
`,"latin1"),this.bytesWritten+=Y;let W=S.write(Q);return S.uncork(),R.onBodySent(Q),!W&&S[em].timeout&&S[em].timeoutType===ty&&S[em].timeout.refresh&&S[em].timeout.refresh(),W}end(){let{socket:Q,contentLength:S,client:R,bytesWritten:N,expectsPayload:M,header:L,request:U}=this;if(U.onRequestSent(),Q[eb]=!1,Q[ex])throw Q[ex];if(!Q.destroyed){if(0===N?M?Q.write(`${L}content-length: 0\r
\r
`,"latin1"):Q.write(`${L}\r
`,"latin1"):null===S&&Q.write("\r\n0\r\n\r\n","latin1"),null!==S&&N!==S){if(R[eJ])throw new Z;process.emitWarning(new Z)}Q[em].timeout&&Q[em].timeoutType===ty&&Q[em].timeout.refresh&&Q[em].timeout.refresh(),resume(R)}}destroy(Q){let{socket:S,client:R}=this;S[eb]=!1,Q&&(M(R[ey]<=1,"pipeline should only contain this request"),Y.destroy(S,Q))}};function errorRequest(Q,S,R){try{S.onError(R),M(S.aborted)}catch(S){Q.emit("error",S)}}Q.exports=Client},58845:(Q,S,R)=>{"use strict";let{kConnected:N,kSize:M}=R(43294);let CompatWeakRef=class CompatWeakRef{constructor(Q){this.value=Q}deref(){return 0===this.value[N]&&0===this.value[M]?void 0:this.value}};let CompatFinalizer=class CompatFinalizer{constructor(Q){this.finalizer=Q}register(Q,S){Q.on&&Q.on("disconnect",()=>{0===Q[N]&&0===Q[M]&&this.finalizer(S)})}};Q.exports=function(){return process.env.NODE_V8_COVERAGE?{WeakRef:CompatWeakRef,FinalizationRegistry:CompatFinalizer}:{WeakRef:global.WeakRef||CompatWeakRef,FinalizationRegistry:global.FinalizationRegistry||CompatFinalizer}}},81485:Q=>{"use strict";let S=1024,R=4096;Q.exports={maxAttributeValueSize:S,maxNameValuePairSize:R}},41766:(Q,S,R)=>{"use strict";let{parseSetCookie:N}=R(68914),{stringify:M,getHeadersList:L}=R(35642),{webidl:U}=R(52277),{Headers:P}=R(58380);function getCookies(Q){U.argumentLengthCheck(arguments,1,{header:"getCookies"}),U.brandCheck(Q,P,{strict:!1});let S=Q.get("cookie"),R={};if(!S)return R;for(let Q of S.split(";")){let[S,...N]=Q.split("=");R[S.trim()]=N.join("=")}return R}function deleteCookie(Q,S,R){U.argumentLengthCheck(arguments,2,{header:"deleteCookie"}),U.brandCheck(Q,P,{strict:!1}),S=U.converters.DOMString(S),R=U.converters.DeleteCookieAttributes(R),setCookie(Q,{name:S,value:"",expires:new Date(0),...R})}function getSetCookies(Q){U.argumentLengthCheck(arguments,1,{header:"getSetCookies"}),U.brandCheck(Q,P,{strict:!1});let S=L(Q).cookies;return S?S.map(Q=>N(Array.isArray(Q)?Q[1]:Q)):[]}function setCookie(Q,S){U.argumentLengthCheck(arguments,2,{header:"setCookie"}),U.brandCheck(Q,P,{strict:!1}),S=U.converters.Cookie(S);let R=M(S);R&&Q.append("Set-Cookie",M(S))}U.converters.DeleteCookieAttributes=U.dictionaryConverter([{converter:U.nullableConverter(U.converters.DOMString),key:"path",defaultValue:null},{converter:U.nullableConverter(U.converters.DOMString),key:"domain",defaultValue:null}]),U.converters.Cookie=U.dictionaryConverter([{converter:U.converters.DOMString,key:"name"},{converter:U.converters.DOMString,key:"value"},{converter:U.nullableConverter(Q=>"number"==typeof Q?U.converters["unsigned long long"](Q):new Date(Q)),key:"expires",defaultValue:null},{converter:U.nullableConverter(U.converters["long long"]),key:"maxAge",defaultValue:null},{converter:U.nullableConverter(U.converters.DOMString),key:"domain",defaultValue:null},{converter:U.nullableConverter(U.converters.DOMString),key:"path",defaultValue:null},{converter:U.nullableConverter(U.converters.boolean),key:"secure",defaultValue:null},{converter:U.nullableConverter(U.converters.boolean),key:"httpOnly",defaultValue:null},{converter:U.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:U.sequenceConverter(U.converters.DOMString),key:"unparsed",defaultValue:[]}]),Q.exports={getCookies,deleteCookie,getSetCookies,setCookie}},68914:(Q,S,R)=>{"use strict";let{maxNameValuePairSize:N,maxAttributeValueSize:M}=R(81485),{isCTLExcludingHtab:L}=R(35642),{collectASequenceOfCodePointsFast:U}=R(13296),P=R(39491);function parseSetCookie(Q){if(L(Q))return null;let S="",R="",M="",P="";if(Q.includes(";")){let N={position:0};S=U(";",Q,N),R=Q.slice(N.position)}else S=Q;if(S.includes("=")){let Q={position:0};M=U("=",S,Q),P=S.slice(Q.position+1)}else P=S;return(M=M.trim(),P=P.trim(),M.length+P.length>N)?null:{name:M,value:P,...parseUnparsedAttributes(R)}}function parseUnparsedAttributes(Q,S={}){if(0===Q.length)return S;P(";"===Q[0]);let R="";(Q=Q.slice(1)).includes(";")?(R=U(";",Q,{position:0}),Q=Q.slice(R.length)):(R=Q,Q="");let N="",L="";if(R.includes("=")){let Q={position:0};N=U("=",R,Q),L=R.slice(Q.position+1)}else N=R;if(N=N.trim(),(L=L.trim()).length>M)return parseUnparsedAttributes(Q,S);let Y=N.toLowerCase();if("expires"===Y){let Q=new Date(L);S.expires=Q}else if("max-age"===Y){let R=L.charCodeAt(0);if((R<48||R>57)&&"-"!==L[0]||!/^\d+$/.test(L))return parseUnparsedAttributes(Q,S);let N=Number(L);S.maxAge=N}else if("domain"===Y){let Q=L;"."===Q[0]&&(Q=Q.slice(1)),Q=Q.toLowerCase(),S.domain=Q}else if("path"===Y){let Q="";Q=0===L.length||"/"!==L[0]?"/":L,S.path=Q}else if("secure"===Y)S.secure=!0;else if("httponly"===Y)S.httpOnly=!0;else if("samesite"===Y){let Q="Default",R=L.toLowerCase();R.includes("none")&&(Q="None"),R.includes("strict")&&(Q="Strict"),R.includes("lax")&&(Q="Lax"),S.sameSite=Q}else S.unparsed??=[],S.unparsed.push(`${N}=${L}`);return parseUnparsedAttributes(Q,S)}Q.exports={parseSetCookie,parseUnparsedAttributes}},35642:(Q,S,R)=>{"use strict";let N;let M=R(39491),{kHeadersList:L}=R(43294);function isCTLExcludingHtab(Q){if(0===Q.length)return!1;for(let S of Q){let Q=S.charCodeAt(0);if(Q>=0||Q<=8||Q>=10||Q<=31||127===Q)return!1}}function validateCookieName(Q){for(let S of Q){let Q=S.charCodeAt(0);if(Q<=32||Q>127||"("===S||")"===S||">"===S||"<"===S||"@"===S||","===S||";"===S||":"===S||"\\"===S||'"'===S||"/"===S||"["===S||"]"===S||"?"===S||"="===S||"{"===S||"}"===S)throw Error("Invalid cookie name")}}function validateCookieValue(Q){for(let S of Q){let Q=S.charCodeAt(0);if(Q<33||34===Q||44===Q||59===Q||92===Q||Q>126)throw Error("Invalid header value")}}function validateCookiePath(Q){for(let S of Q){let Q=S.charCodeAt(0);if(Q<33||";"===S)throw Error("Invalid cookie path")}}function validateCookieDomain(Q){if(Q.startsWith("-")||Q.endsWith(".")||Q.endsWith("-"))throw Error("Invalid cookie domain")}function toIMFDate(Q){"number"==typeof Q&&(Q=new Date(Q));let S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=S[Q.getUTCDay()],M=Q.getUTCDate().toString().padStart(2,"0"),L=R[Q.getUTCMonth()],U=Q.getUTCFullYear(),P=Q.getUTCHours().toString().padStart(2,"0"),Y=Q.getUTCMinutes().toString().padStart(2,"0"),W=Q.getUTCSeconds().toString().padStart(2,"0");return`${N}, ${M} ${L} ${U} ${P}:${Y}:${W} GMT`}function validateCookieMaxAge(Q){if(Q<0)throw Error("Invalid cookie max-age")}function stringify(Q){if(0===Q.name.length)return null;validateCookieName(Q.name),validateCookieValue(Q.value);let S=[`${Q.name}=${Q.value}`];for(let R of(Q.name.startsWith("__Secure-")&&(Q.secure=!0),Q.name.startsWith("__Host-")&&(Q.secure=!0,Q.domain=null,Q.path="/"),Q.secure&&S.push("Secure"),Q.httpOnly&&S.push("HttpOnly"),"number"==typeof Q.maxAge&&(validateCookieMaxAge(Q.maxAge),S.push(`Max-Age=${Q.maxAge}`)),Q.domain&&(validateCookieDomain(Q.domain),S.push(`Domain=${Q.domain}`)),Q.path&&(validateCookiePath(Q.path),S.push(`Path=${Q.path}`)),Q.expires&&"Invalid Date"!==Q.expires.toString()&&S.push(`Expires=${toIMFDate(Q.expires)}`),Q.sameSite&&S.push(`SameSite=${Q.sameSite}`),Q.unparsed)){if(!R.includes("="))throw Error("Invalid unparsed");let[Q,...N]=R.split("=");S.push(`${Q.trim()}=${N.join("=")}`)}return S.join("; ")}function getHeadersList(Q){if(Q[L])return Q[L];N||M(N=Object.getOwnPropertySymbols(Q).find(Q=>"headers list"===Q.description),"Headers cannot be parsed");let S=Q[N];return M(S),S}Q.exports={isCTLExcludingHtab,stringify,getHeadersList}},55536:(Q,S,R)=>{"use strict";let N,M;let L=R(41808),U=R(39491),P=R(42964),{InvalidArgumentError:Y,ConnectTimeoutError:W}=R(27491);function buildConnector({allowH2:Q,maxCachedSessions:S,socketPath:W,timeout:K,...X}){if(null!=S&&(!Number.isInteger(S)||S<0))throw new Y("maxCachedSessions must be a positive integer or zero");let Z={path:W,...X},$=new M(null==S?100:S);return K=null==K?1e4:K,Q=null!=Q&&Q,function({hostname:S,host:M,protocol:Y,port:W,servername:X,localAddress:ee,httpSocket:et},en){let ei;if("https:"===Y){N||(N=R(24404)),X=X||Z.servername||P.getServerName(M)||null;let L=X||S,Y=$.get(L)||null;U(L),(ei=N.connect({highWaterMark:16384,...Z,servername:X,session:Y,localAddress:ee,ALPNProtocols:Q?["http/1.1","h2"]:["http/1.1"],socket:et,port:W||443,host:S})).on("session",function(Q){$.set(L,Q)})}else U(!et,"httpSocket can only be sent on TLS update"),ei=L.connect({highWaterMark:65536,...Z,localAddress:ee,port:W||80,host:S});if(null==Z.keepAlive||Z.keepAlive){let Q=void 0===Z.keepAliveInitialDelay?6e4:Z.keepAliveInitialDelay;ei.setKeepAlive(!0,Q)}let es=setupTimeout(()=>onConnectTimeout(ei),K);return ei.setNoDelay(!0).once("https:"===Y?"secureConnect":"connect",function(){if(es(),en){let Q=en;en=null,Q(null,this)}}).on("error",function(Q){if(es(),en){let S=en;en=null,S(Q)}}),ei}}function setupTimeout(Q,S){if(!S)return()=>{};let R=null,N=null,M=setTimeout(()=>{R=setImmediate(()=>{"win32"===process.platform?N=setImmediate(()=>Q()):Q()})},S);return()=>{clearTimeout(M),clearImmediate(R),clearImmediate(N)}}function onConnectTimeout(Q){P.destroy(Q,new W)}M=global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE?class{constructor(Q){this._maxCachedSessions=Q,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(Q=>{if(this._sessionCache.size<this._maxCachedSessions)return;let S=this._sessionCache.get(Q);void 0!==S&&void 0===S.deref()&&this._sessionCache.delete(Q)})}get(Q){let S=this._sessionCache.get(Q);return S?S.deref():null}set(Q,S){0!==this._maxCachedSessions&&(this._sessionCache.set(Q,new WeakRef(S)),this._sessionRegistry.register(S,Q))}}:class{constructor(Q){this._maxCachedSessions=Q,this._sessionCache=new Map}get(Q){return this._sessionCache.get(Q)}set(Q,S){if(0!==this._maxCachedSessions){if(this._sessionCache.size>=this._maxCachedSessions){let{value:Q}=this._sessionCache.keys().next();this._sessionCache.delete(Q)}this._sessionCache.set(Q,S)}}},Q.exports=buildConnector},75848:Q=>{"use strict";let S={},R=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let Q=0;Q<R.length;++Q){let N=R[Q],M=N.toLowerCase();S[N]=S[M]=M}Object.setPrototypeOf(S,null),Q.exports={wellknownHeaderNames:R,headerNameLowerCasedRecord:S}},27491:Q=>{"use strict";let UndiciError=class UndiciError extends Error{constructor(Q){super(Q),this.name="UndiciError",this.code="UND_ERR"}};let ConnectTimeoutError=class ConnectTimeoutError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,ConnectTimeoutError),this.name="ConnectTimeoutError",this.message=Q||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}};let HeadersTimeoutError=class HeadersTimeoutError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,HeadersTimeoutError),this.name="HeadersTimeoutError",this.message=Q||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}};let HeadersOverflowError=class HeadersOverflowError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,HeadersOverflowError),this.name="HeadersOverflowError",this.message=Q||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}};let BodyTimeoutError=class BodyTimeoutError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,BodyTimeoutError),this.name="BodyTimeoutError",this.message=Q||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}};let ResponseStatusCodeError=class ResponseStatusCodeError extends UndiciError{constructor(Q,S,R,N){super(Q),Error.captureStackTrace(this,ResponseStatusCodeError),this.name="ResponseStatusCodeError",this.message=Q||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=N,this.status=S,this.statusCode=S,this.headers=R}};let InvalidArgumentError=class InvalidArgumentError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,InvalidArgumentError),this.name="InvalidArgumentError",this.message=Q||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}};let InvalidReturnValueError=class InvalidReturnValueError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,InvalidReturnValueError),this.name="InvalidReturnValueError",this.message=Q||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}};let RequestAbortedError=class RequestAbortedError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,RequestAbortedError),this.name="AbortError",this.message=Q||"Request aborted",this.code="UND_ERR_ABORTED"}};let InformationalError=class InformationalError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,InformationalError),this.name="InformationalError",this.message=Q||"Request information",this.code="UND_ERR_INFO"}};let RequestContentLengthMismatchError=class RequestContentLengthMismatchError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,RequestContentLengthMismatchError),this.name="RequestContentLengthMismatchError",this.message=Q||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}};let ResponseContentLengthMismatchError=class ResponseContentLengthMismatchError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,ResponseContentLengthMismatchError),this.name="ResponseContentLengthMismatchError",this.message=Q||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}};let ClientDestroyedError=class ClientDestroyedError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,ClientDestroyedError),this.name="ClientDestroyedError",this.message=Q||"The client is destroyed",this.code="UND_ERR_DESTROYED"}};let ClientClosedError=class ClientClosedError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,ClientClosedError),this.name="ClientClosedError",this.message=Q||"The client is closed",this.code="UND_ERR_CLOSED"}};let SocketError=class SocketError extends UndiciError{constructor(Q,S){super(Q),Error.captureStackTrace(this,SocketError),this.name="SocketError",this.message=Q||"Socket error",this.code="UND_ERR_SOCKET",this.socket=S}};let NotSupportedError=class NotSupportedError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,NotSupportedError),this.name="NotSupportedError",this.message=Q||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}};let BalancedPoolMissingUpstreamError=class BalancedPoolMissingUpstreamError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,NotSupportedError),this.name="MissingUpstreamError",this.message=Q||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}};let HTTPParserError=class HTTPParserError extends Error{constructor(Q,S,R){super(Q),Error.captureStackTrace(this,HTTPParserError),this.name="HTTPParserError",this.code=S?`HPE_${S}`:void 0,this.data=R?R.toString():void 0}};let ResponseExceededMaxSizeError=class ResponseExceededMaxSizeError extends UndiciError{constructor(Q){super(Q),Error.captureStackTrace(this,ResponseExceededMaxSizeError),this.name="ResponseExceededMaxSizeError",this.message=Q||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}};let RequestRetryError=class RequestRetryError extends UndiciError{constructor(Q,S,{headers:R,data:N}){super(Q),Error.captureStackTrace(this,RequestRetryError),this.name="RequestRetryError",this.message=Q||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=S,this.data=N,this.headers=R}};Q.exports={HTTPParserError,UndiciError,HeadersTimeoutError,HeadersOverflowError,BodyTimeoutError,RequestContentLengthMismatchError,ConnectTimeoutError,ResponseStatusCodeError,InvalidArgumentError,InvalidReturnValueError,RequestAbortedError,ClientDestroyedError,ClientClosedError,InformationalError,SocketError,NotSupportedError,ResponseContentLengthMismatchError,BalancedPoolMissingUpstreamError,ResponseExceededMaxSizeError,RequestRetryError}},74132:(Q,S,R)=>{"use strict";let N;let{InvalidArgumentError:M,NotSupportedError:L}=R(27491),U=R(39491),{kHTTP2BuildRequest:P,kHTTP2CopyHeaders:Y,kHTTP1BuildRequest:W}=R(43294),K=R(42964),X=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/,Z=/[^\t\x20-\x7e\x80-\xff]/,$=/[^\u0021-\u00ff]/,ee=Symbol("handler"),et={};try{let Q=R(67643);et.create=Q.channel("undici:request:create"),et.bodySent=Q.channel("undici:request:bodySent"),et.headers=Q.channel("undici:request:headers"),et.trailers=Q.channel("undici:request:trailers"),et.error=Q.channel("undici:request:error")}catch{et.create={hasSubscribers:!1},et.bodySent={hasSubscribers:!1},et.headers={hasSubscribers:!1},et.trailers={hasSubscribers:!1},et.error={hasSubscribers:!1}}let Request=class Request{constructor(Q,{path:S,method:L,body:U,headers:P,query:Y,idempotent:W,blocking:Z,upgrade:en,headersTimeout:ei,bodyTimeout:es,reset:eo,throwOnError:ea,expectContinue:eA},ec){if("string"!=typeof S)throw new M("path must be a string");if("/"===S[0]||S.startsWith("http://")||S.startsWith("https://")||"CONNECT"===L){if(null!==$.exec(S))throw new M("invalid request path")}else throw new M("path must be an absolute URL or start with a slash");if("string"!=typeof L)throw new M("method must be a string");if(null===X.exec(L))throw new M("invalid request method");if(en&&"string"!=typeof en)throw new M("upgrade must be a string");if(null!=ei&&(!Number.isFinite(ei)||ei<0))throw new M("invalid headersTimeout");if(null!=es&&(!Number.isFinite(es)||es<0))throw new M("invalid bodyTimeout");if(null!=eo&&"boolean"!=typeof eo)throw new M("invalid reset");if(null!=eA&&"boolean"!=typeof eA)throw new M("invalid expectContinue");if(this.headersTimeout=ei,this.bodyTimeout=es,this.throwOnError=!0===ea,this.method=L,this.abort=null,null==U)this.body=null;else if(K.isStream(U)){this.body=U;let Q=this.body._readableState;Q&&Q.autoDestroy||(this.endHandler=function(){K.destroy(this)},this.body.on("end",this.endHandler)),this.errorHandler=Q=>{this.abort?this.abort(Q):this.error=Q},this.body.on("error",this.errorHandler)}else if(K.isBuffer(U))this.body=U.byteLength?U:null;else if(ArrayBuffer.isView(U))this.body=U.buffer.byteLength?Buffer.from(U.buffer,U.byteOffset,U.byteLength):null;else if(U instanceof ArrayBuffer)this.body=U.byteLength?Buffer.from(U):null;else if("string"==typeof U)this.body=U.length?Buffer.from(U):null;else if(K.isFormDataLike(U)||K.isIterable(U)||K.isBlobLike(U))this.body=U;else throw new M("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=en||null,this.path=Y?K.buildURL(S,Y):S,this.origin=Q,this.idempotent=null==W?"HEAD"===L||"GET"===L:W,this.blocking=null!=Z&&Z,this.reset=null==eo?null:eo,this.host=null,this.contentLength=null,this.contentType=null,this.headers="",this.expectContinue=null!=eA&&eA,Array.isArray(P)){if(P.length%2!=0)throw new M("headers array must be even");for(let Q=0;Q<P.length;Q+=2)processHeader(this,P[Q],P[Q+1])}else if(P&&"object"==typeof P){let Q=Object.keys(P);for(let S=0;S<Q.length;S++){let R=Q[S];processHeader(this,R,P[R])}}else if(null!=P)throw new M("headers must be an object or an array");if(K.isFormDataLike(this.body)){if(K.nodeMajor<16||16===K.nodeMajor&&K.nodeMinor<8)throw new M("Form-Data bodies are only supported in node v16.8 and newer.");N||(N=R(36310).extractBody);let[Q,S]=N(U);null==this.contentType&&(this.contentType=S,this.headers+=`content-type: ${S}\r
`),this.body=Q.stream,this.contentLength=Q.length}else K.isBlobLike(U)&&null==this.contentType&&U.type&&(this.contentType=U.type,this.headers+=`content-type: ${U.type}\r
`);K.validateHandler(ec,L,en),this.servername=K.getServerName(this.host),this[ee]=ec,et.create.hasSubscribers&&et.create.publish({request:this})}onBodySent(Q){if(this[ee].onBodySent)try{return this[ee].onBodySent(Q)}catch(Q){this.abort(Q)}}onRequestSent(){if(et.bodySent.hasSubscribers&&et.bodySent.publish({request:this}),this[ee].onRequestSent)try{return this[ee].onRequestSent()}catch(Q){this.abort(Q)}}onConnect(Q){if(U(!this.aborted),U(!this.completed),!this.error)return this.abort=Q,this[ee].onConnect(Q);Q(this.error)}onHeaders(Q,S,R,N){U(!this.aborted),U(!this.completed),et.headers.hasSubscribers&&et.headers.publish({request:this,response:{statusCode:Q,headers:S,statusText:N}});try{return this[ee].onHeaders(Q,S,R,N)}catch(Q){this.abort(Q)}}onData(Q){U(!this.aborted),U(!this.completed);try{return this[ee].onData(Q)}catch(Q){return this.abort(Q),!1}}onUpgrade(Q,S,R){return U(!this.aborted),U(!this.completed),this[ee].onUpgrade(Q,S,R)}onComplete(Q){this.onFinally(),U(!this.aborted),this.completed=!0,et.trailers.hasSubscribers&&et.trailers.publish({request:this,trailers:Q});try{return this[ee].onComplete(Q)}catch(Q){this.onError(Q)}}onError(Q){if(this.onFinally(),et.error.hasSubscribers&&et.error.publish({request:this,error:Q}),!this.aborted)return this.aborted=!0,this[ee].onError(Q)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(Q,S){return processHeader(this,Q,S),this}static[W](Q,S,R){return new Request(Q,S,R)}static[P](Q,S,R){let N=S.headers;S={...S,headers:null};let L=new Request(Q,S,R);if(L.headers={},Array.isArray(N)){if(N.length%2!=0)throw new M("headers array must be even");for(let Q=0;Q<N.length;Q+=2)processHeader(L,N[Q],N[Q+1],!0)}else if(N&&"object"==typeof N){let Q=Object.keys(N);for(let S=0;S<Q.length;S++){let R=Q[S];processHeader(L,R,N[R],!0)}}else if(null!=N)throw new M("headers must be an object or an array");return L}static[Y](Q){let S=Q.split("\r\n"),R={};for(let Q of S){let[S,N]=Q.split(": ");null!=N&&0!==N.length&&(R[S]?R[S]+=`,${N}`:R[S]=N)}return R}};function processHeaderValue(Q,S,R){if(S&&"object"==typeof S||(S=null!=S?`${S}`:"",null!==Z.exec(S)))throw new M(`invalid ${Q} header`);return R?S:`${Q}: ${S}\r
`}function processHeader(Q,S,R,N=!1){if(R&&"object"==typeof R&&!Array.isArray(R))throw new M(`invalid ${S} header`);if(void 0!==R){if(null===Q.host&&4===S.length&&"host"===S.toLowerCase()){if(null!==Z.exec(R))throw new M(`invalid ${S} header`);Q.host=R}else if(null===Q.contentLength&&14===S.length&&"content-length"===S.toLowerCase()){if(Q.contentLength=parseInt(R,10),!Number.isFinite(Q.contentLength))throw new M("invalid content-length header")}else if(null===Q.contentType&&12===S.length&&"content-type"===S.toLowerCase())Q.contentType=R,N?Q.headers[S]=processHeaderValue(S,R,N):Q.headers+=processHeaderValue(S,R);else if(17===S.length&&"transfer-encoding"===S.toLowerCase())throw new M("invalid transfer-encoding header");else if(10===S.length&&"connection"===S.toLowerCase()){let S="string"==typeof R?R.toLowerCase():null;if("close"!==S&&"keep-alive"!==S)throw new M("invalid connection header");"close"===S&&(Q.reset=!0)}else if(10===S.length&&"keep-alive"===S.toLowerCase())throw new M("invalid keep-alive header");else if(7===S.length&&"upgrade"===S.toLowerCase())throw new M("invalid upgrade header");else if(6===S.length&&"expect"===S.toLowerCase())throw new L("expect header not supported");else if(null===X.exec(S))throw new M("invalid header key");else if(Array.isArray(R))for(let M=0;M<R.length;M++)N?Q.headers[S]?Q.headers[S]+=`,${processHeaderValue(S,R[M],N)}`:Q.headers[S]=processHeaderValue(S,R[M],N):Q.headers+=processHeaderValue(S,R[M]);else N?Q.headers[S]=processHeaderValue(S,R,N):Q.headers+=processHeaderValue(S,R)}}Q.exports=Request},43294:Q=>{Q.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable")}},42964:(Q,S,R)=>{"use strict";let N;let M=R(39491),{kDestroyed:L,kBodyUsed:U}=R(43294),{IncomingMessage:P}=R(13685),Y=R(12781),W=R(41808),{InvalidArgumentError:K}=R(27491),{Blob:X}=R(14300),Z=R(73837),{stringify:$}=R(63477),{headerNameLowerCasedRecord:ee}=R(75848),[et,en]=process.versions.node.split(".").map(Q=>Number(Q));function nop(){}function isStream(Q){return Q&&"object"==typeof Q&&"function"==typeof Q.pipe&&"function"==typeof Q.on}function isBlobLike(Q){return X&&Q instanceof X||Q&&"object"==typeof Q&&("function"==typeof Q.stream||"function"==typeof Q.arrayBuffer)&&/^(Blob|File)$/.test(Q[Symbol.toStringTag])}function buildURL(Q,S){if(Q.includes("?")||Q.includes("#"))throw Error('Query params cannot be passed when url already contains "?" or "#".');let R=$(S);return R&&(Q+="?"+R),Q}function parseURL(Q){if("string"==typeof Q){if(Q=new URL(Q),!/^https?:/.test(Q.origin||Q.protocol))throw new K("Invalid URL protocol: the URL must start with `http:` or `https:`.");return Q}if(!Q||"object"!=typeof Q)throw new K("Invalid URL: The URL argument must be a non-null object.");if(!/^https?:/.test(Q.origin||Q.protocol))throw new K("Invalid URL protocol: the URL must start with `http:` or `https:`.");if(!(Q instanceof URL)){if(null!=Q.port&&""!==Q.port&&!Number.isFinite(parseInt(Q.port)))throw new K("Invalid URL: port must be a valid integer or a string representation of an integer.");if(null!=Q.path&&"string"!=typeof Q.path)throw new K("Invalid URL path: the path must be a string or null/undefined.");if(null!=Q.pathname&&"string"!=typeof Q.pathname)throw new K("Invalid URL pathname: the pathname must be a string or null/undefined.");if(null!=Q.hostname&&"string"!=typeof Q.hostname)throw new K("Invalid URL hostname: the hostname must be a string or null/undefined.");if(null!=Q.origin&&"string"!=typeof Q.origin)throw new K("Invalid URL origin: the origin must be a string or null/undefined.");let S=null!=Q.port?Q.port:"https:"===Q.protocol?443:80,R=null!=Q.origin?Q.origin:`${Q.protocol}//${Q.hostname}:${S}`,N=null!=Q.path?Q.path:`${Q.pathname||""}${Q.search||""}`;R.endsWith("/")&&(R=R.substring(0,R.length-1)),N&&!N.startsWith("/")&&(N=`/${N}`),Q=new URL(R+N)}return Q}function parseOrigin(Q){if("/"!==(Q=parseURL(Q)).pathname||Q.search||Q.hash)throw new K("invalid url");return Q}function getHostname(Q){if("["===Q[0]){let S=Q.indexOf("]");return M(-1!==S),Q.substring(1,S)}let S=Q.indexOf(":");return -1===S?Q:Q.substring(0,S)}function getServerName(Q){if(!Q)return null;M.strictEqual(typeof Q,"string");let S=getHostname(Q);return W.isIP(S)?"":S}function deepClone(Q){return JSON.parse(JSON.stringify(Q))}function isAsyncIterable(Q){return!!(null!=Q&&"function"==typeof Q[Symbol.asyncIterator])}function isIterable(Q){return!!(null!=Q&&("function"==typeof Q[Symbol.iterator]||"function"==typeof Q[Symbol.asyncIterator]))}function bodyLength(Q){if(null==Q)return 0;if(isStream(Q)){let S=Q._readableState;return S&&!1===S.objectMode&&!0===S.ended&&Number.isFinite(S.length)?S.length:null}return isBlobLike(Q)?null!=Q.size?Q.size:null:isBuffer(Q)?Q.byteLength:null}function isDestroyed(Q){return!Q||!!(Q.destroyed||Q[L])}function isReadableAborted(Q){let S=Q&&Q._readableState;return isDestroyed(Q)&&S&&!S.endEmitted}function destroy(Q,S){null==Q||!isStream(Q)||isDestroyed(Q)||("function"==typeof Q.destroy?(Object.getPrototypeOf(Q).constructor===P&&(Q.socket=null),Q.destroy(S)):S&&process.nextTick((Q,S)=>{Q.emit("error",S)},Q,S),!0===Q.destroyed||(Q[L]=!0))}let ei=/timeout=(\d+)/;function parseKeepAliveTimeout(Q){let S=Q.toString().match(ei);return S?1e3*parseInt(S[1],10):null}function headerNameToString(Q){return ee[Q]||Q.toLowerCase()}function parseHeaders(Q,S={}){if(!Array.isArray(Q))return Q;for(let R=0;R<Q.length;R+=2){let N=Q[R].toString().toLowerCase(),M=S[N];M?(Array.isArray(M)||(M=[M],S[N]=M),M.push(Q[R+1].toString("utf8"))):Array.isArray(Q[R+1])?S[N]=Q[R+1].map(Q=>Q.toString("utf8")):S[N]=Q[R+1].toString("utf8")}return"content-length"in S&&"content-disposition"in S&&(S["content-disposition"]=Buffer.from(S["content-disposition"]).toString("latin1")),S}function parseRawHeaders(Q){let S=[],R=!1,N=-1;for(let M=0;M<Q.length;M+=2){let L=Q[M+0].toString(),U=Q[M+1].toString("utf8");14===L.length&&("content-length"===L||"content-length"===L.toLowerCase())?(S.push(L,U),R=!0):19===L.length&&("content-disposition"===L||"content-disposition"===L.toLowerCase())?N=S.push(L,U)-1:S.push(L,U)}return R&&-1!==N&&(S[N]=Buffer.from(S[N]).toString("latin1")),S}function isBuffer(Q){return Q instanceof Uint8Array||Buffer.isBuffer(Q)}function validateHandler(Q,S,R){if(!Q||"object"!=typeof Q)throw new K("handler must be an object");if("function"!=typeof Q.onConnect)throw new K("invalid onConnect method");if("function"!=typeof Q.onError)throw new K("invalid onError method");if("function"!=typeof Q.onBodySent&&void 0!==Q.onBodySent)throw new K("invalid onBodySent method");if(R||"CONNECT"===S){if("function"!=typeof Q.onUpgrade)throw new K("invalid onUpgrade method")}else{if("function"!=typeof Q.onHeaders)throw new K("invalid onHeaders method");if("function"!=typeof Q.onData)throw new K("invalid onData method");if("function"!=typeof Q.onComplete)throw new K("invalid onComplete method")}}function isDisturbed(Q){return!!(Q&&(Y.isDisturbed?Y.isDisturbed(Q)||Q[U]:Q[U]||Q.readableDidRead||Q._readableState&&Q._readableState.dataEmitted||isReadableAborted(Q)))}function isErrored(Q){return!!(Q&&(Y.isErrored?Y.isErrored(Q):/state: 'errored'/.test(Z.inspect(Q))))}function isReadable(Q){return!!(Q&&(Y.isReadable?Y.isReadable(Q):/state: 'readable'/.test(Z.inspect(Q))))}function getSocketInfo(Q){return{localAddress:Q.localAddress,localPort:Q.localPort,remoteAddress:Q.remoteAddress,remotePort:Q.remotePort,remoteFamily:Q.remoteFamily,timeout:Q.timeout,bytesWritten:Q.bytesWritten,bytesRead:Q.bytesRead}}async function*convertIterableToBuffer(Q){for await(let S of Q)yield Buffer.isBuffer(S)?S:Buffer.from(S)}function ReadableStreamFrom(Q){let S;return(N||(N=R(35356).ReadableStream),N.from)?N.from(convertIterableToBuffer(Q)):new N({async start(){S=Q[Symbol.asyncIterator]()},async pull(Q){let{done:R,value:N}=await S.next();if(R)queueMicrotask(()=>{Q.close()});else{let S=Buffer.isBuffer(N)?N:Buffer.from(N);Q.enqueue(new Uint8Array(S))}return Q.desiredSize>0},async cancel(Q){await S.return()}},0)}function isFormDataLike(Q){return Q&&"object"==typeof Q&&"function"==typeof Q.append&&"function"==typeof Q.delete&&"function"==typeof Q.get&&"function"==typeof Q.getAll&&"function"==typeof Q.has&&"function"==typeof Q.set&&"FormData"===Q[Symbol.toStringTag]}function throwIfAborted(Q){if(Q){if("function"==typeof Q.throwIfAborted)Q.throwIfAborted();else if(Q.aborted){let Q=Error("The operation was aborted");throw Q.name="AbortError",Q}}}function addAbortListener(Q,S){return"addEventListener"in Q?(Q.addEventListener("abort",S,{once:!0}),()=>Q.removeEventListener("abort",S)):(Q.addListener("abort",S),()=>Q.removeListener("abort",S))}let es=!!String.prototype.toWellFormed;function toUSVString(Q){return es?`${Q}`.toWellFormed():Z.toUSVString?Z.toUSVString(Q):`${Q}`}function parseRangeHeader(Q){if(null==Q||""===Q)return{start:0,end:null,size:null};let S=Q?Q.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return S?{start:parseInt(S[1]),end:S[2]?parseInt(S[2]):null,size:S[3]?parseInt(S[3]):null}:null}let eo=Object.create(null);eo.enumerable=!0,Q.exports={kEnumerableProperty:eo,nop,isDisturbed,isErrored,isReadable,toUSVString,isReadableAborted,isBlobLike,parseOrigin,parseURL,getServerName,isStream,isIterable,isAsyncIterable,isDestroyed,headerNameToString,parseRawHeaders,parseHeaders,parseKeepAliveTimeout,destroy,bodyLength,deepClone,ReadableStreamFrom,isBuffer,validateHandler,getSocketInfo,isFormDataLike,buildURL,throwIfAborted,addAbortListener,parseRangeHeader,nodeMajor:et,nodeMinor:en,nodeHasAutoSelectFamily:et>18||18===et&&en>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]}},82216:(Q,S,R)=>{"use strict";let N=R(65977),{ClientDestroyedError:M,ClientClosedError:L,InvalidArgumentError:U}=R(27491),{kDestroy:P,kClose:Y,kDispatch:W,kInterceptors:K}=R(43294),X=Symbol("destroyed"),Z=Symbol("closed"),$=Symbol("onDestroyed"),ee=Symbol("onClosed"),et=Symbol("Intercepted Dispatch");let DispatcherBase=class DispatcherBase extends N{constructor(){super(),this[X]=!1,this[$]=null,this[Z]=!1,this[ee]=[]}get destroyed(){return this[X]}get closed(){return this[Z]}get interceptors(){return this[K]}set interceptors(Q){if(Q)for(let S=Q.length-1;S>=0;S--){let Q=this[K][S];if("function"!=typeof Q)throw new U("interceptor must be an function")}this[K]=Q}close(Q){if(void 0===Q)return new Promise((Q,S)=>{this.close((R,N)=>R?S(R):Q(N))});if("function"!=typeof Q)throw new U("invalid callback");if(this[X]){queueMicrotask(()=>Q(new M,null));return}if(this[Z]){this[ee]?this[ee].push(Q):queueMicrotask(()=>Q(null,null));return}this[Z]=!0,this[ee].push(Q);let onClosed=()=>{let Q=this[ee];this[ee]=null;for(let S=0;S<Q.length;S++)Q[S](null,null)};this[Y]().then(()=>this.destroy()).then(()=>{queueMicrotask(onClosed)})}destroy(Q,S){if("function"==typeof Q&&(S=Q,Q=null),void 0===S)return new Promise((S,R)=>{this.destroy(Q,(Q,N)=>Q?R(Q):S(N))});if("function"!=typeof S)throw new U("invalid callback");if(this[X]){this[$]?this[$].push(S):queueMicrotask(()=>S(null,null));return}Q||(Q=new M),this[X]=!0,this[$]=this[$]||[],this[$].push(S);let onDestroyed=()=>{let Q=this[$];this[$]=null;for(let S=0;S<Q.length;S++)Q[S](null,null)};this[P](Q).then(()=>{queueMicrotask(onDestroyed)})}[et](Q,S){if(!this[K]||0===this[K].length)return this[et]=this[W],this[W](Q,S);let R=this[W].bind(this);for(let Q=this[K].length-1;Q>=0;Q--)R=this[K][Q](R);return this[et]=R,R(Q,S)}dispatch(Q,S){if(!S||"object"!=typeof S)throw new U("handler must be an object");try{if(!Q||"object"!=typeof Q)throw new U("opts must be an object.");if(this[X]||this[$])throw new M;if(this[Z])throw new L;return this[et](Q,S)}catch(Q){if("function"!=typeof S.onError)throw new U("invalid onError method");return S.onError(Q),!1}}};Q.exports=DispatcherBase},65977:(Q,S,R)=>{"use strict";let N=R(82361);let Dispatcher=class Dispatcher extends N{dispatch(){throw Error("not implemented")}close(){throw Error("not implemented")}destroy(){throw Error("not implemented")}};Q.exports=Dispatcher},36310:(Q,S,R)=>{"use strict";let N=R(47299),M=R(42964),{ReadableStreamFrom:L,isBlobLike:U,isReadableStreamLike:P,readableStreamClose:Y,createDeferredPromise:W,fullyReadBody:K}=R(98504),{FormData:X}=R(93178),{kState:Z}=R(16119),{webidl:$}=R(52277),{DOMException:ee,structuredClone:et}=R(9499),{Blob:en,File:ei}=R(14300),{kBodyUsed:es}=R(43294),eo=R(39491),{isErrored:ea}=R(42964),{isUint8Array:eA,isArrayBuffer:ec}=R(29830),{File:eu}=R(68007),{parseMIMEType:eh,serializeAMimeType:ed}=R(13296),eg=globalThis.ReadableStream,ep=ei??eu,ef=new TextEncoder,eE=new TextDecoder;function extractBody(Q,S=!1){eg||(eg=R(35356).ReadableStream);let N=null;eo(P(N=Q instanceof eg?Q:U(Q)?Q.stream():new eg({async pull(Q){Q.enqueue("string"==typeof K?ef.encode(K):K),queueMicrotask(()=>Y(Q))},start(){},type:void 0})));let W=null,K=null,X=null,Z=null;if("string"==typeof Q)K=Q,Z="text/plain;charset=UTF-8";else if(Q instanceof URLSearchParams)K=Q.toString(),Z="application/x-www-form-urlencoded;charset=UTF-8";else if(ec(Q))K=new Uint8Array(Q.slice());else if(ArrayBuffer.isView(Q))K=new Uint8Array(Q.buffer.slice(Q.byteOffset,Q.byteOffset+Q.byteLength));else if(M.isFormDataLike(Q)){let S=`----formdata-undici-0${`${Math.floor(1e11*Math.random())}`.padStart(11,"0")}`,R=`--${S}\r
Content-Disposition: form-data`,escape=Q=>Q.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),normalizeLinefeeds=Q=>Q.replace(/\r?\n|\r/g,"\r\n"),N=[],M=new Uint8Array([13,10]);X=0;let L=!1;for(let[S,U]of Q)if("string"==typeof U){let Q=ef.encode(R+`; name="${escape(normalizeLinefeeds(S))}"`+`\r
\r
${normalizeLinefeeds(U)}\r
`);N.push(Q),X+=Q.byteLength}else{let Q=ef.encode(`${R}; name="${escape(normalizeLinefeeds(S))}"`+(U.name?`; filename="${escape(U.name)}"`:"")+"\r\n"+`Content-Type: ${U.type||"application/octet-stream"}\r
\r
`);N.push(Q,U,M),"number"==typeof U.size?X+=Q.byteLength+U.size+M.byteLength:L=!0}let U=ef.encode(`--${S}--`);N.push(U),X+=U.byteLength,L&&(X=null),K=Q,W=async function*(){for(let Q of N)Q.stream?yield*Q.stream():yield Q},Z="multipart/form-data; boundary="+S}else if(U(Q))K=Q,X=Q.size,Q.type&&(Z=Q.type);else if("function"==typeof Q[Symbol.asyncIterator]){if(S)throw TypeError("keepalive");if(M.isDisturbed(Q)||Q.locked)throw TypeError("Response body object should not be disturbed or locked");N=Q instanceof eg?Q:L(Q)}if(("string"==typeof K||M.isBuffer(K))&&(X=Buffer.byteLength(K)),null!=W){let S;N=new eg({async start(){S=W(Q)[Symbol.asyncIterator]()},async pull(Q){let{value:R,done:M}=await S.next();return M?queueMicrotask(()=>{Q.close()}):ea(N)||Q.enqueue(new Uint8Array(R)),Q.desiredSize>0},async cancel(Q){await S.return()},type:void 0})}let $={stream:N,source:K,length:X};return[$,Z]}function safelyExtractBody(Q,S=!1){return eg||(eg=R(35356).ReadableStream),Q instanceof eg&&(eo(!M.isDisturbed(Q),"The body has already been consumed."),eo(!Q.locked,"The stream is locked.")),extractBody(Q,S)}function cloneBody(Q){let[S,R]=Q.stream.tee(),N=et(R,{transfer:[R]}),[,M]=N.tee();return Q.stream=S,{stream:M,length:Q.length,source:Q.source}}async function*consumeBody(Q){if(Q){if(eA(Q))yield Q;else{let S=Q.stream;if(M.isDisturbed(S))throw TypeError("The body has already been consumed.");if(S.locked)throw TypeError("The stream is locked.");S[es]=!0,yield*S}}}function throwIfAborted(Q){if(Q.aborted)throw new ee("The operation was aborted.","AbortError")}function bodyMixinMethods(Q){let S={blob(){return specConsumeBody(this,Q=>{let S=bodyMimeType(this);return"failure"===S?S="":S&&(S=ed(S)),new en([Q],{type:S})},Q)},arrayBuffer(){return specConsumeBody(this,Q=>new Uint8Array(Q).buffer,Q)},text(){return specConsumeBody(this,utf8DecodeBytes,Q)},json(){return specConsumeBody(this,parseJSONFromBytes,Q)},async formData(){$.brandCheck(this,Q),throwIfAborted(this[Z]);let S=this.headers.get("Content-Type");if(/multipart\/form-data/.test(S)){let Q;let S={};for(let[Q,R]of this.headers)S[Q.toLowerCase()]=R;let R=new X;try{Q=new N({headers:S,preservePath:!0})}catch(Q){throw new ee(`${Q}`,"AbortError")}Q.on("field",(Q,S)=>{R.append(Q,S)}),Q.on("file",(Q,S,N,M,L)=>{let U=[];if("base64"===M||"base64"===M.toLowerCase()){let M="";S.on("data",Q=>{M+=Q.toString().replace(/[\r\n]/gm,"");let S=M.length-M.length%4;U.push(Buffer.from(M.slice(0,S),"base64")),M=M.slice(S)}),S.on("end",()=>{U.push(Buffer.from(M,"base64")),R.append(Q,new ep(U,N,{type:L}))})}else S.on("data",Q=>{U.push(Q)}),S.on("end",()=>{R.append(Q,new ep(U,N,{type:L}))})});let M=new Promise((S,R)=>{Q.on("finish",S),Q.on("error",Q=>R(TypeError(Q)))});if(null!==this.body)for await(let S of consumeBody(this[Z].body))Q.write(S);return Q.end(),await M,R}if(/application\/x-www-form-urlencoded/.test(S)){let Q;try{let S="",R=new TextDecoder("utf-8",{ignoreBOM:!0});for await(let Q of consumeBody(this[Z].body)){if(!eA(Q))throw TypeError("Expected Uint8Array chunk");S+=R.decode(Q,{stream:!0})}S+=R.decode(),Q=new URLSearchParams(S)}catch(Q){throw Object.assign(TypeError(),{cause:Q})}let S=new X;for(let[R,N]of Q)S.append(R,N);return S}throw await Promise.resolve(),throwIfAborted(this[Z]),$.errors.exception({header:`${Q.name}.formData`,message:"Could not parse content as FormData."})}};return S}function mixinBody(Q){Object.assign(Q.prototype,bodyMixinMethods(Q))}async function specConsumeBody(Q,S,R){if($.brandCheck(Q,R),throwIfAborted(Q[Z]),bodyUnusable(Q[Z].body))throw TypeError("Body is unusable");let N=W(),errorSteps=Q=>N.reject(Q),successSteps=Q=>{try{N.resolve(S(Q))}catch(Q){errorSteps(Q)}};return null==Q[Z].body?successSteps(new Uint8Array):await K(Q[Z].body,successSteps,errorSteps),N.promise}function bodyUnusable(Q){return null!=Q&&(Q.stream.locked||M.isDisturbed(Q.stream))}function utf8DecodeBytes(Q){if(0===Q.length)return"";239===Q[0]&&187===Q[1]&&191===Q[2]&&(Q=Q.subarray(3));let S=eE.decode(Q);return S}function parseJSONFromBytes(Q){return JSON.parse(utf8DecodeBytes(Q))}function bodyMimeType(Q){let{headersList:S}=Q[Z],R=S.get("content-type");return null===R?"failure":eh(R)}Q.exports={extractBody,safelyExtractBody,cloneBody,mixinBody}},9499:(Q,S,R)=>{"use strict";let N;let{MessageChannel:M,receiveMessageOnPort:L}=R(71267),U=["GET","HEAD","POST"],P=new Set(U),Y=[101,204,205,304],W=[301,302,303,307,308],K=new Set(W),X=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"],Z=new Set(X),$=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],ee=new Set($),et=["follow","manual","error"],en=["GET","HEAD","OPTIONS","TRACE"],ei=new Set(en),es=["navigate","same-origin","no-cors","cors"],eo=["omit","same-origin","include"],ea=["default","no-store","reload","no-cache","force-cache","only-if-cached"],eA=["content-encoding","content-language","content-location","content-type","content-length"],ec=["half"],eu=["CONNECT","TRACE","TRACK"],eh=new Set(eu),ed=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],eg=new Set(ed),ep=globalThis.DOMException??(()=>{try{atob("~")}catch(Q){return Object.getPrototypeOf(Q).constructor}})(),ef=globalThis.structuredClone??function(Q,S){if(0==arguments.length)throw TypeError("missing argument");return N||(N=new M),N.port1.unref(),N.port2.unref(),N.port1.postMessage(Q,S?.transfer),L(N.port2).message};Q.exports={DOMException:ep,structuredClone:ef,subresource:ed,forbiddenMethods:eu,requestBodyHeader:eA,referrerPolicy:$,requestRedirect:et,requestMode:es,requestCredentials:eo,requestCache:ea,redirectStatus:W,corsSafeListedMethods:U,nullBodyStatus:Y,safeMethods:en,badPorts:X,requestDuplex:ec,subresourceSet:eg,badPortsSet:Z,redirectStatusSet:K,corsSafeListedMethodsSet:P,safeMethodsSet:ei,forbiddenMethodsSet:eh,referrerPolicySet:ee}},13296:(Q,S,R)=>{let N=R(39491),{atob:M}=R(14300),{isomorphicDecode:L}=R(98504),U=new TextEncoder,P=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/,Y=/(\u000A|\u000D|\u0009|\u0020)/,W=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function dataURLProcessor(Q){N("data:"===Q.protocol);let S=URLSerializer(Q,!0);S=S.slice(5);let R={position:0},M=collectASequenceOfCodePointsFast(",",S,R),U=M.length;if(M=removeASCIIWhitespace(M,!0,!0),R.position>=S.length)return"failure";R.position++;let P=S.slice(U+1),Y=stringPercentDecode(P);if(/;(\u0020){0,}base64$/i.test(M)){let Q=L(Y);if("failure"===(Y=forgivingBase64(Q)))return"failure";M=(M=(M=M.slice(0,-6)).replace(/(\u0020)+$/,"")).slice(0,-1)}M.startsWith(";")&&(M="text/plain"+M);let W=parseMIMEType(M);return"failure"===W&&(W=parseMIMEType("text/plain;charset=US-ASCII")),{mimeType:W,body:Y}}function URLSerializer(Q,S=!1){if(!S)return Q.href;let R=Q.href,N=Q.hash.length;return 0===N?R:R.substring(0,R.length-N)}function collectASequenceOfCodePoints(Q,S,R){let N="";for(;R.position<S.length&&Q(S[R.position]);)N+=S[R.position],R.position++;return N}function collectASequenceOfCodePointsFast(Q,S,R){let N=S.indexOf(Q,R.position),M=R.position;return -1===N?(R.position=S.length,S.slice(M)):(R.position=N,S.slice(M,R.position))}function stringPercentDecode(Q){let S=U.encode(Q);return percentDecode(S)}function percentDecode(Q){let S=[];for(let R=0;R<Q.length;R++){let N=Q[R];if(37!==N)S.push(N);else if(37!==N||/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(Q[R+1],Q[R+2]))){let N=String.fromCharCode(Q[R+1],Q[R+2]),M=Number.parseInt(N,16);S.push(M),R+=2}else S.push(37)}return Uint8Array.from(S)}function parseMIMEType(Q){Q=removeHTTPWhitespace(Q,!0,!0);let S={position:0},R=collectASequenceOfCodePointsFast("/",Q,S);if(0===R.length||!P.test(R)||S.position>Q.length)return"failure";S.position++;let N=collectASequenceOfCodePointsFast(";",Q,S);if(0===(N=removeHTTPWhitespace(N,!1,!0)).length||!P.test(N))return"failure";let M=R.toLowerCase(),L=N.toLowerCase(),U={type:M,subtype:L,parameters:new Map,essence:`${M}/${L}`};for(;S.position<Q.length;){S.position++,collectASequenceOfCodePoints(Q=>Y.test(Q),Q,S);let R=collectASequenceOfCodePoints(Q=>";"!==Q&&"="!==Q,Q,S);if(R=R.toLowerCase(),S.position<Q.length){if(";"===Q[S.position])continue;S.position++}if(S.position>Q.length)break;let N=null;if('"'===Q[S.position])N=collectAnHTTPQuotedString(Q,S,!0),collectASequenceOfCodePointsFast(";",Q,S);else if(0===(N=removeHTTPWhitespace(N=collectASequenceOfCodePointsFast(";",Q,S),!1,!0)).length)continue;0!==R.length&&P.test(R)&&(0===N.length||W.test(N))&&!U.parameters.has(R)&&U.parameters.set(R,N)}return U}function forgivingBase64(Q){if((Q=Q.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,"")).length%4==0&&(Q=Q.replace(/=?=$/,"")),Q.length%4==1||/[^+/0-9A-Za-z]/.test(Q))return"failure";let S=M(Q),R=new Uint8Array(S.length);for(let Q=0;Q<S.length;Q++)R[Q]=S.charCodeAt(Q);return R}function collectAnHTTPQuotedString(Q,S,R){let M=S.position,L="";for(N('"'===Q[S.position]),S.position++;L+=collectASequenceOfCodePoints(Q=>'"'!==Q&&"\\"!==Q,Q,S),!(S.position>=Q.length);){let R=Q[S.position];if(S.position++,"\\"===R){if(S.position>=Q.length){L+="\\";break}L+=Q[S.position],S.position++}else{N('"'===R);break}}return R?L:Q.slice(M,S.position)}function serializeAMimeType(Q){N("failure"!==Q);let{parameters:S,essence:R}=Q,M=R;for(let[Q,R]of S.entries())M+=";"+Q+"=",P.test(R)||(R='"'+(R=R.replace(/(\\|")/g,"\\$1"))+'"'),M+=R;return M}function isHTTPWhiteSpace(Q){return"\r"===Q||"\n"===Q||"	"===Q||" "===Q}function removeHTTPWhitespace(Q,S=!0,R=!0){let N=0,M=Q.length-1;if(S)for(;N<Q.length&&isHTTPWhiteSpace(Q[N]);N++);if(R)for(;M>0&&isHTTPWhiteSpace(Q[M]);M--);return Q.slice(N,M+1)}function isASCIIWhitespace(Q){return"\r"===Q||"\n"===Q||"	"===Q||"\f"===Q||" "===Q}function removeASCIIWhitespace(Q,S=!0,R=!0){let N=0,M=Q.length-1;if(S)for(;N<Q.length&&isASCIIWhitespace(Q[N]);N++);if(R)for(;M>0&&isASCIIWhitespace(Q[M]);M--);return Q.slice(N,M+1)}Q.exports={dataURLProcessor,URLSerializer,collectASequenceOfCodePoints,collectASequenceOfCodePointsFast,stringPercentDecode,parseMIMEType,collectAnHTTPQuotedString,serializeAMimeType}},68007:(Q,S,R)=>{"use strict";let{Blob:N,File:M}=R(14300),{types:L}=R(73837),{kState:U}=R(16119),{isBlobLike:P}=R(98504),{webidl:Y}=R(52277),{parseMIMEType:W,serializeAMimeType:K}=R(13296),{kEnumerableProperty:X}=R(42964),Z=new TextEncoder;let File=class File extends N{constructor(Q,S,R={}){let N;Y.argumentLengthCheck(arguments,2,{header:"File constructor"}),Q=Y.converters["sequence<BlobPart>"](Q),S=Y.converters.USVString(S),R=Y.converters.FilePropertyBag(R);let M=S,L=R.type;e:{if(L){if("failure"===(L=W(L))){L="";break e}L=K(L).toLowerCase()}N=R.lastModified}super(processBlobParts(Q,R),{type:L}),this[U]={name:M,lastModified:N,type:L}}get name(){return Y.brandCheck(this,File),this[U].name}get lastModified(){return Y.brandCheck(this,File),this[U].lastModified}get type(){return Y.brandCheck(this,File),this[U].type}};let FileLike=class FileLike{constructor(Q,S,R={}){let N=S,M=R.type,L=R.lastModified??Date.now();this[U]={blobLike:Q,name:N,type:M,lastModified:L}}stream(...Q){return Y.brandCheck(this,FileLike),this[U].blobLike.stream(...Q)}arrayBuffer(...Q){return Y.brandCheck(this,FileLike),this[U].blobLike.arrayBuffer(...Q)}slice(...Q){return Y.brandCheck(this,FileLike),this[U].blobLike.slice(...Q)}text(...Q){return Y.brandCheck(this,FileLike),this[U].blobLike.text(...Q)}get size(){return Y.brandCheck(this,FileLike),this[U].blobLike.size}get type(){return Y.brandCheck(this,FileLike),this[U].blobLike.type}get name(){return Y.brandCheck(this,FileLike),this[U].name}get lastModified(){return Y.brandCheck(this,FileLike),this[U].lastModified}get[Symbol.toStringTag](){return"File"}};function processBlobParts(Q,S){let R=[];for(let N of Q)if("string"==typeof N){let Q=N;"native"===S.endings&&(Q=convertLineEndingsNative(Q)),R.push(Z.encode(Q))}else L.isAnyArrayBuffer(N)||L.isTypedArray(N)?N.buffer?R.push(new Uint8Array(N.buffer,N.byteOffset,N.byteLength)):R.push(new Uint8Array(N)):P(N)&&R.push(N);return R}function convertLineEndingsNative(Q){let S="\n";return"win32"===process.platform&&(S="\r\n"),Q.replace(/\r?\n/g,S)}function isFileLike(Q){return M&&Q instanceof M||Q instanceof File||Q&&("function"==typeof Q.stream||"function"==typeof Q.arrayBuffer)&&"File"===Q[Symbol.toStringTag]}Object.defineProperties(File.prototype,{[Symbol.toStringTag]:{value:"File",configurable:!0},name:X,lastModified:X}),Y.converters.Blob=Y.interfaceConverter(N),Y.converters.BlobPart=function(Q,S){if("Object"===Y.util.Type(Q)){if(P(Q))return Y.converters.Blob(Q,{strict:!1});if(ArrayBuffer.isView(Q)||L.isAnyArrayBuffer(Q))return Y.converters.BufferSource(Q,S)}return Y.converters.USVString(Q,S)},Y.converters["sequence<BlobPart>"]=Y.sequenceConverter(Y.converters.BlobPart),Y.converters.FilePropertyBag=Y.dictionaryConverter([{key:"lastModified",converter:Y.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:Y.converters.DOMString,defaultValue:""},{key:"endings",converter:Q=>("native"!==(Q=(Q=Y.converters.DOMString(Q)).toLowerCase())&&(Q="transparent"),Q),defaultValue:"transparent"}]),Q.exports={File,FileLike,isFileLike}},93178:(Q,S,R)=>{"use strict";let{isBlobLike:N,toUSVString:M,makeIterator:L}=R(98504),{kState:U}=R(16119),{File:P,FileLike:Y,isFileLike:W}=R(68007),{webidl:K}=R(52277),{Blob:X,File:Z}=R(14300),$=Z??P;let FormData=class FormData{constructor(Q){if(void 0!==Q)throw K.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[U]=[]}append(Q,S,R){if(K.brandCheck(this,FormData),K.argumentLengthCheck(arguments,2,{header:"FormData.append"}),3==arguments.length&&!N(S))throw TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");Q=K.converters.USVString(Q),S=N(S)?K.converters.Blob(S,{strict:!1}):K.converters.USVString(S),R=3==arguments.length?K.converters.USVString(R):void 0;let M=makeEntry(Q,S,R);this[U].push(M)}delete(Q){K.brandCheck(this,FormData),K.argumentLengthCheck(arguments,1,{header:"FormData.delete"}),Q=K.converters.USVString(Q),this[U]=this[U].filter(S=>S.name!==Q)}get(Q){K.brandCheck(this,FormData),K.argumentLengthCheck(arguments,1,{header:"FormData.get"}),Q=K.converters.USVString(Q);let S=this[U].findIndex(S=>S.name===Q);return -1===S?null:this[U][S].value}getAll(Q){return K.brandCheck(this,FormData),K.argumentLengthCheck(arguments,1,{header:"FormData.getAll"}),Q=K.converters.USVString(Q),this[U].filter(S=>S.name===Q).map(Q=>Q.value)}has(Q){return K.brandCheck(this,FormData),K.argumentLengthCheck(arguments,1,{header:"FormData.has"}),Q=K.converters.USVString(Q),-1!==this[U].findIndex(S=>S.name===Q)}set(Q,S,R){if(K.brandCheck(this,FormData),K.argumentLengthCheck(arguments,2,{header:"FormData.set"}),3==arguments.length&&!N(S))throw TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");Q=K.converters.USVString(Q),S=N(S)?K.converters.Blob(S,{strict:!1}):K.converters.USVString(S),R=3==arguments.length?M(R):void 0;let L=makeEntry(Q,S,R),P=this[U].findIndex(S=>S.name===Q);-1!==P?this[U]=[...this[U].slice(0,P),L,...this[U].slice(P+1).filter(S=>S.name!==Q)]:this[U].push(L)}entries(){return K.brandCheck(this,FormData),L(()=>this[U].map(Q=>[Q.name,Q.value]),"FormData","key+value")}keys(){return K.brandCheck(this,FormData),L(()=>this[U].map(Q=>[Q.name,Q.value]),"FormData","key")}values(){return K.brandCheck(this,FormData),L(()=>this[U].map(Q=>[Q.name,Q.value]),"FormData","value")}forEach(Q,S=globalThis){if(K.brandCheck(this,FormData),K.argumentLengthCheck(arguments,1,{header:"FormData.forEach"}),"function"!=typeof Q)throw TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.");for(let[R,N]of this)Q.apply(S,[N,R,this])}};function makeEntry(Q,S,R){if(Q=Buffer.from(Q).toString("utf8"),"string"==typeof S)S=Buffer.from(S).toString("utf8");else if(W(S)||(S=S instanceof X?new $([S],"blob",{type:S.type}):new Y(S,"blob",{type:S.type})),void 0!==R){let Q={type:S.type,lastModified:S.lastModified};S=Z&&S instanceof Z||S instanceof P?new $([S],R,Q):new Y(S,R,Q)}return{name:Q,value:S}}FormData.prototype[Symbol.iterator]=FormData.prototype.entries,Object.defineProperties(FormData.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:!0}}),Q.exports={FormData}},98481:Q=>{"use strict";let S=Symbol.for("undici.globalOrigin.1");function getGlobalOrigin(){return globalThis[S]}function setGlobalOrigin(Q){if(void 0===Q){Object.defineProperty(globalThis,S,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let R=new URL(Q);if("http:"!==R.protocol&&"https:"!==R.protocol)throw TypeError(`Only http & https urls are allowed, received ${R.protocol}`);Object.defineProperty(globalThis,S,{value:R,writable:!0,enumerable:!1,configurable:!1})}Q.exports={getGlobalOrigin,setGlobalOrigin}},58380:(Q,S,R)=>{"use strict";let{kHeadersList:N,kConstruct:M}=R(43294),{kGuard:L}=R(16119),{kEnumerableProperty:U}=R(42964),{makeIterator:P,isValidHeaderName:Y,isValidHeaderValue:W}=R(98504),{webidl:K}=R(52277),X=R(39491),Z=Symbol("headers map"),$=Symbol("headers map sorted");function isHTTPWhiteSpaceCharCode(Q){return 10===Q||13===Q||9===Q||32===Q}function headerValueNormalize(Q){let S=0,R=Q.length;for(;R>S&&isHTTPWhiteSpaceCharCode(Q.charCodeAt(R-1));)--R;for(;R>S&&isHTTPWhiteSpaceCharCode(Q.charCodeAt(S));)++S;return 0===S&&R===Q.length?Q:Q.substring(S,R)}function fill(Q,S){if(Array.isArray(S))for(let R=0;R<S.length;++R){let N=S[R];if(2!==N.length)throw K.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${N.length}.`});appendHeader(Q,N[0],N[1])}else if("object"==typeof S&&null!==S){let R=Object.keys(S);for(let N=0;N<R.length;++N)appendHeader(Q,R[N],S[R[N]])}else throw K.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function appendHeader(Q,S,R){if(R=headerValueNormalize(R),Y(S)){if(!W(R))throw K.errors.invalidArgument({prefix:"Headers.append",value:R,type:"header value"})}else throw K.errors.invalidArgument({prefix:"Headers.append",value:S,type:"header name"});if("immutable"===Q[L])throw TypeError("immutable");return Q[L],Q[N].append(S,R)}let HeadersList=class HeadersList{cookies=null;constructor(Q){Q instanceof HeadersList?(this[Z]=new Map(Q[Z]),this[$]=Q[$],this.cookies=null===Q.cookies?null:[...Q.cookies]):(this[Z]=new Map(Q),this[$]=null)}contains(Q){return Q=Q.toLowerCase(),this[Z].has(Q)}clear(){this[Z].clear(),this[$]=null,this.cookies=null}append(Q,S){this[$]=null;let R=Q.toLowerCase(),N=this[Z].get(R);if(N){let Q="cookie"===R?"; ":", ";this[Z].set(R,{name:N.name,value:`${N.value}${Q}${S}`})}else this[Z].set(R,{name:Q,value:S});"set-cookie"===R&&(this.cookies??=[],this.cookies.push(S))}set(Q,S){this[$]=null;let R=Q.toLowerCase();"set-cookie"===R&&(this.cookies=[S]),this[Z].set(R,{name:Q,value:S})}delete(Q){this[$]=null,"set-cookie"===(Q=Q.toLowerCase())&&(this.cookies=null),this[Z].delete(Q)}get(Q){let S=this[Z].get(Q.toLowerCase());return void 0===S?null:S.value}*[Symbol.iterator](){for(let[Q,{value:S}]of this[Z])yield[Q,S]}get entries(){let Q={};if(this[Z].size)for(let{name:S,value:R}of this[Z].values())Q[S]=R;return Q}};let Headers=class Headers{constructor(Q){if(Q===M)return;this[N]=new HeadersList,this[L]="none",void 0!==Q&&fill(this,Q=K.converters.HeadersInit(Q))}append(Q,S){return K.brandCheck(this,Headers),K.argumentLengthCheck(arguments,2,{header:"Headers.append"}),Q=K.converters.ByteString(Q),S=K.converters.ByteString(S),appendHeader(this,Q,S)}delete(Q){if(K.brandCheck(this,Headers),K.argumentLengthCheck(arguments,1,{header:"Headers.delete"}),!Y(Q=K.converters.ByteString(Q)))throw K.errors.invalidArgument({prefix:"Headers.delete",value:Q,type:"header name"});if("immutable"===this[L])throw TypeError("immutable");this[L],this[N].contains(Q)&&this[N].delete(Q)}get(Q){if(K.brandCheck(this,Headers),K.argumentLengthCheck(arguments,1,{header:"Headers.get"}),!Y(Q=K.converters.ByteString(Q)))throw K.errors.invalidArgument({prefix:"Headers.get",value:Q,type:"header name"});return this[N].get(Q)}has(Q){if(K.brandCheck(this,Headers),K.argumentLengthCheck(arguments,1,{header:"Headers.has"}),!Y(Q=K.converters.ByteString(Q)))throw K.errors.invalidArgument({prefix:"Headers.has",value:Q,type:"header name"});return this[N].contains(Q)}set(Q,S){if(K.brandCheck(this,Headers),K.argumentLengthCheck(arguments,2,{header:"Headers.set"}),Q=K.converters.ByteString(Q),S=headerValueNormalize(S=K.converters.ByteString(S)),Y(Q)){if(!W(S))throw K.errors.invalidArgument({prefix:"Headers.set",value:S,type:"header value"})}else throw K.errors.invalidArgument({prefix:"Headers.set",value:Q,type:"header name"});if("immutable"===this[L])throw TypeError("immutable");this[L],this[N].set(Q,S)}getSetCookie(){K.brandCheck(this,Headers);let Q=this[N].cookies;return Q?[...Q]:[]}get[$](){if(this[N][$])return this[N][$];let Q=[],S=[...this[N]].sort((Q,S)=>Q[0]<S[0]?-1:1),R=this[N].cookies;for(let N=0;N<S.length;++N){let[M,L]=S[N];if("set-cookie"===M)for(let S=0;S<R.length;++S)Q.push([M,R[S]]);else X(null!==L),Q.push([M,L])}return this[N][$]=Q,Q}keys(){if(K.brandCheck(this,Headers),"immutable"===this[L]){let Q=this[$];return P(()=>Q,"Headers","key")}return P(()=>[...this[$].values()],"Headers","key")}values(){if(K.brandCheck(this,Headers),"immutable"===this[L]){let Q=this[$];return P(()=>Q,"Headers","value")}return P(()=>[...this[$].values()],"Headers","value")}entries(){if(K.brandCheck(this,Headers),"immutable"===this[L]){let Q=this[$];return P(()=>Q,"Headers","key+value")}return P(()=>[...this[$].values()],"Headers","key+value")}forEach(Q,S=globalThis){if(K.brandCheck(this,Headers),K.argumentLengthCheck(arguments,1,{header:"Headers.forEach"}),"function"!=typeof Q)throw TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.");for(let[R,N]of this)Q.apply(S,[N,R,this])}[Symbol.for("nodejs.util.inspect.custom")](){return K.brandCheck(this,Headers),this[N]}};Headers.prototype[Symbol.iterator]=Headers.prototype.entries,Object.defineProperties(Headers.prototype,{append:U,delete:U,get:U,has:U,set:U,getSetCookie:U,keys:U,values:U,entries:U,forEach:U,[Symbol.iterator]:{enumerable:!1},[Symbol.toStringTag]:{value:"Headers",configurable:!0}}),K.converters.HeadersInit=function(Q){if("Object"===K.util.Type(Q))return Q[Symbol.iterator]?K.converters["sequence<sequence<ByteString>>"](Q):K.converters["record<ByteString, ByteString>"](Q);throw K.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})},Q.exports={fill,Headers,HeadersList}},99762:(Q,S,R)=>{"use strict";let N;let{Response:M,makeNetworkError:L,makeAppropriateNetworkError:U,filterResponse:P,makeResponse:Y}=R(34916),{Headers:W}=R(58380),{Request:K,makeRequest:X}=R(72110),Z=R(59796),{bytesMatch:$,makePolicyContainer:ee,clonePolicyContainer:et,requestBadPort:en,TAOCheck:ei,appendRequestOriginHeader:es,responseLocationURL:eo,requestCurrentURL:ea,setRequestReferrerPolicyOnRedirect:eA,tryUpgradeRequestToAPotentiallyTrustworthyURL:ec,createOpaqueTimingInfo:eu,appendFetchMetadata:eh,corsCheck:ed,crossOriginResourcePolicyCheck:eg,determineRequestsReferrer:ep,coarsenedSharedCurrentTime:ef,createDeferredPromise:eE,isBlobLike:em,sameOrigin:eC,isCancelled:eI,isAborted:eB,isErrorLike:ey,fullyReadBody:eQ,readableStreamClose:eS,isomorphicEncode:eb,urlIsLocal:ew,urlIsHttpHttpsScheme:eD,urlHasHttpsScheme:eR}=R(98504),{kState:eT,kHeaders:ek,kGuard:eN,kRealm:eF}=R(16119),eM=R(39491),{safelyExtractBody:eL}=R(36310),{redirectStatusSet:ex,nullBodyStatus:e_,safeMethodsSet:eU,requestBodyHeader:eO,subresourceSet:eP,DOMException:eV}=R(9499),{kHeadersList:eG}=R(43294),eH=R(82361),{Readable:eY,pipeline:eJ}=R(12781),{addAbortListener:eW,isErrored:ej,isReadable:ez,nodeMajor:eK,nodeMinor:eX}=R(42964),{dataURLProcessor:eZ,serializeAMimeType:e$}=R(13296),{TransformStream:e0}=R(35356),{getGlobalDispatcher:e1}=R(48258),{webidl:e2}=R(52277),{STATUS_CODES:e4}=R(13685),e9=["GET","HEAD"],e3=globalThis.ReadableStream;let Fetch=class Fetch extends eH{constructor(Q){super(),this.dispatcher=Q,this.connection=null,this.dump=!1,this.state="ongoing",this.setMaxListeners(21)}terminate(Q){"ongoing"===this.state&&(this.state="terminated",this.connection?.destroy(Q),this.emit("terminated",Q))}abort(Q){"ongoing"===this.state&&(this.state="aborted",Q||(Q=new eV("The operation was aborted.","AbortError")),this.serializedAbortReason=Q,this.connection?.destroy(Q),this.emit("terminated",Q))}};function fetch(Q,S={}){let R;e2.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});let N=eE();try{R=new K(Q,S)}catch(Q){return N.reject(Q),N.promise}let L=R[eT];if(R.signal.aborted)return abortFetch(N,L,null,R.signal.reason),N.promise;let U=L.client.globalObject;U?.constructor?.name==="ServiceWorkerGlobalScope"&&(L.serviceWorkers="none");let P=null,Y=null,W=!1,X=null;eW(R.signal,()=>{W=!0,eM(null!=X),X.abort(R.signal.reason),abortFetch(N,L,P,R.signal.reason)});let handleFetchDone=Q=>finalizeAndReportTiming(Q,"fetch"),processResponse=Q=>W?Promise.resolve():Q.aborted?(abortFetch(N,L,P,X.serializedAbortReason),Promise.resolve()):"error"===Q.type?(N.reject(Object.assign(TypeError("fetch failed"),{cause:Q.error})),Promise.resolve()):void((P=new M)[eT]=Q,P[eF]=Y,P[ek][eG]=Q.headersList,P[ek][eN]="immutable",P[ek][eF]=Y,N.resolve(P));return X=fetching({request:L,processResponseEndOfBody:handleFetchDone,processResponse,dispatcher:S.dispatcher??e1()}),N.promise}function finalizeAndReportTiming(Q,S="other"){if("error"===Q.type&&Q.aborted||!Q.urlList?.length)return;let R=Q.urlList[0],N=Q.timingInfo,M=Q.cacheState;eD(R)&&null!==N&&(Q.timingAllowPassed||(N=eu({startTime:N.startTime}),M=""),N.endTime=ef(),Q.timingInfo=N,markResourceTiming(N,R,S,globalThis,M))}function markResourceTiming(Q,S,R,N,M){(eK>18||18===eK&&eX>=2)&&performance.markResourceTiming(Q,S.href,R,N,M)}function abortFetch(Q,S,R,N){if(N||(N=new eV("The operation was aborted.","AbortError")),Q.reject(N),null!=S.body&&ez(S.body?.stream)&&S.body.stream.cancel(N).catch(Q=>{if("ERR_INVALID_STATE"!==Q.code)throw Q}),null==R)return;let M=R[eT];null!=M.body&&ez(M.body?.stream)&&M.body.stream.cancel(N).catch(Q=>{if("ERR_INVALID_STATE"!==Q.code)throw Q})}function fetching({request:Q,processRequestBodyChunkLength:S,processRequestEndOfBody:R,processResponse:N,processResponseEndOfBody:M,processResponseConsumeBody:L,useParallelQueue:U=!1,dispatcher:P}){let Y=null,W=!1;null!=Q.client&&(Y=Q.client.globalObject,W=Q.client.crossOriginIsolatedCapability);let K=ef(W),X=eu({startTime:K}),Z={controller:new Fetch(P),request:Q,timingInfo:X,processRequestBodyChunkLength:S,processRequestEndOfBody:R,processResponse:N,processResponseConsumeBody:L,processResponseEndOfBody:M,taskDestination:Y,crossOriginIsolatedCapability:W};if(eM(!Q.body||Q.body.stream),"client"===Q.window&&(Q.window=Q.client?.globalObject?.constructor?.name==="Window"?Q.client:"no-window"),"client"===Q.origin&&(Q.origin=Q.client?.origin),"client"===Q.policyContainer&&(null!=Q.client?Q.policyContainer=et(Q.client.policyContainer):Q.policyContainer=ee()),!Q.headersList.contains("accept")){let S="*/*";Q.headersList.append("accept",S)}return Q.headersList.contains("accept-language")||Q.headersList.append("accept-language","*"),Q.priority,eP.has(Q.destination),mainFetch(Z).catch(Q=>{Z.controller.terminate(Q)}),Z.controller}async function mainFetch(Q,S=!1){let R=Q.request,N=null;if(R.localURLsOnly&&!ew(ea(R))&&(N=L("local URLs only")),ec(R),"blocked"===en(R)&&(N=L("bad port")),""===R.referrerPolicy&&(R.referrerPolicy=R.policyContainer.referrerPolicy),"no-referrer"!==R.referrer&&(R.referrer=ep(R)),null===N&&(N=await (async()=>{let S=ea(R);return eC(S,R.url)&&"basic"===R.responseTainting||"data:"===S.protocol||"navigate"===R.mode||"websocket"===R.mode?(R.responseTainting="basic",await schemeFetch(Q)):"same-origin"===R.mode?L('request mode cannot be "same-origin"'):"no-cors"===R.mode?"follow"!==R.redirect?L('redirect mode cannot be "follow" for "no-cors" request'):(R.responseTainting="opaque",await schemeFetch(Q)):eD(ea(R))?(R.responseTainting="cors",await httpFetch(Q)):L("URL scheme must be a HTTP(S) scheme")})()),S)return N;0===N.status||N.internalResponse||(R.responseTainting,"basic"===R.responseTainting?N=P(N,"basic"):"cors"===R.responseTainting?N=P(N,"cors"):"opaque"===R.responseTainting?N=P(N,"opaque"):eM(!1));let M=0===N.status?N:N.internalResponse;if(0===M.urlList.length&&M.urlList.push(...R.urlList),R.timingAllowFailed||(N.timingAllowPassed=!0),"opaque"===N.type&&206===M.status&&M.rangeRequested&&!R.headers.contains("range")&&(N=M=L()),0!==N.status&&("HEAD"===R.method||"CONNECT"===R.method||e_.includes(M.status))&&(M.body=null,Q.controller.dump=!0),R.integrity){let processBodyError=S=>fetchFinale(Q,L(S));if("opaque"===R.responseTainting||null==N.body){processBodyError(N.error);return}let processBody=S=>{if(!$(S,R.integrity)){processBodyError("integrity mismatch");return}N.body=eL(S)[0],fetchFinale(Q,N)};await eQ(N.body,processBody,processBodyError)}else fetchFinale(Q,N)}function schemeFetch(Q){if(eI(Q)&&0===Q.request.redirectCount)return Promise.resolve(U(Q));let{request:S}=Q,{protocol:M}=ea(S);switch(M){case"about:":return Promise.resolve(L("about scheme is not supported"));case"blob:":{N||(N=R(14300).resolveObjectURL);let Q=ea(S);if(0!==Q.search.length)return Promise.resolve(L("NetworkError when attempting to fetch resource."));let M=N(Q.toString());if("GET"!==S.method||!em(M))return Promise.resolve(L("invalid method"));let U=eL(M),P=U[0],W=eb(`${P.length}`),K=U[1]??"",X=Y({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:W}],["content-type",{name:"Content-Type",value:K}]]});return X.body=P,Promise.resolve(X)}case"data:":{let Q=ea(S),R=eZ(Q);if("failure"===R)return Promise.resolve(L("failed to fetch the data URL"));let N=e$(R.mimeType);return Promise.resolve(Y({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:N}]],body:eL(R.body)[0]}))}case"file:":return Promise.resolve(L("not implemented... yet..."));case"http:":case"https:":return httpFetch(Q).catch(Q=>L(Q));default:return Promise.resolve(L("unknown scheme"))}}function finalizeResponse(Q,S){Q.request.done=!0,null!=Q.processResponseDone&&queueMicrotask(()=>Q.processResponseDone(S))}function fetchFinale(Q,S){"error"===S.type&&(S.urlList=[Q.request.urlList[0]],S.timingInfo=eu({startTime:Q.timingInfo.startTime}));let processResponseEndOfBody=()=>{Q.request.done=!0,null!=Q.processResponseEndOfBody&&queueMicrotask(()=>Q.processResponseEndOfBody(S))};if(null!=Q.processResponse&&queueMicrotask(()=>Q.processResponse(S)),null==S.body)processResponseEndOfBody();else{let identityTransformAlgorithm=(Q,S)=>{S.enqueue(Q)},Q=new e0({start(){},transform:identityTransformAlgorithm,flush:processResponseEndOfBody},{size:()=>1},{size:()=>1});S.body={stream:S.body.stream.pipeThrough(Q)}}if(null!=Q.processResponseConsumeBody){let processBody=R=>Q.processResponseConsumeBody(S,R),processBodyError=R=>Q.processResponseConsumeBody(S,R);return null!=S.body?eQ(S.body,processBody,processBodyError):(queueMicrotask(()=>processBody(null)),Promise.resolve())}}async function httpFetch(Q){let S=Q.request,R=null,N=null,M=Q.timingInfo;if(S.serviceWorkers,null===R){if("follow"===S.redirect&&(S.serviceWorkers="none"),N=R=await httpNetworkOrCacheFetch(Q),"cors"===S.responseTainting&&"failure"===ed(S,R))return L("cors failure");"failure"===ei(S,R)&&(S.timingAllowFailed=!0)}return("opaque"===S.responseTainting||"opaque"===R.type)&&"blocked"===eg(S.origin,S.client,S.destination,N)?L("blocked"):(ex.has(N.status)&&("manual"!==S.redirect&&Q.controller.connection.destroy(),"error"===S.redirect?R=L("unexpected redirect"):"manual"===S.redirect?R=N:"follow"===S.redirect?R=await httpRedirectFetch(Q,R):eM(!1)),R.timingInfo=M,R)}function httpRedirectFetch(Q,S){let R;let N=Q.request,M=S.internalResponse?S.internalResponse:S;try{if(R=eo(M,ea(N).hash),null==R)return S}catch(Q){return Promise.resolve(L(Q))}if(!eD(R))return Promise.resolve(L("URL scheme must be a HTTP(S) scheme"));if(20===N.redirectCount)return Promise.resolve(L("redirect count exceeded"));if(N.redirectCount+=1,"cors"===N.mode&&(R.username||R.password)&&!eC(N,R))return Promise.resolve(L('cross origin not allowed for request mode "cors"'));if("cors"===N.responseTainting&&(R.username||R.password))return Promise.resolve(L('URL cannot contain credentials for request mode "cors"'));if(303!==M.status&&null!=N.body&&null==N.body.source)return Promise.resolve(L());if([301,302].includes(M.status)&&"POST"===N.method||303===M.status&&!e9.includes(N.method))for(let Q of(N.method="GET",N.body=null,eO))N.headersList.delete(Q);eC(ea(N),R)||(N.headersList.delete("authorization"),N.headersList.delete("proxy-authorization",!0),N.headersList.delete("cookie"),N.headersList.delete("host")),null!=N.body&&(eM(null!=N.body.source),N.body=eL(N.body.source)[0]);let U=Q.timingInfo;return U.redirectEndTime=U.postRedirectStartTime=ef(Q.crossOriginIsolatedCapability),0===U.redirectStartTime&&(U.redirectStartTime=U.startTime),N.urlList.push(R),eA(N,M),mainFetch(Q,!0)}async function httpNetworkOrCacheFetch(Q,S=!1,R=!1){let N=Q.request,M=null,P=null,Y=null,W=null,K=!1;"no-window"===N.window&&"error"===N.redirect?(M=Q,P=N):(P=X(N),(M={...Q}).request=P);let Z="include"===N.credentials||"same-origin"===N.credentials&&"basic"===N.responseTainting,$=P.body?P.body.length:null,ee=null;if(null==P.body&&["POST","PUT"].includes(P.method)&&(ee="0"),null!=$&&(ee=eb(`${$}`)),null!=ee&&P.headersList.append("content-length",ee),null!=$&&P.keepalive,P.referrer instanceof URL&&P.headersList.append("referer",eb(P.referrer.href)),es(P),eh(P),P.headersList.contains("user-agent")||P.headersList.append("user-agent","undefined"==typeof esbuildDetection?"undici":"node"),"default"===P.cache&&(P.headersList.contains("if-modified-since")||P.headersList.contains("if-none-match")||P.headersList.contains("if-unmodified-since")||P.headersList.contains("if-match")||P.headersList.contains("if-range"))&&(P.cache="no-store"),"no-cache"!==P.cache||P.preventNoCacheCacheControlHeaderModification||P.headersList.contains("cache-control")||P.headersList.append("cache-control","max-age=0"),"no-store"!==P.cache&&"reload"!==P.cache||(P.headersList.contains("pragma")||P.headersList.append("pragma","no-cache"),P.headersList.contains("cache-control")||P.headersList.append("cache-control","no-cache")),P.headersList.contains("range")&&P.headersList.append("accept-encoding","identity"),P.headersList.contains("accept-encoding")||(eR(ea(P))?P.headersList.append("accept-encoding","br, gzip, deflate"):P.headersList.append("accept-encoding","gzip, deflate")),P.headersList.delete("host"),null==W&&(P.cache="no-store"),"no-store"!==P.mode&&P.mode,null==Y){if("only-if-cached"===P.mode)return L("only if cached");let Q=await httpNetworkFetch(M,Z,R);!eU.has(P.method)&&Q.status>=200&&Q.status,K&&Q.status,null==Y&&(Y=Q)}if(Y.urlList=[...P.urlList],P.headersList.contains("range")&&(Y.rangeRequested=!0),Y.requestIncludesCredentials=Z,407===Y.status)return"no-window"===N.window?L():eI(Q)?U(Q):L("proxy authentication required");if(421===Y.status&&!R&&(null==N.body||null!=N.body.source)){if(eI(Q))return U(Q);Q.controller.connection.destroy(),Y=await httpNetworkOrCacheFetch(Q,S,!0)}return Y}async function httpNetworkFetch(Q,S=!1,N=!1){eM(!Q.controller.connection||Q.controller.connection.destroyed),Q.controller.connection={abort:null,destroyed:!1,destroy(Q){this.destroyed||(this.destroyed=!0,this.abort?.(Q??new eV("The operation was aborted.","AbortError")))}};let M=Q.request,P=null,K=Q.timingInfo,X=null;null==X&&(M.cache="no-store"),M.mode;let $=null;if(null==M.body&&Q.processRequestEndOfBody)queueMicrotask(()=>Q.processRequestEndOfBody());else if(null!=M.body){let processBodyChunk=async function*(S){eI(Q)||(yield S,Q.processRequestBodyChunkLength?.(S.byteLength))},processEndOfBody=()=>{!eI(Q)&&Q.processRequestEndOfBody&&Q.processRequestEndOfBody()},processBodyError=S=>{eI(Q)||("AbortError"===S.name?Q.controller.abort():Q.controller.terminate(S))};$=async function*(){try{for await(let Q of M.body.stream)yield*processBodyChunk(Q);processEndOfBody()}catch(Q){processBodyError(Q)}}()}try{let{body:S,status:R,statusText:N,headersList:M,socket:L}=await dispatch({body:$});if(L)P=Y({status:R,statusText:N,headersList:M,socket:L});else{let L=S[Symbol.asyncIterator]();Q.controller.next=()=>L.next(),P=Y({status:R,statusText:N,headersList:M})}}catch(S){if("AbortError"===S.name)return Q.controller.connection.destroy(),U(Q,S);return L(S)}let pullAlgorithm=()=>{Q.controller.resume()},cancelAlgorithm=S=>{Q.controller.abort(S)};e3||(e3=R(35356).ReadableStream);let ee=new e3({async start(S){Q.controller.controller=S},async pull(Q){await pullAlgorithm(Q)},async cancel(Q){await cancelAlgorithm(Q)}},{highWaterMark:0,size:()=>1});function onAborted(S){eB(Q)?(P.aborted=!0,ez(ee)&&Q.controller.controller.error(Q.controller.serializedAbortReason)):ez(ee)&&Q.controller.controller.error(TypeError("terminated",{cause:ey(S)?S:void 0})),Q.controller.connection.destroy()}return P.body={stream:ee},Q.controller.on("terminated",onAborted),Q.controller.resume=async()=>{for(;;){let S,R;try{let{done:R,value:N}=await Q.controller.next();if(eB(Q))break;S=R?void 0:N}catch(N){Q.controller.ended&&!K.encodedBodySize?S=void 0:(S=N,R=!0)}if(void 0===S){eS(Q.controller.controller),finalizeResponse(Q,P);return}if(K.decodedBodySize+=S?.byteLength??0,R){Q.controller.terminate(S);return}if(Q.controller.controller.enqueue(new Uint8Array(S)),ej(ee)){Q.controller.terminate();return}if(!Q.controller.controller.desiredSize)return}},P;async function dispatch({body:S}){let R=ea(M),N=Q.controller.dispatcher;return new Promise((L,U)=>N.dispatch({path:R.pathname+R.search,origin:R.origin,method:M.method,body:Q.controller.dispatcher.isMockActive?M.body&&(M.body.source||M.body.stream):S,headers:M.headersList.entries,maxRedirections:0,upgrade:"websocket"===M.mode?"websocket":void 0},{body:null,abort:null,onConnect(S){let{connection:R}=Q.controller;R.destroyed?S(new eV("The operation was aborted.","AbortError")):(Q.controller.on("terminated",S),this.abort=R.abort=S)},onHeaders(Q,S,R,N){if(Q<200)return;let U=[],P="",Y=new W;if(Array.isArray(S))for(let Q=0;Q<S.length;Q+=2){let R=S[Q+0].toString("latin1"),N=S[Q+1].toString("latin1");"content-encoding"===R.toLowerCase()?U=N.toLowerCase().split(",").map(Q=>Q.trim()):"location"===R.toLowerCase()&&(P=N),Y[eG].append(R,N)}else{let Q=Object.keys(S);for(let R of Q){let Q=S[R];"content-encoding"===R.toLowerCase()?U=Q.toLowerCase().split(",").map(Q=>Q.trim()).reverse():"location"===R.toLowerCase()&&(P=Q),Y[eG].append(R,Q)}}this.body=new eY({read:R});let K=[],X="follow"===M.redirect&&P&&ex.has(Q);if("HEAD"!==M.method&&"CONNECT"!==M.method&&!e_.includes(Q)&&!X)for(let Q of U)if("x-gzip"===Q||"gzip"===Q)K.push(Z.createGunzip({flush:Z.constants.Z_SYNC_FLUSH,finishFlush:Z.constants.Z_SYNC_FLUSH}));else if("deflate"===Q)K.push(Z.createInflate());else if("br"===Q)K.push(Z.createBrotliDecompress());else{K.length=0;break}return L({status:Q,statusText:N,headersList:Y[eG],body:K.length?eJ(this.body,...K,()=>{}):this.body.on("error",()=>{})}),!0},onData(S){if(Q.controller.dump)return;let R=S;return K.encodedBodySize+=R.byteLength,this.body.push(R)},onComplete(){this.abort&&Q.controller.off("terminated",this.abort),Q.controller.ended=!0,this.body.push(null)},onError(S){this.abort&&Q.controller.off("terminated",this.abort),this.body?.destroy(S),Q.controller.terminate(S),U(S)},onUpgrade(Q,S,R){if(101!==Q)return;let N=new W;for(let Q=0;Q<S.length;Q+=2){let R=S[Q+0].toString("latin1"),M=S[Q+1].toString("latin1");N[eG].append(R,M)}return L({status:Q,statusText:e4[Q],headersList:N[eG],socket:R}),!0}}))}}Q.exports={fetch,Fetch,fetching,finalizeAndReportTiming}},72110:(Q,S,R)=>{"use strict";let{extractBody:N,mixinBody:M,cloneBody:L}=R(36310),{Headers:U,fill:P,HeadersList:Y}=R(58380),{FinalizationRegistry:W}=R(58845)(),K=R(42964),{isValidHTTPToken:X,sameOrigin:Z,normalizeMethod:$,makePolicyContainer:ee,normalizeMethodRecord:et}=R(98504),{forbiddenMethodsSet:en,corsSafeListedMethodsSet:ei,referrerPolicy:es,requestRedirect:eo,requestMode:ea,requestCredentials:eA,requestCache:ec,requestDuplex:eu}=R(9499),{kEnumerableProperty:eh}=K,{kHeaders:ed,kSignal:eg,kState:ep,kGuard:ef,kRealm:eE}=R(16119),{webidl:em}=R(52277),{getGlobalOrigin:eC}=R(98481),{URLSerializer:eI}=R(13296),{kHeadersList:eB,kConstruct:ey}=R(43294),eQ=R(39491),{getMaxListeners:eS,setMaxListeners:eb,getEventListeners:ew,defaultMaxListeners:eD}=R(82361),eR=globalThis.TransformStream,eT=Symbol("abortController"),ek=new W(({signal:Q,abort:S})=>{Q.removeEventListener("abort",S)});let Request=class Request{constructor(Q,S={}){let M;if(Q===ey)return;em.argumentLengthCheck(arguments,1,{header:"Request constructor"}),Q=em.converters.RequestInfo(Q),S=em.converters.RequestInit(S),this[eE]={settingsObject:{baseUrl:eC(),get origin(){return this.baseUrl?.origin},policyContainer:ee()}};let L=null,W=null,es=this[eE].settingsObject.baseUrl,eo=null;if("string"==typeof Q){let S;try{S=new URL(Q,es)}catch(S){throw TypeError("Failed to parse URL from "+Q,{cause:S})}if(S.username||S.password)throw TypeError("Request cannot be constructed from a URL that includes credentials: "+Q);L=makeRequest({urlList:[S]}),W="cors"}else eQ(Q instanceof Request),L=Q[ep],eo=Q[eg];let ea=this[eE].settingsObject.origin,eA="client";if(L.window?.constructor?.name==="EnvironmentSettingsObject"&&Z(L.window,ea)&&(eA=L.window),null!=S.window)throw TypeError(`'window' option '${eA}' must be null`);"window"in S&&(eA="no-window"),L=makeRequest({method:L.method,headersList:L.headersList,unsafeRequest:L.unsafeRequest,client:this[eE].settingsObject,window:eA,priority:L.priority,origin:L.origin,referrer:L.referrer,referrerPolicy:L.referrerPolicy,mode:L.mode,credentials:L.credentials,cache:L.cache,redirect:L.redirect,integrity:L.integrity,keepalive:L.keepalive,reloadNavigation:L.reloadNavigation,historyNavigation:L.historyNavigation,urlList:[...L.urlList]});let ec=0!==Object.keys(S).length;if(ec&&("navigate"===L.mode&&(L.mode="same-origin"),L.reloadNavigation=!1,L.historyNavigation=!1,L.origin="client",L.referrer="client",L.referrerPolicy="",L.url=L.urlList[L.urlList.length-1],L.urlList=[L.url]),void 0!==S.referrer){let Q=S.referrer;if(""===Q)L.referrer="no-referrer";else{let S;try{S=new URL(Q,es)}catch(S){throw TypeError(`Referrer "${Q}" is not a valid URL.`,{cause:S})}"about:"===S.protocol&&"client"===S.hostname||ea&&!Z(S,this[eE].settingsObject.baseUrl)?L.referrer="client":L.referrer=S}}if(void 0!==S.referrerPolicy&&(L.referrerPolicy=S.referrerPolicy),"navigate"===(M=void 0!==S.mode?S.mode:W))throw em.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(null!=M&&(L.mode=M),void 0!==S.credentials&&(L.credentials=S.credentials),void 0!==S.cache&&(L.cache=S.cache),"only-if-cached"===L.cache&&"same-origin"!==L.mode)throw TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(void 0!==S.redirect&&(L.redirect=S.redirect),null!=S.integrity&&(L.integrity=String(S.integrity)),void 0!==S.keepalive&&(L.keepalive=!!S.keepalive),void 0!==S.method){let Q=S.method;if(!X(Q))throw TypeError(`'${Q}' is not a valid HTTP method.`);if(en.has(Q.toUpperCase()))throw TypeError(`'${Q}' HTTP method is unsupported.`);Q=et[Q]??$(Q),L.method=Q}void 0!==S.signal&&(eo=S.signal),this[ep]=L;let eu=new AbortController;if(this[eg]=eu.signal,this[eg][eE]=this[eE],null!=eo){if(!eo||"boolean"!=typeof eo.aborted||"function"!=typeof eo.addEventListener)throw TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(eo.aborted)eu.abort(eo.reason);else{this[eT]=eu;let Q=new WeakRef(eu),abort=function(){let S=Q.deref();void 0!==S&&S.abort(this.reason)};try{"function"==typeof eS&&eS(eo)===eD?eb(100,eo):ew(eo,"abort").length>=eD&&eb(100,eo)}catch{}K.addAbortListener(eo,abort),ek.register(eu,{signal:eo,abort})}}if(this[ed]=new U(ey),this[ed][eB]=L.headersList,this[ed][ef]="request",this[ed][eE]=this[eE],"no-cors"===M){if(!ei.has(L.method))throw TypeError(`'${L.method} is unsupported in no-cors mode.`);this[ed][ef]="request-no-cors"}if(ec){let Q=this[ed][eB],R=void 0!==S.headers?S.headers:new Y(Q);if(Q.clear(),R instanceof Y){for(let[S,N]of R)Q.append(S,N);Q.cookies=R.cookies}else P(this[ed],R)}let eh=Q instanceof Request?Q[ep].body:null;if((null!=S.body||null!=eh)&&("GET"===L.method||"HEAD"===L.method))throw TypeError("Request with GET/HEAD method cannot have body.");let eI=null;if(null!=S.body){let[Q,R]=N(S.body,L.keepalive);eI=Q,R&&!this[ed][eB].contains("content-type")&&this[ed].append("content-type",R)}let eN=eI??eh;if(null!=eN&&null==eN.source){if(null!=eI&&null==S.duplex)throw TypeError("RequestInit: duplex option is required when sending a body.");if("same-origin"!==L.mode&&"cors"!==L.mode)throw TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');L.useCORSPreflightFlag=!0}let eF=eN;if(null==eI&&null!=eh){if(K.isDisturbed(eh.stream)||eh.stream.locked)throw TypeError("Cannot construct a Request with a Request object that has already been used.");eR||(eR=R(35356).TransformStream);let Q=new eR;eh.stream.pipeThrough(Q),eF={source:eh.source,length:eh.length,stream:Q.readable}}this[ep].body=eF}get method(){return em.brandCheck(this,Request),this[ep].method}get url(){return em.brandCheck(this,Request),eI(this[ep].url)}get headers(){return em.brandCheck(this,Request),this[ed]}get destination(){return em.brandCheck(this,Request),this[ep].destination}get referrer(){return(em.brandCheck(this,Request),"no-referrer"===this[ep].referrer)?"":"client"===this[ep].referrer?"about:client":this[ep].referrer.toString()}get referrerPolicy(){return em.brandCheck(this,Request),this[ep].referrerPolicy}get mode(){return em.brandCheck(this,Request),this[ep].mode}get credentials(){return this[ep].credentials}get cache(){return em.brandCheck(this,Request),this[ep].cache}get redirect(){return em.brandCheck(this,Request),this[ep].redirect}get integrity(){return em.brandCheck(this,Request),this[ep].integrity}get keepalive(){return em.brandCheck(this,Request),this[ep].keepalive}get isReloadNavigation(){return em.brandCheck(this,Request),this[ep].reloadNavigation}get isHistoryNavigation(){return em.brandCheck(this,Request),this[ep].historyNavigation}get signal(){return em.brandCheck(this,Request),this[eg]}get body(){return em.brandCheck(this,Request),this[ep].body?this[ep].body.stream:null}get bodyUsed(){return em.brandCheck(this,Request),!!this[ep].body&&K.isDisturbed(this[ep].body.stream)}get duplex(){return em.brandCheck(this,Request),"half"}clone(){if(em.brandCheck(this,Request),this.bodyUsed||this.body?.locked)throw TypeError("unusable");let Q=cloneRequest(this[ep]),S=new Request(ey);S[ep]=Q,S[eE]=this[eE],S[ed]=new U(ey),S[ed][eB]=Q.headersList,S[ed][ef]=this[ed][ef],S[ed][eE]=this[ed][eE];let R=new AbortController;return this.signal.aborted?R.abort(this.signal.reason):K.addAbortListener(this.signal,()=>{R.abort(this.signal.reason)}),S[eg]=R.signal,S}};function makeRequest(Q){let S={method:"GET",localURLsOnly:!1,unsafeRequest:!1,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:!1,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:!1,credentials:"same-origin",useCredentials:!1,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:!1,historyNavigation:!1,userActivation:!1,taintedOrigin:!1,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:!1,done:!1,timingAllowFailed:!1,...Q,headersList:Q.headersList?new Y(Q.headersList):new Y};return S.url=S.urlList[0],S}function cloneRequest(Q){let S=makeRequest({...Q,body:null});return null!=Q.body&&(S.body=L(Q.body)),S}M(Request),Object.defineProperties(Request.prototype,{method:eh,url:eh,headers:eh,redirect:eh,clone:eh,signal:eh,duplex:eh,destination:eh,body:eh,bodyUsed:eh,isHistoryNavigation:eh,isReloadNavigation:eh,keepalive:eh,integrity:eh,cache:eh,credentials:eh,attribute:eh,referrerPolicy:eh,referrer:eh,mode:eh,[Symbol.toStringTag]:{value:"Request",configurable:!0}}),em.converters.Request=em.interfaceConverter(Request),em.converters.RequestInfo=function(Q){return"string"==typeof Q?em.converters.USVString(Q):Q instanceof Request?em.converters.Request(Q):em.converters.USVString(Q)},em.converters.AbortSignal=em.interfaceConverter(AbortSignal),em.converters.RequestInit=em.dictionaryConverter([{key:"method",converter:em.converters.ByteString},{key:"headers",converter:em.converters.HeadersInit},{key:"body",converter:em.nullableConverter(em.converters.BodyInit)},{key:"referrer",converter:em.converters.USVString},{key:"referrerPolicy",converter:em.converters.DOMString,allowedValues:es},{key:"mode",converter:em.converters.DOMString,allowedValues:ea},{key:"credentials",converter:em.converters.DOMString,allowedValues:eA},{key:"cache",converter:em.converters.DOMString,allowedValues:ec},{key:"redirect",converter:em.converters.DOMString,allowedValues:eo},{key:"integrity",converter:em.converters.DOMString},{key:"keepalive",converter:em.converters.boolean},{key:"signal",converter:em.nullableConverter(Q=>em.converters.AbortSignal(Q,{strict:!1}))},{key:"window",converter:em.converters.any},{key:"duplex",converter:em.converters.DOMString,allowedValues:eu}]),Q.exports={Request,makeRequest}},34916:(Q,S,R)=>{"use strict";let{Headers:N,HeadersList:M,fill:L}=R(58380),{extractBody:U,cloneBody:P,mixinBody:Y}=R(36310),W=R(42964),{kEnumerableProperty:K}=W,{isValidReasonPhrase:X,isCancelled:Z,isAborted:$,isBlobLike:ee,serializeJavascriptValueToJSONString:et,isErrorLike:en,isomorphicEncode:ei}=R(98504),{redirectStatusSet:es,nullBodyStatus:eo,DOMException:ea}=R(9499),{kState:eA,kHeaders:ec,kGuard:eu,kRealm:eh}=R(16119),{webidl:ed}=R(52277),{FormData:eg}=R(93178),{getGlobalOrigin:ep}=R(98481),{URLSerializer:ef}=R(13296),{kHeadersList:eE,kConstruct:em}=R(43294),eC=R(39491),{types:eI}=R(73837),eB=globalThis.ReadableStream||R(35356).ReadableStream,ey=new TextEncoder("utf-8");let Response=class Response{static error(){let Q={settingsObject:{}},S=new Response;return S[eA]=makeNetworkError(),S[eh]=Q,S[ec][eE]=S[eA].headersList,S[ec][eu]="immutable",S[ec][eh]=Q,S}static json(Q,S={}){ed.argumentLengthCheck(arguments,1,{header:"Response.json"}),null!==S&&(S=ed.converters.ResponseInit(S));let R=ey.encode(et(Q)),N=U(R),M={settingsObject:{}},L=new Response;return L[eh]=M,L[ec][eu]="response",L[ec][eh]=M,initializeResponse(L,S,{body:N[0],type:"application/json"}),L}static redirect(Q,S=302){let R;let N={settingsObject:{}};ed.argumentLengthCheck(arguments,1,{header:"Response.redirect"}),Q=ed.converters.USVString(Q),S=ed.converters["unsigned short"](S);try{R=new URL(Q,ep())}catch(S){throw Object.assign(TypeError("Failed to parse URL from "+Q),{cause:S})}if(!es.has(S))throw RangeError("Invalid status code "+S);let M=new Response;M[eh]=N,M[ec][eu]="immutable",M[ec][eh]=N,M[eA].status=S;let L=ei(ef(R));return M[eA].headersList.append("location",L),M}constructor(Q=null,S={}){null!==Q&&(Q=ed.converters.BodyInit(Q)),S=ed.converters.ResponseInit(S),this[eh]={settingsObject:{}},this[eA]=makeResponse({}),this[ec]=new N(em),this[ec][eu]="response",this[ec][eE]=this[eA].headersList,this[ec][eh]=this[eh];let R=null;if(null!=Q){let[S,N]=U(Q);R={body:S,type:N}}initializeResponse(this,S,R)}get type(){return ed.brandCheck(this,Response),this[eA].type}get url(){ed.brandCheck(this,Response);let Q=this[eA].urlList,S=Q[Q.length-1]??null;return null===S?"":ef(S,!0)}get redirected(){return ed.brandCheck(this,Response),this[eA].urlList.length>1}get status(){return ed.brandCheck(this,Response),this[eA].status}get ok(){return ed.brandCheck(this,Response),this[eA].status>=200&&this[eA].status<=299}get statusText(){return ed.brandCheck(this,Response),this[eA].statusText}get headers(){return ed.brandCheck(this,Response),this[ec]}get body(){return ed.brandCheck(this,Response),this[eA].body?this[eA].body.stream:null}get bodyUsed(){return ed.brandCheck(this,Response),!!this[eA].body&&W.isDisturbed(this[eA].body.stream)}clone(){if(ed.brandCheck(this,Response),this.bodyUsed||this.body&&this.body.locked)throw ed.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let Q=cloneResponse(this[eA]),S=new Response;return S[eA]=Q,S[eh]=this[eh],S[ec][eE]=Q.headersList,S[ec][eu]=this[ec][eu],S[ec][eh]=this[ec][eh],S}};function cloneResponse(Q){if(Q.internalResponse)return filterResponse(cloneResponse(Q.internalResponse),Q.type);let S=makeResponse({...Q,body:null});return null!=Q.body&&(S.body=P(Q.body)),S}function makeResponse(Q){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...Q,headersList:Q.headersList?new M(Q.headersList):new M,urlList:Q.urlList?[...Q.urlList]:[]}}function makeNetworkError(Q){let S=en(Q);return makeResponse({type:"error",status:0,error:S?Q:Error(Q?String(Q):Q),aborted:Q&&"AbortError"===Q.name})}function makeFilteredResponse(Q,S){return S={internalResponse:Q,...S},new Proxy(Q,{get:(Q,R)=>R in S?S[R]:Q[R],set:(Q,R,N)=>(eC(!(R in S)),Q[R]=N,!0)})}function filterResponse(Q,S){return"basic"===S?makeFilteredResponse(Q,{type:"basic",headersList:Q.headersList}):"cors"===S?makeFilteredResponse(Q,{type:"cors",headersList:Q.headersList}):"opaque"===S?makeFilteredResponse(Q,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null}):"opaqueredirect"===S?makeFilteredResponse(Q,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null}):void eC(!1)}function makeAppropriateNetworkError(Q,S=null){return eC(Z(Q)),$(Q)?makeNetworkError(Object.assign(new ea("The operation was aborted.","AbortError"),{cause:S})):makeNetworkError(Object.assign(new ea("Request was cancelled."),{cause:S}))}function initializeResponse(Q,S,R){if(null!==S.status&&(S.status<200||S.status>599))throw RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in S&&null!=S.statusText&&!X(String(S.statusText)))throw TypeError("Invalid statusText");if("status"in S&&null!=S.status&&(Q[eA].status=S.status),"statusText"in S&&null!=S.statusText&&(Q[eA].statusText=S.statusText),"headers"in S&&null!=S.headers&&L(Q[ec],S.headers),R){if(eo.includes(Q.status))throw ed.errors.exception({header:"Response constructor",message:"Invalid response status code "+Q.status});Q[eA].body=R.body,null==R.type||Q[eA].headersList.contains("Content-Type")||Q[eA].headersList.append("content-type",R.type)}}Y(Response),Object.defineProperties(Response.prototype,{type:K,url:K,status:K,ok:K,redirected:K,statusText:K,headers:K,clone:K,body:K,bodyUsed:K,[Symbol.toStringTag]:{value:"Response",configurable:!0}}),Object.defineProperties(Response,{json:K,redirect:K,error:K}),ed.converters.ReadableStream=ed.interfaceConverter(eB),ed.converters.FormData=ed.interfaceConverter(eg),ed.converters.URLSearchParams=ed.interfaceConverter(URLSearchParams),ed.converters.XMLHttpRequestBodyInit=function(Q){return"string"==typeof Q?ed.converters.USVString(Q):ee(Q)?ed.converters.Blob(Q,{strict:!1}):eI.isArrayBuffer(Q)||eI.isTypedArray(Q)||eI.isDataView(Q)?ed.converters.BufferSource(Q):W.isFormDataLike(Q)?ed.converters.FormData(Q,{strict:!1}):Q instanceof URLSearchParams?ed.converters.URLSearchParams(Q):ed.converters.DOMString(Q)},ed.converters.BodyInit=function(Q){return Q instanceof eB?ed.converters.ReadableStream(Q):Q?.[Symbol.asyncIterator]?Q:ed.converters.XMLHttpRequestBodyInit(Q)},ed.converters.ResponseInit=ed.dictionaryConverter([{key:"status",converter:ed.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:ed.converters.ByteString,defaultValue:""},{key:"headers",converter:ed.converters.HeadersInit}]),Q.exports={makeNetworkError,makeResponse,makeAppropriateNetworkError,filterResponse,Response,cloneResponse}},16119:Q=>{"use strict";Q.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}},98504:(Q,S,R)=>{"use strict";let N;let{redirectStatusSet:M,referrerPolicySet:L,badPortsSet:U}=R(9499),{getGlobalOrigin:P}=R(98481),{performance:Y}=R(4074),{isBlobLike:W,toUSVString:K,ReadableStreamFrom:X}=R(42964),Z=R(39491),{isUint8Array:$}=R(29830),ee=[];try{N=R(6113);let Q=["sha256","sha384","sha512"];ee=N.getHashes().filter(S=>Q.includes(S))}catch{}function responseURL(Q){let S=Q.urlList,R=S.length;return 0===R?null:S[R-1].toString()}function responseLocationURL(Q,S){if(!M.has(Q.status))return null;let R=Q.headersList.get("location");return null!==R&&isValidHeaderValue(R)&&(R=new URL(R,responseURL(Q))),R&&!R.hash&&(R.hash=S),R}function requestCurrentURL(Q){return Q.urlList[Q.urlList.length-1]}function requestBadPort(Q){let S=requestCurrentURL(Q);return urlIsHttpHttpsScheme(S)&&U.has(S.port)?"blocked":"allowed"}function isErrorLike(Q){return Q instanceof Error||Q?.constructor?.name==="Error"||Q?.constructor?.name==="DOMException"}function isValidReasonPhrase(Q){for(let S=0;S<Q.length;++S){let R=Q.charCodeAt(S);if(!(9===R||R>=32&&R<=126||R>=128&&R<=255))return!1}return!0}function isTokenCharCode(Q){switch(Q){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return Q>=33&&Q<=126}}function isValidHTTPToken(Q){if(0===Q.length)return!1;for(let S=0;S<Q.length;++S)if(!isTokenCharCode(Q.charCodeAt(S)))return!1;return!0}function isValidHeaderName(Q){return isValidHTTPToken(Q)}function isValidHeaderValue(Q){return!(Q.startsWith("	")||Q.startsWith(" ")||Q.endsWith("	")||Q.endsWith(" ")||Q.includes("\x00")||Q.includes("\r")||Q.includes("\n"))}function setRequestReferrerPolicyOnRedirect(Q,S){let{headersList:R}=S,N=(R.get("referrer-policy")??"").split(","),M="";if(N.length>0)for(let Q=N.length;0!==Q;Q--){let S=N[Q-1].trim();if(L.has(S)){M=S;break}}""!==M&&(Q.referrerPolicy=M)}function crossOriginResourcePolicyCheck(){return"allowed"}function corsCheck(){return"success"}function TAOCheck(){return"success"}function appendFetchMetadata(Q){let S=null;S=Q.mode,Q.headersList.set("sec-fetch-mode",S)}function appendRequestOriginHeader(Q){let S=Q.origin;if("cors"===Q.responseTainting||"websocket"===Q.mode)S&&Q.headersList.append("origin",S);else if("GET"!==Q.method&&"HEAD"!==Q.method){switch(Q.referrerPolicy){case"no-referrer":S=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":Q.origin&&urlHasHttpsScheme(Q.origin)&&!urlHasHttpsScheme(requestCurrentURL(Q))&&(S=null);break;case"same-origin":sameOrigin(Q,requestCurrentURL(Q))||(S=null)}S&&Q.headersList.append("origin",S)}}function coarsenedSharedCurrentTime(Q){return Y.now()}function createOpaqueTimingInfo(Q){return{startTime:Q.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:Q.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function makePolicyContainer(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function clonePolicyContainer(Q){return{referrerPolicy:Q.referrerPolicy}}function determineRequestsReferrer(Q){let S=Q.referrerPolicy;Z(S);let R=null;if("client"===Q.referrer){let Q=P();if(!Q||"null"===Q.origin)return"no-referrer";R=new URL(Q)}else Q.referrer instanceof URL&&(R=Q.referrer);let N=stripURLForReferrer(R),M=stripURLForReferrer(R,!0);N.toString().length>4096&&(N=M);let L=sameOrigin(Q,N),U=isURLPotentiallyTrustworthy(N)&&!isURLPotentiallyTrustworthy(Q.url);switch(S){case"origin":return null!=M?M:stripURLForReferrer(R,!0);case"unsafe-url":return N;case"same-origin":return L?M:"no-referrer";case"origin-when-cross-origin":return L?N:M;case"strict-origin-when-cross-origin":{let S=requestCurrentURL(Q);if(sameOrigin(N,S))return N;if(isURLPotentiallyTrustworthy(N)&&!isURLPotentiallyTrustworthy(S))return"no-referrer";return M}default:return U?"no-referrer":M}}function stripURLForReferrer(Q,S){return(Z(Q instanceof URL),"file:"===Q.protocol||"about:"===Q.protocol||"blank:"===Q.protocol)?"no-referrer":(Q.username="",Q.password="",Q.hash="",S&&(Q.pathname="",Q.search=""),Q)}function isURLPotentiallyTrustworthy(Q){if(!(Q instanceof URL))return!1;if("about:blank"===Q.href||"about:srcdoc"===Q.href||"data:"===Q.protocol||"file:"===Q.protocol)return!0;return isOriginPotentiallyTrustworthy(Q.origin);function isOriginPotentiallyTrustworthy(Q){if(null==Q||"null"===Q)return!1;let S=new URL(Q);return!!("https:"===S.protocol||"wss:"===S.protocol||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(S.hostname)||"localhost"===S.hostname||S.hostname.includes("localhost.")||S.hostname.endsWith(".localhost"))}}function bytesMatch(Q,S){if(void 0===N)return!0;let R=parseMetadata(S);if("no metadata"===R||0===R.length)return!0;let M=getStrongestMetadata(R),L=filterMetadataListByAlgorithm(R,M);for(let S of L){let R=S.algo,M=S.hash,L=N.createHash(R).update(Q).digest("base64");if("="===L[L.length-1]&&(L="="===L[L.length-2]?L.slice(0,-2):L.slice(0,-1)),compareBase64Mixed(L,M))return!0}return!1}let et=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function parseMetadata(Q){let S=[],R=!0;for(let N of Q.split(" ")){R=!1;let Q=et.exec(N);if(null===Q||void 0===Q.groups||void 0===Q.groups.algo)continue;let M=Q.groups.algo.toLowerCase();ee.includes(M)&&S.push(Q.groups)}return!0===R?"no metadata":S}function getStrongestMetadata(Q){let S=Q[0].algo;if("5"===S[3])return S;for(let R=1;R<Q.length;++R){let N=Q[R];if("5"===N.algo[3]){S="sha512";break}"3"!==S[3]&&"3"===N.algo[3]&&(S="sha384")}return S}function filterMetadataListByAlgorithm(Q,S){if(1===Q.length)return Q;let R=0;for(let N=0;N<Q.length;++N)Q[N].algo===S&&(Q[R++]=Q[N]);return Q.length=R,Q}function compareBase64Mixed(Q,S){if(Q.length!==S.length)return!1;for(let R=0;R<Q.length;++R)if(Q[R]!==S[R]){if("+"===Q[R]&&"-"===S[R]||"/"===Q[R]&&"_"===S[R])continue;return!1}return!0}function tryUpgradeRequestToAPotentiallyTrustworthyURL(Q){}function sameOrigin(Q,S){return Q.origin===S.origin&&"null"===Q.origin||Q.protocol===S.protocol&&Q.hostname===S.hostname&&Q.port===S.port}function createDeferredPromise(){let Q,S;let R=new Promise((R,N)=>{Q=R,S=N});return{promise:R,resolve:Q,reject:S}}function isAborted(Q){return"aborted"===Q.controller.state}function isCancelled(Q){return"aborted"===Q.controller.state||"terminated"===Q.controller.state}let en={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};function normalizeMethod(Q){return en[Q.toLowerCase()]??Q}function serializeJavascriptValueToJSONString(Q){let S=JSON.stringify(Q);if(void 0===S)throw TypeError("Value is not JSON serializable");return Z("string"==typeof S),S}Object.setPrototypeOf(en,null);let ei=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function makeIterator(Q,S,R){let N={index:0,kind:R,target:Q},M={next(){if(Object.getPrototypeOf(this)!==M)throw TypeError(`'next' called on an object that does not implement interface ${S} Iterator.`);let{index:Q,kind:R,target:L}=N,U=L(),P=U.length;if(Q>=P)return{value:void 0,done:!0};let Y=U[Q];return N.index=Q+1,iteratorResult(Y,R)},[Symbol.toStringTag]:`${S} Iterator`};return Object.setPrototypeOf(M,ei),Object.setPrototypeOf({},M)}function iteratorResult(Q,S){let R;switch(S){case"key":R=Q[0];break;case"value":R=Q[1];break;case"key+value":R=Q}return{value:R,done:!1}}async function fullyReadBody(Q,S,R){let N;let M=S,L=R;try{N=Q.stream.getReader()}catch(Q){L(Q);return}try{let Q=await readAllBytes(N);M(Q)}catch(Q){L(Q)}}let es=globalThis.ReadableStream;function isReadableStreamLike(Q){return es||(es=R(35356).ReadableStream),Q instanceof es||"ReadableStream"===Q[Symbol.toStringTag]&&"function"==typeof Q.tee}let eo=65535;function isomorphicDecode(Q){return Q.length<eo?String.fromCharCode(...Q):Q.reduce((Q,S)=>Q+String.fromCharCode(S),"")}function readableStreamClose(Q){try{Q.close()}catch(Q){if(!Q.message.includes("Controller is already closed"))throw Q}}function isomorphicEncode(Q){for(let S=0;S<Q.length;S++)Z(255>=Q.charCodeAt(S));return Q}async function readAllBytes(Q){let S=[],R=0;for(;;){let{done:N,value:M}=await Q.read();if(N)return Buffer.concat(S,R);if(!$(M))throw TypeError("Received non-Uint8Array chunk");S.push(M),R+=M.length}}function urlIsLocal(Q){Z("protocol"in Q);let S=Q.protocol;return"about:"===S||"blob:"===S||"data:"===S}function urlHasHttpsScheme(Q){return"string"==typeof Q?Q.startsWith("https:"):"https:"===Q.protocol}function urlIsHttpHttpsScheme(Q){Z("protocol"in Q);let S=Q.protocol;return"http:"===S||"https:"===S}let ea=Object.hasOwn||((Q,S)=>Object.prototype.hasOwnProperty.call(Q,S));Q.exports={isAborted,isCancelled,createDeferredPromise,ReadableStreamFrom:X,toUSVString:K,tryUpgradeRequestToAPotentiallyTrustworthyURL,coarsenedSharedCurrentTime,determineRequestsReferrer,makePolicyContainer,clonePolicyContainer,appendFetchMetadata,appendRequestOriginHeader,TAOCheck,corsCheck,crossOriginResourcePolicyCheck,createOpaqueTimingInfo,setRequestReferrerPolicyOnRedirect,isValidHTTPToken,requestBadPort,requestCurrentURL,responseURL,responseLocationURL,isBlobLike:W,isURLPotentiallyTrustworthy,isValidReasonPhrase,sameOrigin,normalizeMethod,serializeJavascriptValueToJSONString,makeIterator,isValidHeaderName,isValidHeaderValue,hasOwn:ea,isErrorLike,fullyReadBody,bytesMatch,isReadableStreamLike,readableStreamClose,isomorphicEncode,isomorphicDecode,urlIsLocal,urlHasHttpsScheme,urlIsHttpHttpsScheme,readAllBytes,normalizeMethodRecord:en,parseMetadata}},52277:(Q,S,R)=>{"use strict";let{types:N}=R(73837),{hasOwn:M,toUSVString:L}=R(98504),U={};U.converters={},U.util={},U.errors={},U.errors.exception=function(Q){return TypeError(`${Q.header}: ${Q.message}`)},U.errors.conversionFailed=function(Q){let S=1===Q.types.length?"":" one of",R=`${Q.argument} could not be converted to${S}: ${Q.types.join(", ")}.`;return U.errors.exception({header:Q.prefix,message:R})},U.errors.invalidArgument=function(Q){return U.errors.exception({header:Q.prefix,message:`"${Q.value}" is an invalid ${Q.type}.`})},U.brandCheck=function(Q,S,R){if(R?.strict===!1||Q instanceof S)return Q?.[Symbol.toStringTag]===S.prototype[Symbol.toStringTag];throw TypeError("Illegal invocation")},U.argumentLengthCheck=function({length:Q},S,R){if(Q<S)throw U.errors.exception({message:`${S} argument${1!==S?"s":""} required, but${Q?" only":""} ${Q} found.`,...R})},U.illegalConstructor=function(){throw U.errors.exception({header:"TypeError",message:"Illegal constructor"})},U.util.Type=function(Q){switch(typeof Q){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":if(null===Q)return"Null";return"Object"}},U.util.ConvertToInt=function(Q,S,R,N={}){let M,L;64===S?(M=9007199254740991,L="unsigned"===R?0:-9007199254740991):"unsigned"===R?(L=0,M=Math.pow(2,S)-1):(L=Math.pow(-2,S)-1,M=Math.pow(2,S-1)-1);let P=Number(Q);if(0===P&&(P=0),!0===N.enforceRange){if(Number.isNaN(P)||P===Number.POSITIVE_INFINITY||P===Number.NEGATIVE_INFINITY)throw U.errors.exception({header:"Integer conversion",message:`Could not convert ${Q} to an integer.`});if((P=U.util.IntegerPart(P))<L||P>M)throw U.errors.exception({header:"Integer conversion",message:`Value must be between ${L}-${M}, got ${P}.`});return P}return Number.isNaN(P)||!0!==N.clamp?Number.isNaN(P)||0===P&&Object.is(0,P)||P===Number.POSITIVE_INFINITY||P===Number.NEGATIVE_INFINITY?0:(P=U.util.IntegerPart(P)%Math.pow(2,S),"signed"===R&&P>=Math.pow(2,S)-1)?P-Math.pow(2,S):P:P=Math.floor(P=Math.min(Math.max(P,L),M))%2==0?Math.floor(P):Math.ceil(P)},U.util.IntegerPart=function(Q){let S=Math.floor(Math.abs(Q));return Q<0?-1*S:S},U.sequenceConverter=function(Q){return S=>{if("Object"!==U.util.Type(S))throw U.errors.exception({header:"Sequence",message:`Value of type ${U.util.Type(S)} is not an Object.`});let R=S?.[Symbol.iterator]?.(),N=[];if(void 0===R||"function"!=typeof R.next)throw U.errors.exception({header:"Sequence",message:"Object is not an iterator."});for(;;){let{done:S,value:M}=R.next();if(S)break;N.push(Q(M))}return N}},U.recordConverter=function(Q,S){return R=>{if("Object"!==U.util.Type(R))throw U.errors.exception({header:"Record",message:`Value of type ${U.util.Type(R)} is not an Object.`});let M={};if(!N.isProxy(R)){let N=Object.keys(R);for(let L of N){let N=Q(L),U=S(R[L]);M[N]=U}return M}let L=Reflect.ownKeys(R);for(let N of L){let L=Reflect.getOwnPropertyDescriptor(R,N);if(L?.enumerable){let L=Q(N),U=S(R[N]);M[L]=U}}return M}},U.interfaceConverter=function(Q){return(S,R={})=>{if(!1!==R.strict&&!(S instanceof Q))throw U.errors.exception({header:Q.name,message:`Expected ${S} to be an instance of ${Q.name}.`});return S}},U.dictionaryConverter=function(Q){return S=>{let R=U.util.Type(S),N={};if("Null"===R||"Undefined"===R)return N;if("Object"!==R)throw U.errors.exception({header:"Dictionary",message:`Expected ${S} to be one of: Null, Undefined, Object.`});for(let R of Q){let{key:Q,defaultValue:L,required:P,converter:Y}=R;if(!0===P&&!M(S,Q))throw U.errors.exception({header:"Dictionary",message:`Missing required key "${Q}".`});let W=S[Q],K=M(R,"defaultValue");if(K&&null!==W&&(W=W??L),P||K||void 0!==W){if(W=Y(W),R.allowedValues&&!R.allowedValues.includes(W))throw U.errors.exception({header:"Dictionary",message:`${W} is not an accepted type. Expected one of ${R.allowedValues.join(", ")}.`});N[Q]=W}}return N}},U.nullableConverter=function(Q){return S=>null===S?S:Q(S)},U.converters.DOMString=function(Q,S={}){if(null===Q&&S.legacyNullToEmptyString)return"";if("symbol"==typeof Q)throw TypeError("Could not convert argument of type symbol to string.");return String(Q)},U.converters.ByteString=function(Q){let S=U.converters.DOMString(Q);for(let Q=0;Q<S.length;Q++)if(S.charCodeAt(Q)>255)throw TypeError(`Cannot convert argument to a ByteString because the character at index ${Q} has a value of ${S.charCodeAt(Q)} which is greater than 255.`);return S},U.converters.USVString=L,U.converters.boolean=function(Q){let S=!!Q;return S},U.converters.any=function(Q){return Q},U.converters["long long"]=function(Q){let S=U.util.ConvertToInt(Q,64,"signed");return S},U.converters["unsigned long long"]=function(Q){let S=U.util.ConvertToInt(Q,64,"unsigned");return S},U.converters["unsigned long"]=function(Q){let S=U.util.ConvertToInt(Q,32,"unsigned");return S},U.converters["unsigned short"]=function(Q,S){let R=U.util.ConvertToInt(Q,16,"unsigned",S);return R},U.converters.ArrayBuffer=function(Q,S={}){if("Object"!==U.util.Type(Q)||!N.isAnyArrayBuffer(Q))throw U.errors.conversionFailed({prefix:`${Q}`,argument:`${Q}`,types:["ArrayBuffer"]});if(!1===S.allowShared&&N.isSharedArrayBuffer(Q))throw U.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return Q},U.converters.TypedArray=function(Q,S,R={}){if("Object"!==U.util.Type(Q)||!N.isTypedArray(Q)||Q.constructor.name!==S.name)throw U.errors.conversionFailed({prefix:`${S.name}`,argument:`${Q}`,types:[S.name]});if(!1===R.allowShared&&N.isSharedArrayBuffer(Q.buffer))throw U.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return Q},U.converters.DataView=function(Q,S={}){if("Object"!==U.util.Type(Q)||!N.isDataView(Q))throw U.errors.exception({header:"DataView",message:"Object is not a DataView."});if(!1===S.allowShared&&N.isSharedArrayBuffer(Q.buffer))throw U.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return Q},U.converters.BufferSource=function(Q,S={}){if(N.isAnyArrayBuffer(Q))return U.converters.ArrayBuffer(Q,S);if(N.isTypedArray(Q))return U.converters.TypedArray(Q,Q.constructor);if(N.isDataView(Q))return U.converters.DataView(Q,S);throw TypeError(`Could not convert ${Q} to a BufferSource.`)},U.converters["sequence<ByteString>"]=U.sequenceConverter(U.converters.ByteString),U.converters["sequence<sequence<ByteString>>"]=U.sequenceConverter(U.converters["sequence<ByteString>"]),U.converters["record<ByteString, ByteString>"]=U.recordConverter(U.converters.ByteString,U.converters.ByteString),Q.exports={webidl:U}},43254:Q=>{"use strict";function getEncoding(Q){if(!Q)return"failure";switch(Q.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}Q.exports={getEncoding}},42713:(Q,S,R)=>{"use strict";let{staticPropertyDescriptors:N,readOperation:M,fireAProgressEvent:L}=R(46402),{kState:U,kError:P,kResult:Y,kEvents:W,kAborted:K}=R(56394),{webidl:X}=R(52277),{kEnumerableProperty:Z}=R(42964);let FileReader=class FileReader extends EventTarget{constructor(){super(),this[U]="empty",this[Y]=null,this[P]=null,this[W]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(Q){X.brandCheck(this,FileReader),X.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"}),M(this,Q=X.converters.Blob(Q,{strict:!1}),"ArrayBuffer")}readAsBinaryString(Q){X.brandCheck(this,FileReader),X.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"}),M(this,Q=X.converters.Blob(Q,{strict:!1}),"BinaryString")}readAsText(Q,S){X.brandCheck(this,FileReader),X.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"}),Q=X.converters.Blob(Q,{strict:!1}),void 0!==S&&(S=X.converters.DOMString(S)),M(this,Q,"Text",S)}readAsDataURL(Q){X.brandCheck(this,FileReader),X.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"}),M(this,Q=X.converters.Blob(Q,{strict:!1}),"DataURL")}abort(){if("empty"===this[U]||"done"===this[U]){this[Y]=null;return}"loading"===this[U]&&(this[U]="done",this[Y]=null),this[K]=!0,L("abort",this),"loading"!==this[U]&&L("loadend",this)}get readyState(){switch(X.brandCheck(this,FileReader),this[U]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return X.brandCheck(this,FileReader),this[Y]}get error(){return X.brandCheck(this,FileReader),this[P]}get onloadend(){return X.brandCheck(this,FileReader),this[W].loadend}set onloadend(Q){X.brandCheck(this,FileReader),this[W].loadend&&this.removeEventListener("loadend",this[W].loadend),"function"==typeof Q?(this[W].loadend=Q,this.addEventListener("loadend",Q)):this[W].loadend=null}get onerror(){return X.brandCheck(this,FileReader),this[W].error}set onerror(Q){X.brandCheck(this,FileReader),this[W].error&&this.removeEventListener("error",this[W].error),"function"==typeof Q?(this[W].error=Q,this.addEventListener("error",Q)):this[W].error=null}get onloadstart(){return X.brandCheck(this,FileReader),this[W].loadstart}set onloadstart(Q){X.brandCheck(this,FileReader),this[W].loadstart&&this.removeEventListener("loadstart",this[W].loadstart),"function"==typeof Q?(this[W].loadstart=Q,this.addEventListener("loadstart",Q)):this[W].loadstart=null}get onprogress(){return X.brandCheck(this,FileReader),this[W].progress}set onprogress(Q){X.brandCheck(this,FileReader),this[W].progress&&this.removeEventListener("progress",this[W].progress),"function"==typeof Q?(this[W].progress=Q,this.addEventListener("progress",Q)):this[W].progress=null}get onload(){return X.brandCheck(this,FileReader),this[W].load}set onload(Q){X.brandCheck(this,FileReader),this[W].load&&this.removeEventListener("load",this[W].load),"function"==typeof Q?(this[W].load=Q,this.addEventListener("load",Q)):this[W].load=null}get onabort(){return X.brandCheck(this,FileReader),this[W].abort}set onabort(Q){X.brandCheck(this,FileReader),this[W].abort&&this.removeEventListener("abort",this[W].abort),"function"==typeof Q?(this[W].abort=Q,this.addEventListener("abort",Q)):this[W].abort=null}};FileReader.EMPTY=FileReader.prototype.EMPTY=0,FileReader.LOADING=FileReader.prototype.LOADING=1,FileReader.DONE=FileReader.prototype.DONE=2,Object.defineProperties(FileReader.prototype,{EMPTY:N,LOADING:N,DONE:N,readAsArrayBuffer:Z,readAsBinaryString:Z,readAsText:Z,readAsDataURL:Z,abort:Z,readyState:Z,result:Z,error:Z,onloadstart:Z,onprogress:Z,onload:Z,onabort:Z,onerror:Z,onloadend:Z,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(FileReader,{EMPTY:N,LOADING:N,DONE:N}),Q.exports={FileReader}},12117:(Q,S,R)=>{"use strict";let{webidl:N}=R(52277),M=Symbol("ProgressEvent state");let ProgressEvent=class ProgressEvent extends Event{constructor(Q,S={}){super(Q=N.converters.DOMString(Q),S=N.converters.ProgressEventInit(S??{})),this[M]={lengthComputable:S.lengthComputable,loaded:S.loaded,total:S.total}}get lengthComputable(){return N.brandCheck(this,ProgressEvent),this[M].lengthComputable}get loaded(){return N.brandCheck(this,ProgressEvent),this[M].loaded}get total(){return N.brandCheck(this,ProgressEvent),this[M].total}};N.converters.ProgressEventInit=N.dictionaryConverter([{key:"lengthComputable",converter:N.converters.boolean,defaultValue:!1},{key:"loaded",converter:N.converters["unsigned long long"],defaultValue:0},{key:"total",converter:N.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:N.converters.boolean,defaultValue:!1},{key:"cancelable",converter:N.converters.boolean,defaultValue:!1},{key:"composed",converter:N.converters.boolean,defaultValue:!1}]),Q.exports={ProgressEvent}},56394:Q=>{"use strict";Q.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}},46402:(Q,S,R)=>{"use strict";let{kState:N,kError:M,kResult:L,kAborted:U,kLastProgressEventFired:P}=R(56394),{ProgressEvent:Y}=R(12117),{getEncoding:W}=R(43254),{DOMException:K}=R(9499),{serializeAMimeType:X,parseMIMEType:Z}=R(13296),{types:$}=R(73837),{StringDecoder:ee}=R(71576),{btoa:et}=R(14300),en={enumerable:!0,writable:!1,configurable:!1};function readOperation(Q,S,R,Y){if("loading"===Q[N])throw new K("Invalid state","InvalidStateError");Q[N]="loading",Q[L]=null,Q[M]=null;let W=S.stream(),X=W.getReader(),Z=[],ee=X.read(),et=!0;(async()=>{for(;!Q[U];)try{let{done:W,value:K}=await ee;if(et&&!Q[U]&&queueMicrotask(()=>{fireAProgressEvent("loadstart",Q)}),et=!1,!W&&$.isUint8Array(K))Z.push(K),(void 0===Q[P]||Date.now()-Q[P]>=50)&&!Q[U]&&(Q[P]=Date.now(),queueMicrotask(()=>{fireAProgressEvent("progress",Q)})),ee=X.read();else if(W){queueMicrotask(()=>{Q[N]="done";try{let N=packageData(Z,R,S.type,Y);if(Q[U])return;Q[L]=N,fireAProgressEvent("load",Q)}catch(S){Q[M]=S,fireAProgressEvent("error",Q)}"loading"!==Q[N]&&fireAProgressEvent("loadend",Q)});break}}catch(S){if(Q[U])return;queueMicrotask(()=>{Q[N]="done",Q[M]=S,fireAProgressEvent("error",Q),"loading"!==Q[N]&&fireAProgressEvent("loadend",Q)});break}})()}function fireAProgressEvent(Q,S){let R=new Y(Q,{bubbles:!1,cancelable:!1});S.dispatchEvent(R)}function packageData(Q,S,R,N){switch(S){case"DataURL":{let S="data:",N=Z(R||"application/octet-stream");"failure"!==N&&(S+=X(N)),S+=";base64,";let M=new ee("latin1");for(let R of Q)S+=et(M.write(R));return S+et(M.end())}case"Text":{let S="failure";if(N&&(S=W(N)),"failure"===S&&R){let Q=Z(R);"failure"!==Q&&(S=W(Q.parameters.get("charset")))}return"failure"===S&&(S="UTF-8"),decode(Q,S)}case"ArrayBuffer":{let S=combineByteSequences(Q);return S.buffer}case"BinaryString":{let S="",R=new ee("latin1");for(let N of Q)S+=R.write(N);return S+R.end()}}}function decode(Q,S){let R=combineByteSequences(Q),N=BOMSniffing(R),M=0;null!==N&&(S=N,M="UTF-8"===N?3:2);let L=R.slice(M);return new TextDecoder(S).decode(L)}function BOMSniffing(Q){let[S,R,N]=Q;return 239===S&&187===R&&191===N?"UTF-8":254===S&&255===R?"UTF-16BE":255===S&&254===R?"UTF-16LE":null}function combineByteSequences(Q){let S=Q.reduce((Q,S)=>Q+S.byteLength,0),R=0;return Q.reduce((Q,S)=>(Q.set(S,R),R+=S.byteLength,Q),new Uint8Array(S))}Q.exports={staticPropertyDescriptors:en,readOperation,fireAProgressEvent}},48258:(Q,S,R)=>{"use strict";let N=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:M}=R(27491),L=R(67682);function setGlobalDispatcher(Q){if(!Q||"function"!=typeof Q.dispatch)throw new M("Argument agent must implement Agent");Object.defineProperty(globalThis,N,{value:Q,writable:!0,enumerable:!1,configurable:!1})}function getGlobalDispatcher(){return globalThis[N]}void 0===getGlobalDispatcher()&&setGlobalDispatcher(new L),Q.exports={setGlobalDispatcher,getGlobalDispatcher}},52814:Q=>{"use strict";Q.exports=class{constructor(Q){this.handler=Q}onConnect(...Q){return this.handler.onConnect(...Q)}onError(...Q){return this.handler.onError(...Q)}onUpgrade(...Q){return this.handler.onUpgrade(...Q)}onHeaders(...Q){return this.handler.onHeaders(...Q)}onData(...Q){return this.handler.onData(...Q)}onComplete(...Q){return this.handler.onComplete(...Q)}onBodySent(...Q){return this.handler.onBodySent(...Q)}}},99809:(Q,S,R)=>{"use strict";let N=R(42964),{kBodyUsed:M}=R(43294),L=R(39491),{InvalidArgumentError:U}=R(27491),P=R(82361),Y=[300,301,302,303,307,308],W=Symbol("body");let BodyAsyncIterable=class BodyAsyncIterable{constructor(Q){this[W]=Q,this[M]=!1}async *[Symbol.asyncIterator](){L(!this[M],"disturbed"),this[M]=!0,yield*this[W]}};let RedirectHandler=class RedirectHandler{constructor(Q,S,R,Y){if(null!=S&&(!Number.isInteger(S)||S<0))throw new U("maxRedirections must be a positive number");N.validateHandler(Y,R.method,R.upgrade),this.dispatch=Q,this.location=null,this.abort=null,this.opts={...R,maxRedirections:0},this.maxRedirections=S,this.handler=Y,this.history=[],N.isStream(this.opts.body)?(0===N.bodyLength(this.opts.body)&&this.opts.body.on("data",function(){L(!1)}),"boolean"!=typeof this.opts.body.readableDidRead&&(this.opts.body[M]=!1,P.prototype.on.call(this.opts.body,"data",function(){this[M]=!0}))):this.opts.body&&"function"==typeof this.opts.body.pipeTo?this.opts.body=new BodyAsyncIterable(this.opts.body):this.opts.body&&"string"!=typeof this.opts.body&&!ArrayBuffer.isView(this.opts.body)&&N.isIterable(this.opts.body)&&(this.opts.body=new BodyAsyncIterable(this.opts.body))}onConnect(Q){this.abort=Q,this.handler.onConnect(Q,{history:this.history})}onUpgrade(Q,S,R){this.handler.onUpgrade(Q,S,R)}onError(Q){this.handler.onError(Q)}onHeaders(Q,S,R,M){if(this.location=this.history.length>=this.maxRedirections||N.isDisturbed(this.opts.body)?null:parseLocation(Q,S),this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(Q,S,R,M);let{origin:L,pathname:U,search:P}=N.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),Y=P?`${U}${P}`:U;this.opts.headers=cleanRequestHeaders(this.opts.headers,303===Q,this.opts.origin!==L),this.opts.path=Y,this.opts.origin=L,this.opts.maxRedirections=0,this.opts.query=null,303===Q&&"HEAD"!==this.opts.method&&(this.opts.method="GET",this.opts.body=null)}onData(Q){if(!this.location)return this.handler.onData(Q)}onComplete(Q){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(Q)}onBodySent(Q){this.handler.onBodySent&&this.handler.onBodySent(Q)}};function parseLocation(Q,S){if(-1===Y.indexOf(Q))return null;for(let Q=0;Q<S.length;Q+=2)if("location"===S[Q].toString().toLowerCase())return S[Q+1]}function shouldRemoveHeader(Q,S,R){if(4===Q.length)return"host"===N.headerNameToString(Q);if(S&&N.headerNameToString(Q).startsWith("content-"))return!0;if(R&&(13===Q.length||6===Q.length||19===Q.length)){let S=N.headerNameToString(Q);return"authorization"===S||"cookie"===S||"proxy-authorization"===S}return!1}function cleanRequestHeaders(Q,S,R){let N=[];if(Array.isArray(Q))for(let M=0;M<Q.length;M+=2)shouldRemoveHeader(Q[M],S,R)||N.push(Q[M],Q[M+1]);else if(Q&&"object"==typeof Q)for(let M of Object.keys(Q))shouldRemoveHeader(M,S,R)||N.push(M,Q[M]);else L(null==Q,"headers must be an object or an array");return N}Q.exports=RedirectHandler},4523:(Q,S,R)=>{let N=R(39491),{kRetryHandlerDefaultRetry:M}=R(43294),{RequestRetryError:L}=R(27491),{isDisturbed:U,parseHeaders:P,parseRangeHeader:Y}=R(42964);function calculateRetryAfterHeader(Q){let S=Date.now(),R=new Date(Q).getTime()-S;return R}let RetryHandler=class RetryHandler{constructor(Q,S){let{retryOptions:R,...N}=Q,{retry:L,maxRetries:U,maxTimeout:P,minTimeout:Y,timeoutFactor:W,methods:K,errorCodes:X,retryAfter:Z,statusCodes:$}=R??{};this.dispatch=S.dispatch,this.handler=S.handler,this.opts=N,this.abort=null,this.aborted=!1,this.retryOpts={retry:L??RetryHandler[M],retryAfter:Z??!0,maxTimeout:P??3e4,timeout:Y??500,timeoutFactor:W??2,maxRetries:U??5,methods:K??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:$??[500,502,503,504,429],errorCodes:X??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE"]},this.retryCount=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(Q=>{this.aborted=!0,this.abort?this.abort(Q):this.reason=Q})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(Q,S,R){this.handler.onUpgrade&&this.handler.onUpgrade(Q,S,R)}onConnect(Q){this.aborted?Q(this.reason):this.abort=Q}onBodySent(Q){if(this.handler.onBodySent)return this.handler.onBodySent(Q)}static[M](Q,{state:S,opts:R},N){let{statusCode:M,code:L,headers:U}=Q,{method:P,retryOptions:Y}=R,{maxRetries:W,timeout:K,maxTimeout:X,timeoutFactor:Z,statusCodes:$,errorCodes:ee,methods:et}=Y,{counter:en,currentTimeout:ei}=S;if(ei=null!=ei&&ei>0?ei:K,L&&"UND_ERR_REQ_RETRY"!==L&&"UND_ERR_SOCKET"!==L&&!ee.includes(L)||Array.isArray(et)&&!et.includes(P)||null!=M&&Array.isArray($)&&!$.includes(M)||en>W){N(Q);return}let es=null!=U&&U["retry-after"];es&&(es=isNaN(es=Number(es))?calculateRetryAfterHeader(es):1e3*es);let eo=es>0?Math.min(es,X):Math.min(ei*Z**en,X);S.currentTimeout=eo,setTimeout(()=>N(null),eo)}onHeaders(Q,S,R,M){let U=P(S);if(this.retryCount+=1,Q>=300)return this.abort(new L("Request failed",Q,{headers:U,count:this.retryCount})),!1;if(null!=this.resume){if(this.resume=null,206!==Q)return!0;let S=Y(U["content-range"]);if(!S)return this.abort(new L("Content-Range mismatch",Q,{headers:U,count:this.retryCount})),!1;if(null!=this.etag&&this.etag!==U.etag)return this.abort(new L("ETag mismatch",Q,{headers:U,count:this.retryCount})),!1;let{start:M,size:P,end:W=P}=S;return N(this.start===M,"content-range mismatch"),N(null==this.end||this.end===W,"content-range mismatch"),this.resume=R,!0}if(null==this.end){if(206===Q){let L=Y(U["content-range"]);if(null==L)return this.handler.onHeaders(Q,S,R,M);let{start:P,size:W,end:K=W}=L;N(null!=P&&Number.isFinite(P)&&this.start!==P,"content-range mismatch"),N(Number.isFinite(P)),N(null!=K&&Number.isFinite(K)&&this.end!==K,"invalid content-length"),this.start=P,this.end=K}if(null==this.end){let Q=U["content-length"];this.end=null!=Q?Number(Q):null}return N(Number.isFinite(this.start)),N(null==this.end||Number.isFinite(this.end),"invalid content-length"),this.resume=R,this.etag=null!=U.etag?U.etag:null,this.handler.onHeaders(Q,S,R,M)}let W=new L("Request failed",Q,{headers:U,count:this.retryCount});return this.abort(W),!1}onData(Q){return this.start+=Q.length,this.handler.onData(Q)}onComplete(Q){return this.retryCount=0,this.handler.onComplete(Q)}onError(Q){if(this.aborted||U(this.opts.body))return this.handler.onError(Q);function onRetry(Q){if(null!=Q||this.aborted||U(this.opts.body))return this.handler.onError(Q);0!==this.start&&(this.opts={...this.opts,headers:{...this.opts.headers,range:`bytes=${this.start}-${this.end??""}`}});try{this.dispatch(this.opts,this)}catch(Q){this.handler.onError(Q)}}this.retryOpts.retry(Q,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:{retryOptions:this.retryOpts,...this.opts}},onRetry.bind(this))}};Q.exports=RetryHandler},4084:(Q,S,R)=>{"use strict";let N=R(99809);function createRedirectInterceptor({maxRedirections:Q}){return S=>function(R,M){let{maxRedirections:L=Q}=R;if(!L)return S(R,M);let U=new N(S,L,R,M);return S(R={...R,maxRedirections:0},U)}}Q.exports=createRedirectInterceptor},27250:(Q,S,R)=>{"use strict";var N,M,L,U,P,Y,W;Object.defineProperty(S,"__esModule",{value:!0}),S.SPECIAL_HEADERS=S.HEADER_STATE=S.MINOR=S.MAJOR=S.CONNECTION_TOKEN_CHARS=S.HEADER_CHARS=S.TOKEN=S.STRICT_TOKEN=S.HEX=S.URL_CHAR=S.STRICT_URL_CHAR=S.USERINFO_CHARS=S.MARK=S.ALPHANUM=S.NUM=S.HEX_MAP=S.NUM_MAP=S.ALPHA=S.FINISH=S.H_METHOD_MAP=S.METHOD_MAP=S.METHODS_RTSP=S.METHODS_ICE=S.METHODS_HTTP=S.METHODS=S.LENIENT_FLAGS=S.FLAGS=S.TYPE=S.ERROR=void 0;let K=R(11859);(function(Q){Q[Q.OK=0]="OK",Q[Q.INTERNAL=1]="INTERNAL",Q[Q.STRICT=2]="STRICT",Q[Q.LF_EXPECTED=3]="LF_EXPECTED",Q[Q.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",Q[Q.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",Q[Q.INVALID_METHOD=6]="INVALID_METHOD",Q[Q.INVALID_URL=7]="INVALID_URL",Q[Q.INVALID_CONSTANT=8]="INVALID_CONSTANT",Q[Q.INVALID_VERSION=9]="INVALID_VERSION",Q[Q.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",Q[Q.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",Q[Q.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",Q[Q.INVALID_STATUS=13]="INVALID_STATUS",Q[Q.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",Q[Q.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",Q[Q.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",Q[Q.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",Q[Q.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",Q[Q.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",Q[Q.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",Q[Q.PAUSED=21]="PAUSED",Q[Q.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",Q[Q.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",Q[Q.USER=24]="USER"})(N=S.ERROR||(S.ERROR={})),function(Q){Q[Q.BOTH=0]="BOTH",Q[Q.REQUEST=1]="REQUEST",Q[Q.RESPONSE=2]="RESPONSE"}(M=S.TYPE||(S.TYPE={})),function(Q){Q[Q.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",Q[Q.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",Q[Q.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",Q[Q.CHUNKED=8]="CHUNKED",Q[Q.UPGRADE=16]="UPGRADE",Q[Q.CONTENT_LENGTH=32]="CONTENT_LENGTH",Q[Q.SKIPBODY=64]="SKIPBODY",Q[Q.TRAILING=128]="TRAILING",Q[Q.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"}(L=S.FLAGS||(S.FLAGS={})),function(Q){Q[Q.HEADERS=1]="HEADERS",Q[Q.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",Q[Q.KEEP_ALIVE=4]="KEEP_ALIVE"}(U=S.LENIENT_FLAGS||(S.LENIENT_FLAGS={})),function(Q){Q[Q.DELETE=0]="DELETE",Q[Q.GET=1]="GET",Q[Q.HEAD=2]="HEAD",Q[Q.POST=3]="POST",Q[Q.PUT=4]="PUT",Q[Q.CONNECT=5]="CONNECT",Q[Q.OPTIONS=6]="OPTIONS",Q[Q.TRACE=7]="TRACE",Q[Q.COPY=8]="COPY",Q[Q.LOCK=9]="LOCK",Q[Q.MKCOL=10]="MKCOL",Q[Q.MOVE=11]="MOVE",Q[Q.PROPFIND=12]="PROPFIND",Q[Q.PROPPATCH=13]="PROPPATCH",Q[Q.SEARCH=14]="SEARCH",Q[Q.UNLOCK=15]="UNLOCK",Q[Q.BIND=16]="BIND",Q[Q.REBIND=17]="REBIND",Q[Q.UNBIND=18]="UNBIND",Q[Q.ACL=19]="ACL",Q[Q.REPORT=20]="REPORT",Q[Q.MKACTIVITY=21]="MKACTIVITY",Q[Q.CHECKOUT=22]="CHECKOUT",Q[Q.MERGE=23]="MERGE",Q[Q["M-SEARCH"]=24]="M-SEARCH",Q[Q.NOTIFY=25]="NOTIFY",Q[Q.SUBSCRIBE=26]="SUBSCRIBE",Q[Q.UNSUBSCRIBE=27]="UNSUBSCRIBE",Q[Q.PATCH=28]="PATCH",Q[Q.PURGE=29]="PURGE",Q[Q.MKCALENDAR=30]="MKCALENDAR",Q[Q.LINK=31]="LINK",Q[Q.UNLINK=32]="UNLINK",Q[Q.SOURCE=33]="SOURCE",Q[Q.PRI=34]="PRI",Q[Q.DESCRIBE=35]="DESCRIBE",Q[Q.ANNOUNCE=36]="ANNOUNCE",Q[Q.SETUP=37]="SETUP",Q[Q.PLAY=38]="PLAY",Q[Q.PAUSE=39]="PAUSE",Q[Q.TEARDOWN=40]="TEARDOWN",Q[Q.GET_PARAMETER=41]="GET_PARAMETER",Q[Q.SET_PARAMETER=42]="SET_PARAMETER",Q[Q.REDIRECT=43]="REDIRECT",Q[Q.RECORD=44]="RECORD",Q[Q.FLUSH=45]="FLUSH"}(P=S.METHODS||(S.METHODS={})),S.METHODS_HTTP=[P.DELETE,P.GET,P.HEAD,P.POST,P.PUT,P.CONNECT,P.OPTIONS,P.TRACE,P.COPY,P.LOCK,P.MKCOL,P.MOVE,P.PROPFIND,P.PROPPATCH,P.SEARCH,P.UNLOCK,P.BIND,P.REBIND,P.UNBIND,P.ACL,P.REPORT,P.MKACTIVITY,P.CHECKOUT,P.MERGE,P["M-SEARCH"],P.NOTIFY,P.SUBSCRIBE,P.UNSUBSCRIBE,P.PATCH,P.PURGE,P.MKCALENDAR,P.LINK,P.UNLINK,P.PRI,P.SOURCE],S.METHODS_ICE=[P.SOURCE],S.METHODS_RTSP=[P.OPTIONS,P.DESCRIBE,P.ANNOUNCE,P.SETUP,P.PLAY,P.PAUSE,P.TEARDOWN,P.GET_PARAMETER,P.SET_PARAMETER,P.REDIRECT,P.RECORD,P.FLUSH,P.GET,P.POST],S.METHOD_MAP=K.enumToMap(P),S.H_METHOD_MAP={},Object.keys(S.METHOD_MAP).forEach(Q=>{/^H/.test(Q)&&(S.H_METHOD_MAP[Q]=S.METHOD_MAP[Q])}),function(Q){Q[Q.SAFE=0]="SAFE",Q[Q.SAFE_WITH_CB=1]="SAFE_WITH_CB",Q[Q.UNSAFE=2]="UNSAFE"}(Y=S.FINISH||(S.FINISH={})),S.ALPHA=[];for(let Q=65;Q<=90;Q++)S.ALPHA.push(String.fromCharCode(Q)),S.ALPHA.push(String.fromCharCode(Q+32));S.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},S.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},S.NUM=["0","1","2","3","4","5","6","7","8","9"],S.ALPHANUM=S.ALPHA.concat(S.NUM),S.MARK=["-","_",".","!","~","*","'","(",")"],S.USERINFO_CHARS=S.ALPHANUM.concat(S.MARK).concat(["%",";",":","&","=","+","$",","]),S.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(S.ALPHANUM),S.URL_CHAR=S.STRICT_URL_CHAR.concat(["	","\f"]);for(let Q=128;Q<=255;Q++)S.URL_CHAR.push(Q);S.HEX=S.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]),S.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(S.ALPHANUM),S.TOKEN=S.STRICT_TOKEN.concat([" "]),S.HEADER_CHARS=["	"];for(let Q=32;Q<=255;Q++)127!==Q&&S.HEADER_CHARS.push(Q);S.CONNECTION_TOKEN_CHARS=S.HEADER_CHARS.filter(Q=>44!==Q),S.MAJOR=S.NUM_MAP,S.MINOR=S.MAJOR,function(Q){Q[Q.GENERAL=0]="GENERAL",Q[Q.CONNECTION=1]="CONNECTION",Q[Q.CONTENT_LENGTH=2]="CONTENT_LENGTH",Q[Q.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",Q[Q.UPGRADE=4]="UPGRADE",Q[Q.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",Q[Q.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",Q[Q.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",Q[Q.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"}(W=S.HEADER_STATE||(S.HEADER_STATE={})),S.SPECIAL_HEADERS={connection:W.CONNECTION,"content-length":W.CONTENT_LENGTH,"proxy-connection":W.CONNECTION,"transfer-encoding":W.TRANSFER_ENCODING,upgrade:W.UPGRADE}},79679:Q=>{Q.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="},16771:Q=>{Q.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="},11859:(Q,S)=>{"use strict";function enumToMap(Q){let S={};return Object.keys(Q).forEach(R=>{let N=Q[R];"number"==typeof N&&(S[R]=N)}),S}Object.defineProperty(S,"__esModule",{value:!0}),S.enumToMap=void 0,S.enumToMap=enumToMap},58484:(Q,S,R)=>{"use strict";let{kClients:N}=R(43294),M=R(67682),{kAgent:L,kMockAgentSet:U,kMockAgentGet:P,kDispatches:Y,kIsMockActive:W,kNetConnect:K,kGetNetConnect:X,kOptions:Z,kFactory:$}=R(3883),ee=R(15638),et=R(51027),{matchValue:en,buildMockOptions:ei}=R(440),{InvalidArgumentError:es,UndiciError:eo}=R(27491),ea=R(65977),eA=R(97714),ec=R(19604);let FakeWeakRef=class FakeWeakRef{constructor(Q){this.value=Q}deref(){return this.value}};let MockAgent=class MockAgent extends ea{constructor(Q){if(super(Q),this[K]=!0,this[W]=!0,Q&&Q.agent&&"function"!=typeof Q.agent.dispatch)throw new es("Argument opts.agent must implement Agent");let S=Q&&Q.agent?Q.agent:new M(Q);this[L]=S,this[N]=S[N],this[Z]=ei(Q)}get(Q){let S=this[P](Q);return S||(S=this[$](Q),this[U](Q,S)),S}dispatch(Q,S){return this.get(Q.origin),this[L].dispatch(Q,S)}async close(){await this[L].close(),this[N].clear()}deactivate(){this[W]=!1}activate(){this[W]=!0}enableNetConnect(Q){if("string"==typeof Q||"function"==typeof Q||Q instanceof RegExp)Array.isArray(this[K])?this[K].push(Q):this[K]=[Q];else if(void 0===Q)this[K]=!0;else throw new es("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[K]=!1}get isMockActive(){return this[W]}[U](Q,S){this[N].set(Q,new FakeWeakRef(S))}[$](Q){let S=Object.assign({agent:this},this[Z]);return this[Z]&&1===this[Z].connections?new ee(Q,S):new et(Q,S)}[P](Q){let S=this[N].get(Q);if(S)return S.deref();if("string"!=typeof Q){let S=this[$]("http://localhost:9999");return this[U](Q,S),S}for(let[S,R]of Array.from(this[N])){let N=R.deref();if(N&&"string"!=typeof S&&en(S,Q)){let S=this[$](Q);return this[U](Q,S),S[Y]=N[Y],S}}}[X](){return this[K]}pendingInterceptors(){let Q=this[N];return Array.from(Q.entries()).flatMap(([Q,S])=>S.deref()[Y].map(S=>({...S,origin:Q}))).filter(({pending:Q})=>Q)}assertNoPendingInterceptors({pendingInterceptorsFormatter:Q=new ec}={}){let S=this.pendingInterceptors();if(0===S.length)return;let R=new eA("interceptor","interceptors").pluralize(S.length);throw new eo(`
${R.count} ${R.noun} ${R.is} pending:

${Q.format(S)}
`.trim())}};Q.exports=MockAgent},15638:(Q,S,R)=>{"use strict";let{promisify:N}=R(73837),M=R(81588),{buildMockDispatch:L}=R(440),{kDispatches:U,kMockAgent:P,kClose:Y,kOriginalClose:W,kOrigin:K,kOriginalDispatch:X,kConnected:Z}=R(3883),{MockInterceptor:$}=R(47902),ee=R(43294),{InvalidArgumentError:et}=R(27491);let MockClient=class MockClient extends M{constructor(Q,S){if(super(Q,S),!S||!S.agent||"function"!=typeof S.agent.dispatch)throw new et("Argument opts.agent must implement Agent");this[P]=S.agent,this[K]=Q,this[U]=[],this[Z]=1,this[X]=this.dispatch,this[W]=this.close.bind(this),this.dispatch=L.call(this),this.close=this[Y]}get[ee.kConnected](){return this[Z]}intercept(Q){return new $(Q,this[U])}async [Y](){await N(this[W])(),this[Z]=0,this[P][ee.kClients].delete(this[K])}};Q.exports=MockClient},41308:(Q,S,R)=>{"use strict";let{UndiciError:N}=R(27491);let MockNotMatchedError=class MockNotMatchedError extends N{constructor(Q){super(Q),Error.captureStackTrace(this,MockNotMatchedError),this.name="MockNotMatchedError",this.message=Q||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};Q.exports={MockNotMatchedError}},47902:(Q,S,R)=>{"use strict";let{getResponseData:N,buildKey:M,addMockDispatch:L}=R(440),{kDispatches:U,kDispatchKey:P,kDefaultHeaders:Y,kDefaultTrailers:W,kContentLength:K,kMockDispatch:X}=R(3883),{InvalidArgumentError:Z}=R(27491),{buildURL:$}=R(42964);let MockScope=class MockScope{constructor(Q){this[X]=Q}delay(Q){if("number"!=typeof Q||!Number.isInteger(Q)||Q<=0)throw new Z("waitInMs must be a valid integer > 0");return this[X].delay=Q,this}persist(){return this[X].persist=!0,this}times(Q){if("number"!=typeof Q||!Number.isInteger(Q)||Q<=0)throw new Z("repeatTimes must be a valid integer > 0");return this[X].times=Q,this}};let MockInterceptor=class MockInterceptor{constructor(Q,S){if("object"!=typeof Q)throw new Z("opts must be an object");if(void 0===Q.path)throw new Z("opts.path must be defined");if(void 0===Q.method&&(Q.method="GET"),"string"==typeof Q.path){if(Q.query)Q.path=$(Q.path,Q.query);else{let S=new URL(Q.path,"data://");Q.path=S.pathname+S.search}}"string"==typeof Q.method&&(Q.method=Q.method.toUpperCase()),this[P]=M(Q),this[U]=S,this[Y]={},this[W]={},this[K]=!1}createMockScopeDispatchData(Q,S,R={}){let M=N(S),L=this[K]?{"content-length":M.length}:{},U={...this[Y],...L,...R.headers},P={...this[W],...R.trailers};return{statusCode:Q,data:S,headers:U,trailers:P}}validateReplyParameters(Q,S,R){if(void 0===Q)throw new Z("statusCode must be defined");if(void 0===S)throw new Z("data must be defined");if("object"!=typeof R)throw new Z("responseOptions must be an object")}reply(Q){if("function"==typeof Q){let wrappedDefaultsCallback=S=>{let R=Q(S);if("object"!=typeof R)throw new Z("reply options callback must return an object");let{statusCode:N,data:M="",responseOptions:L={}}=R;return this.validateReplyParameters(N,M,L),{...this.createMockScopeDispatchData(N,M,L)}},S=L(this[U],this[P],wrappedDefaultsCallback);return new MockScope(S)}let[S,R="",N={}]=[...arguments];this.validateReplyParameters(S,R,N);let M=this.createMockScopeDispatchData(S,R,N),Y=L(this[U],this[P],M);return new MockScope(Y)}replyWithError(Q){if(void 0===Q)throw new Z("error must be defined");let S=L(this[U],this[P],{error:Q});return new MockScope(S)}defaultReplyHeaders(Q){if(void 0===Q)throw new Z("headers must be defined");return this[Y]=Q,this}defaultReplyTrailers(Q){if(void 0===Q)throw new Z("trailers must be defined");return this[W]=Q,this}replyContentLength(){return this[K]=!0,this}};Q.exports.MockInterceptor=MockInterceptor,Q.exports.MockScope=MockScope},51027:(Q,S,R)=>{"use strict";let{promisify:N}=R(73837),M=R(56357),{buildMockDispatch:L}=R(440),{kDispatches:U,kMockAgent:P,kClose:Y,kOriginalClose:W,kOrigin:K,kOriginalDispatch:X,kConnected:Z}=R(3883),{MockInterceptor:$}=R(47902),ee=R(43294),{InvalidArgumentError:et}=R(27491);let MockPool=class MockPool extends M{constructor(Q,S){if(super(Q,S),!S||!S.agent||"function"!=typeof S.agent.dispatch)throw new et("Argument opts.agent must implement Agent");this[P]=S.agent,this[K]=Q,this[U]=[],this[Z]=1,this[X]=this.dispatch,this[W]=this.close.bind(this),this.dispatch=L.call(this),this.close=this[Y]}get[ee.kConnected](){return this[Z]}intercept(Q){return new $(Q,this[U])}async [Y](){await N(this[W])(),this[Z]=0,this[P][ee.kClients].delete(this[K])}};Q.exports=MockPool},3883:Q=>{"use strict";Q.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}},440:(Q,S,R)=>{"use strict";let{MockNotMatchedError:N}=R(41308),{kDispatches:M,kMockAgent:L,kOriginalDispatch:U,kOrigin:P,kGetNetConnect:Y}=R(3883),{buildURL:W,nop:K}=R(42964),{STATUS_CODES:X}=R(13685),{types:{isPromise:Z}}=R(73837);function matchValue(Q,S){return"string"==typeof Q?Q===S:Q instanceof RegExp?Q.test(S):"function"==typeof Q&&!0===Q(S)}function lowerCaseEntries(Q){return Object.fromEntries(Object.entries(Q).map(([Q,S])=>[Q.toLocaleLowerCase(),S]))}function getHeaderByName(Q,S){if(Array.isArray(Q)){for(let R=0;R<Q.length;R+=2)if(Q[R].toLocaleLowerCase()===S.toLocaleLowerCase())return Q[R+1];return}return"function"==typeof Q.get?Q.get(S):lowerCaseEntries(Q)[S.toLocaleLowerCase()]}function buildHeadersFromArray(Q){let S=Q.slice(),R=[];for(let Q=0;Q<S.length;Q+=2)R.push([S[Q],S[Q+1]]);return Object.fromEntries(R)}function matchHeaders(Q,S){if("function"==typeof Q.headers)return Array.isArray(S)&&(S=buildHeadersFromArray(S)),Q.headers(S?lowerCaseEntries(S):{});if(void 0===Q.headers)return!0;if("object"!=typeof S||"object"!=typeof Q.headers)return!1;for(let[R,N]of Object.entries(Q.headers)){let Q=getHeaderByName(S,R);if(!matchValue(N,Q))return!1}return!0}function safeUrl(Q){if("string"!=typeof Q)return Q;let S=Q.split("?");if(2!==S.length)return Q;let R=new URLSearchParams(S.pop());return R.sort(),[...S,R.toString()].join("?")}function matchKey(Q,{path:S,method:R,body:N,headers:M}){let L=matchValue(Q.path,S),U=matchValue(Q.method,R),P=void 0===Q.body||matchValue(Q.body,N),Y=matchHeaders(Q,M);return L&&U&&P&&Y}function getResponseData(Q){return Buffer.isBuffer(Q)?Q:"object"==typeof Q?JSON.stringify(Q):Q.toString()}function getMockDispatch(Q,S){let R=S.query?W(S.path,S.query):S.path,M="string"==typeof R?safeUrl(R):R,L=Q.filter(({consumed:Q})=>!Q).filter(({path:Q})=>matchValue(safeUrl(Q),M));if(0===L.length)throw new N(`Mock dispatch not matched for path '${M}'`);if(0===(L=L.filter(({method:Q})=>matchValue(Q,S.method))).length)throw new N(`Mock dispatch not matched for method '${S.method}'`);if(0===(L=L.filter(({body:Q})=>void 0===Q||matchValue(Q,S.body))).length)throw new N(`Mock dispatch not matched for body '${S.body}'`);if(0===(L=L.filter(Q=>matchHeaders(Q,S.headers))).length)throw new N(`Mock dispatch not matched for headers '${"object"==typeof S.headers?JSON.stringify(S.headers):S.headers}'`);return L[0]}function addMockDispatch(Q,S,R){let N={timesInvoked:0,times:1,persist:!1,consumed:!1},M="function"==typeof R?{callback:R}:{...R},L={...N,...S,pending:!0,data:{error:null,...M}};return Q.push(L),L}function deleteMockDispatch(Q,S){let R=Q.findIndex(Q=>!!Q.consumed&&matchKey(Q,S));-1!==R&&Q.splice(R,1)}function buildKey(Q){let{path:S,method:R,body:N,headers:M,query:L}=Q;return{path:S,method:R,body:N,headers:M,query:L}}function generateKeyValues(Q){return Object.entries(Q).reduce((Q,[S,R])=>[...Q,Buffer.from(`${S}`),Array.isArray(R)?R.map(Q=>Buffer.from(`${Q}`)):Buffer.from(`${R}`)],[])}function getStatusText(Q){return X[Q]||"unknown"}async function getResponse(Q){let S=[];for await(let R of Q)S.push(R);return Buffer.concat(S).toString("utf8")}function mockDispatch(Q,S){let R=buildKey(Q),N=getMockDispatch(this[M],R);N.timesInvoked++,N.data.callback&&(N.data={...N.data,...N.data.callback(Q)});let{data:{statusCode:L,data:U,headers:P,trailers:Y,error:W},delay:X,persist:$}=N,{timesInvoked:ee,times:et}=N;if(N.consumed=!$&&ee>=et,N.pending=ee<et,null!==W)return deleteMockDispatch(this[M],R),S.onError(W),!0;function handleReply(N,M=U){let W=Array.isArray(Q.headers)?buildHeadersFromArray(Q.headers):Q.headers,X="function"==typeof M?M({...Q,headers:W}):M;if(Z(X)){X.then(Q=>handleReply(N,Q));return}let $=getResponseData(X),ee=generateKeyValues(P),et=generateKeyValues(Y);S.abort=K,S.onHeaders(L,ee,resume,getStatusText(L)),S.onData(Buffer.from($)),S.onComplete(et),deleteMockDispatch(N,R)}function resume(){}return"number"==typeof X&&X>0?setTimeout(()=>{handleReply(this[M])},X):handleReply(this[M]),!0}function buildMockDispatch(){let Q=this[L],S=this[P],R=this[U];return function(M,L){if(Q.isMockActive)try{mockDispatch.call(this,M,L)}catch(U){if(U instanceof N){let P=Q[Y]();if(!1===P)throw new N(`${U.message}: subsequent request to origin ${S} was not allowed (net.connect disabled)`);if(checkNetConnect(P,S))R.call(this,M,L);else throw new N(`${U.message}: subsequent request to origin ${S} was not allowed (net.connect is not enabled for this origin)`)}else throw U}else R.call(this,M,L)}}function checkNetConnect(Q,S){let R=new URL(S);return!0===Q||!!(Array.isArray(Q)&&Q.some(Q=>matchValue(Q,R.host)))}function buildMockOptions(Q){if(Q){let{agent:S,...R}=Q;return R}}Q.exports={getResponseData,getMockDispatch,addMockDispatch,deleteMockDispatch,buildKey,generateKeyValues,matchValue,getResponse,getStatusText,mockDispatch,buildMockDispatch,checkNetConnect,buildMockOptions,getHeaderByName}},19604:(Q,S,R)=>{"use strict";let{Transform:N}=R(12781),{Console:M}=R(96206);Q.exports=class{constructor({disableColors:Q}={}){this.transform=new N({transform(Q,S,R){R(null,Q)}}),this.logger=new M({stdout:this.transform,inspectOptions:{colors:!Q&&!process.env.CI}})}format(Q){let S=Q.map(({method:Q,path:S,data:{statusCode:R},persist:N,times:M,timesInvoked:L,origin:U})=>({Method:Q,Origin:U,Path:S,"Status code":R,Persistent:N?"":"",Invocations:L,Remaining:N?1/0:M-L}));return this.logger.table(S),this.transform.read().toString()}}},97714:Q=>{"use strict";let S={pronoun:"it",is:"is",was:"was",this:"this"},R={pronoun:"they",is:"are",was:"were",this:"these"};Q.exports=class{constructor(Q,S){this.singular=Q,this.plural=S}pluralize(Q){let N=1===Q,M=N?S:R,L=N?this.singular:this.plural;return{...M,count:Q,noun:L}}}},3260:Q=>{"use strict";let S=2048,R=S-1;let FixedCircularBuffer=class FixedCircularBuffer{constructor(){this.bottom=0,this.top=0,this.list=Array(S),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&R)===this.bottom}push(Q){this.list[this.top]=Q,this.top=this.top+1&R}shift(){let Q=this.list[this.bottom];return void 0===Q?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&R,Q)}};Q.exports=class{constructor(){this.head=this.tail=new FixedCircularBuffer}isEmpty(){return this.head.isEmpty()}push(Q){this.head.isFull()&&(this.head=this.head.next=new FixedCircularBuffer),this.head.push(Q)}shift(){let Q=this.tail,S=Q.shift();return Q.isEmpty()&&null!==Q.next&&(this.tail=Q.next),S}}},45621:(Q,S,R)=>{"use strict";let N=R(82216),M=R(3260),{kConnected:L,kSize:U,kRunning:P,kPending:Y,kQueued:W,kBusy:K,kFree:X,kUrl:Z,kClose:$,kDestroy:ee,kDispatch:et}=R(43294),en=R(59616),ei=Symbol("clients"),es=Symbol("needDrain"),eo=Symbol("queue"),ea=Symbol("closed resolve"),eA=Symbol("onDrain"),ec=Symbol("onConnect"),eu=Symbol("onDisconnect"),eh=Symbol("onConnectionError"),ed=Symbol("get dispatcher"),eg=Symbol("add client"),ep=Symbol("remove client"),ef=Symbol("stats");let PoolBase=class PoolBase extends N{constructor(){super(),this[eo]=new M,this[ei]=[],this[W]=0;let Q=this;this[eA]=function(S,R){let N=Q[eo],M=!1;for(;!M;){let S=N.shift();if(!S)break;Q[W]--,M=!this.dispatch(S.opts,S.handler)}this[es]=M,!this[es]&&Q[es]&&(Q[es]=!1,Q.emit("drain",S,[Q,...R])),Q[ea]&&N.isEmpty()&&Promise.all(Q[ei].map(Q=>Q.close())).then(Q[ea])},this[ec]=(S,R)=>{Q.emit("connect",S,[Q,...R])},this[eu]=(S,R,N)=>{Q.emit("disconnect",S,[Q,...R],N)},this[eh]=(S,R,N)=>{Q.emit("connectionError",S,[Q,...R],N)},this[ef]=new en(this)}get[K](){return this[es]}get[L](){return this[ei].filter(Q=>Q[L]).length}get[X](){return this[ei].filter(Q=>Q[L]&&!Q[es]).length}get[Y](){let Q=this[W];for(let{[Y]:S}of this[ei])Q+=S;return Q}get[P](){let Q=0;for(let{[P]:S}of this[ei])Q+=S;return Q}get[U](){let Q=this[W];for(let{[U]:S}of this[ei])Q+=S;return Q}get stats(){return this[ef]}async [$](){return this[eo].isEmpty()?Promise.all(this[ei].map(Q=>Q.close())):new Promise(Q=>{this[ea]=Q})}async [ee](Q){for(;;){let S=this[eo].shift();if(!S)break;S.handler.onError(Q)}return Promise.all(this[ei].map(S=>S.destroy(Q)))}[et](Q,S){let R=this[ed]();return R?R.dispatch(Q,S)||(R[es]=!0,this[es]=!this[ed]()):(this[es]=!0,this[eo].push({opts:Q,handler:S}),this[W]++),!this[es]}[eg](Q){return Q.on("drain",this[eA]).on("connect",this[ec]).on("disconnect",this[eu]).on("connectionError",this[eh]),this[ei].push(Q),this[es]&&process.nextTick(()=>{this[es]&&this[eA](Q[Z],[this,Q])}),this}[ep](Q){Q.close(()=>{let S=this[ei].indexOf(Q);-1!==S&&this[ei].splice(S,1)}),this[es]=this[ei].some(Q=>!Q[es]&&!0!==Q.closed&&!0!==Q.destroyed)}};Q.exports={PoolBase,kClients:ei,kNeedDrain:es,kAddClient:eg,kRemoveClient:ep,kGetDispatcher:ed}},59616:(Q,S,R)=>{let{kFree:N,kConnected:M,kPending:L,kQueued:U,kRunning:P,kSize:Y}=R(43294),W=Symbol("pool");let PoolStats=class PoolStats{constructor(Q){this[W]=Q}get connected(){return this[W][M]}get free(){return this[W][N]}get pending(){return this[W][L]}get queued(){return this[W][U]}get running(){return this[W][P]}get size(){return this[W][Y]}};Q.exports=PoolStats},56357:(Q,S,R)=>{"use strict";let{PoolBase:N,kClients:M,kNeedDrain:L,kAddClient:U,kGetDispatcher:P}=R(45621),Y=R(81588),{InvalidArgumentError:W}=R(27491),K=R(42964),{kUrl:X,kInterceptors:Z}=R(43294),$=R(55536),ee=Symbol("options"),et=Symbol("connections"),en=Symbol("factory");function defaultFactory(Q,S){return new Y(Q,S)}let Pool=class Pool extends N{constructor(Q,{connections:S,factory:R=defaultFactory,connect:N,connectTimeout:M,tls:L,maxCachedSessions:U,socketPath:P,autoSelectFamily:Y,autoSelectFamilyAttemptTimeout:ei,allowH2:es,...eo}={}){if(super(),null!=S&&(!Number.isFinite(S)||S<0))throw new W("invalid connections");if("function"!=typeof R)throw new W("factory must be a function.");if(null!=N&&"function"!=typeof N&&"object"!=typeof N)throw new W("connect must be a function or an object");"function"!=typeof N&&(N=$({...L,maxCachedSessions:U,allowH2:es,socketPath:P,timeout:M,...K.nodeHasAutoSelectFamily&&Y?{autoSelectFamily:Y,autoSelectFamilyAttemptTimeout:ei}:void 0,...N})),this[Z]=eo.interceptors&&eo.interceptors.Pool&&Array.isArray(eo.interceptors.Pool)?eo.interceptors.Pool:[],this[et]=S||null,this[X]=K.parseOrigin(Q),this[ee]={...K.deepClone(eo),connect:N,allowH2:es},this[ee].interceptors=eo.interceptors?{...eo.interceptors}:void 0,this[en]=R}[P](){let Q=this[M].find(Q=>!Q[L]);return Q||(!this[et]||this[M].length<this[et])&&(Q=this[en](this[X],this[ee]),this[U](Q)),Q}};Q.exports=Pool},81854:(Q,S,R)=>{"use strict";let{kProxy:N,kClose:M,kDestroy:L,kInterceptors:U}=R(43294),{URL:P}=R(57310),Y=R(67682),W=R(56357),K=R(82216),{InvalidArgumentError:X,RequestAbortedError:Z}=R(27491),$=R(55536),ee=Symbol("proxy agent"),et=Symbol("proxy client"),en=Symbol("proxy headers"),ei=Symbol("request tls settings"),es=Symbol("proxy tls settings"),eo=Symbol("connect endpoint function");function defaultProtocolPort(Q){return"https:"===Q?443:80}function buildProxyOptions(Q){if("string"==typeof Q&&(Q={uri:Q}),!Q||!Q.uri)throw new X("Proxy opts.uri is mandatory");return{uri:Q.uri,protocol:Q.protocol||"https"}}function defaultFactory(Q,S){return new W(Q,S)}let ProxyAgent=class ProxyAgent extends K{constructor(Q){if(super(Q),this[N]=buildProxyOptions(Q),this[ee]=new Y(Q),this[U]=Q.interceptors&&Q.interceptors.ProxyAgent&&Array.isArray(Q.interceptors.ProxyAgent)?Q.interceptors.ProxyAgent:[],"string"==typeof Q&&(Q={uri:Q}),!Q||!Q.uri)throw new X("Proxy opts.uri is mandatory");let{clientFactory:S=defaultFactory}=Q;if("function"!=typeof S)throw new X("Proxy opts.clientFactory must be a function.");this[ei]=Q.requestTls,this[es]=Q.proxyTls,this[en]=Q.headers||{};let R=new P(Q.uri),{origin:M,port:L,host:W,username:K,password:ea}=R;if(Q.auth&&Q.token)throw new X("opts.auth cannot be used in combination with opts.token");Q.auth?this[en]["proxy-authorization"]=`Basic ${Q.auth}`:Q.token?this[en]["proxy-authorization"]=Q.token:K&&ea&&(this[en]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(K)}:${decodeURIComponent(ea)}`).toString("base64")}`);let eA=$({...Q.proxyTls});this[eo]=$({...Q.requestTls}),this[et]=S(R,{connect:eA}),this[ee]=new Y({...Q,connect:async(Q,S)=>{let R=Q.host;Q.port||(R+=`:${defaultProtocolPort(Q.protocol)}`);try{let N;let{socket:U,statusCode:P}=await this[et].connect({origin:M,port:L,path:R,signal:Q.signal,headers:{...this[en],host:W}});if(200!==P&&(U.on("error",()=>{}).destroy(),S(new Z(`Proxy response (${P}) !== 200 when HTTP Tunneling`))),"https:"!==Q.protocol){S(null,U);return}N=this[ei]?this[ei].servername:Q.servername,this[eo]({...Q,servername:N,httpSocket:U},S)}catch(Q){S(Q)}}})}dispatch(Q,S){let{host:R}=new P(Q.origin),N=buildHeaders(Q.headers);return throwIfProxyAuthIsSent(N),this[ee].dispatch({...Q,headers:{...N,host:R}},S)}async [M](){await this[ee].close(),await this[et].close()}async [L](){await this[ee].destroy(),await this[et].destroy()}};function buildHeaders(Q){if(Array.isArray(Q)){let S={};for(let R=0;R<Q.length;R+=2)S[Q[R]]=Q[R+1];return S}return Q}function throwIfProxyAuthIsSent(Q){let S=Q&&Object.keys(Q).find(Q=>"proxy-authorization"===Q.toLowerCase());if(S)throw new X("Proxy-Authorization should be sent in ProxyAgent constructor")}Q.exports=ProxyAgent},33286:Q=>{"use strict";let S;let R=Date.now(),N=[];function onTimeout(){R=Date.now();let Q=N.length,S=0;for(;S<Q;){let M=N[S];0===M.state?M.state=R+M.delay:M.state>0&&R>=M.state&&(M.state=-1,M.callback(M.opaque)),-1===M.state?(M.state=-2,S!==Q-1?N[S]=N.pop():N.pop(),Q-=1):S+=1}N.length>0&&refreshTimeout()}function refreshTimeout(){S&&S.refresh?S.refresh():(clearTimeout(S),(S=setTimeout(onTimeout,1e3)).unref&&S.unref())}let Timeout=class Timeout{constructor(Q,S,R){this.callback=Q,this.delay=S,this.opaque=R,this.state=-2,this.refresh()}refresh(){-2!==this.state||(N.push(this),S&&1!==N.length||refreshTimeout()),this.state=0}clear(){this.state=-1}};Q.exports={setTimeout:(Q,S,R)=>S<1e3?setTimeout(Q,S,R):new Timeout(Q,S,R),clearTimeout(Q){Q instanceof Timeout?Q.clear():clearTimeout(Q)}}},21667:(Q,S,R)=>{"use strict";let N;let M=R(67643),{uid:L,states:U}=R(41462),{kReadyState:P,kSentClose:Y,kByteParser:W,kReceivedClose:K}=R(52507),{fireEvent:X,failWebsocketConnection:Z}=R(49775),{CloseEvent:$}=R(81407),{makeRequest:ee}=R(72110),{fetching:et}=R(99762),{Headers:en}=R(58380),{getGlobalDispatcher:ei}=R(48258),{kHeadersList:es}=R(43294),eo={};eo.open=M.channel("undici:websocket:open"),eo.close=M.channel("undici:websocket:close"),eo.socketError=M.channel("undici:websocket:socket_error");try{N=R(6113)}catch{}function establishWebSocketConnection(Q,S,R,M,U){let P=Q;P.protocol="ws:"===Q.protocol?"http:":"https:";let Y=ee({urlList:[P],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(U.headers){let Q=new en(U.headers)[es];Y.headersList=Q}let W=N.randomBytes(16).toString("base64");for(let Q of(Y.headersList.append("sec-websocket-key",W),Y.headersList.append("sec-websocket-version","13"),S))Y.headersList.append("sec-websocket-protocol",Q);let K="",X=et({request:Y,useParallelQueue:!0,dispatcher:U.dispatcher??ei(),processResponse(Q){if("error"===Q.type||101!==Q.status){Z(R,"Received network error or non-101 status code.");return}if(0!==S.length&&!Q.headersList.get("Sec-WebSocket-Protocol")){Z(R,"Server did not respond with sent protocols.");return}if(Q.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){Z(R,'Server did not set Upgrade header to "websocket".');return}if(Q.headersList.get("Connection")?.toLowerCase()!=="upgrade"){Z(R,'Server did not set Connection header to "upgrade".');return}let U=Q.headersList.get("Sec-WebSocket-Accept"),P=N.createHash("sha1").update(W+L).digest("base64");if(U!==P){Z(R,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let X=Q.headersList.get("Sec-WebSocket-Extensions");if(null!==X&&X!==K){Z(R,"Received different permessage-deflate than the one set.");return}let $=Q.headersList.get("Sec-WebSocket-Protocol");if(null!==$&&$!==Y.headersList.get("Sec-WebSocket-Protocol")){Z(R,"Protocol was not set in the opening handshake.");return}Q.socket.on("data",onSocketData),Q.socket.on("close",onSocketClose),Q.socket.on("error",onSocketError),eo.open.hasSubscribers&&eo.open.publish({address:Q.socket.address(),protocol:$,extensions:X}),M(Q)}});return X}function onSocketData(Q){this.ws[W].write(Q)||this.pause()}function onSocketClose(){let{ws:Q}=this,S=Q[Y]&&Q[K],R=1005,N="",M=Q[W].closingInfo;M?(R=M.code??1005,N=M.reason):Q[Y]||(R=1006),Q[P]=U.CLOSED,X("close",Q,$,{wasClean:S,code:R,reason:N}),eo.close.hasSubscribers&&eo.close.publish({websocket:Q,code:R,reason:N})}function onSocketError(Q){let{ws:S}=this;S[P]=U.CLOSING,eo.socketError.hasSubscribers&&eo.socketError.publish(Q),this.destroy()}Q.exports={establishWebSocketConnection}},41462:Q=>{"use strict";let S="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",R={enumerable:!0,writable:!1,configurable:!1},N={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},M={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},L=65535,U={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},P=Buffer.allocUnsafe(0);Q.exports={uid:S,staticPropertyDescriptors:R,states:N,opcodes:M,maxUnsigned16Bit:L,parserStates:U,emptyBuffer:P}},81407:(Q,S,R)=>{"use strict";let{webidl:N}=R(52277),{kEnumerableProperty:M}=R(42964),{MessagePort:L}=R(71267);let MessageEvent=class MessageEvent extends Event{#s;constructor(Q,S={}){N.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"}),super(Q=N.converters.DOMString(Q),S=N.converters.MessageEventInit(S)),this.#s=S}get data(){return N.brandCheck(this,MessageEvent),this.#s.data}get origin(){return N.brandCheck(this,MessageEvent),this.#s.origin}get lastEventId(){return N.brandCheck(this,MessageEvent),this.#s.lastEventId}get source(){return N.brandCheck(this,MessageEvent),this.#s.source}get ports(){return N.brandCheck(this,MessageEvent),Object.isFrozen(this.#s.ports)||Object.freeze(this.#s.ports),this.#s.ports}initMessageEvent(Q,S=!1,R=!1,M=null,L="",U="",P=null,Y=[]){return N.brandCheck(this,MessageEvent),N.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"}),new MessageEvent(Q,{bubbles:S,cancelable:R,data:M,origin:L,lastEventId:U,source:P,ports:Y})}};let CloseEvent=class CloseEvent extends Event{#s;constructor(Q,S={}){N.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"}),super(Q=N.converters.DOMString(Q),S=N.converters.CloseEventInit(S)),this.#s=S}get wasClean(){return N.brandCheck(this,CloseEvent),this.#s.wasClean}get code(){return N.brandCheck(this,CloseEvent),this.#s.code}get reason(){return N.brandCheck(this,CloseEvent),this.#s.reason}};let ErrorEvent=class ErrorEvent extends Event{#s;constructor(Q,S){N.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"}),super(Q,S),Q=N.converters.DOMString(Q),S=N.converters.ErrorEventInit(S??{}),this.#s=S}get message(){return N.brandCheck(this,ErrorEvent),this.#s.message}get filename(){return N.brandCheck(this,ErrorEvent),this.#s.filename}get lineno(){return N.brandCheck(this,ErrorEvent),this.#s.lineno}get colno(){return N.brandCheck(this,ErrorEvent),this.#s.colno}get error(){return N.brandCheck(this,ErrorEvent),this.#s.error}};Object.defineProperties(MessageEvent.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:M,origin:M,lastEventId:M,source:M,ports:M,initMessageEvent:M}),Object.defineProperties(CloseEvent.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:M,code:M,wasClean:M}),Object.defineProperties(ErrorEvent.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:M,filename:M,lineno:M,colno:M,error:M}),N.converters.MessagePort=N.interfaceConverter(L),N.converters["sequence<MessagePort>"]=N.sequenceConverter(N.converters.MessagePort);let U=[{key:"bubbles",converter:N.converters.boolean,defaultValue:!1},{key:"cancelable",converter:N.converters.boolean,defaultValue:!1},{key:"composed",converter:N.converters.boolean,defaultValue:!1}];N.converters.MessageEventInit=N.dictionaryConverter([...U,{key:"data",converter:N.converters.any,defaultValue:null},{key:"origin",converter:N.converters.USVString,defaultValue:""},{key:"lastEventId",converter:N.converters.DOMString,defaultValue:""},{key:"source",converter:N.nullableConverter(N.converters.MessagePort),defaultValue:null},{key:"ports",converter:N.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]),N.converters.CloseEventInit=N.dictionaryConverter([...U,{key:"wasClean",converter:N.converters.boolean,defaultValue:!1},{key:"code",converter:N.converters["unsigned short"],defaultValue:0},{key:"reason",converter:N.converters.USVString,defaultValue:""}]),N.converters.ErrorEventInit=N.dictionaryConverter([...U,{key:"message",converter:N.converters.DOMString,defaultValue:""},{key:"filename",converter:N.converters.USVString,defaultValue:""},{key:"lineno",converter:N.converters["unsigned long"],defaultValue:0},{key:"colno",converter:N.converters["unsigned long"],defaultValue:0},{key:"error",converter:N.converters.any}]),Q.exports={MessageEvent,CloseEvent,ErrorEvent}},18441:(Q,S,R)=>{"use strict";let N;let{maxUnsigned16Bit:M}=R(41462);try{N=R(6113)}catch{}let WebsocketFrameSend=class WebsocketFrameSend{constructor(Q){this.frameData=Q,this.maskKey=N.randomBytes(4)}createFrame(Q){let S=this.frameData?.byteLength??0,R=S,N=6;S>M?(N+=8,R=127):S>125&&(N+=2,R=126);let L=Buffer.allocUnsafe(S+N);L[0]=L[1]=0,L[0]|=128,L[0]=(240&L[0])+Q,/*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */L[N-4]=this.maskKey[0],L[N-3]=this.maskKey[1],L[N-2]=this.maskKey[2],L[N-1]=this.maskKey[3],L[1]=R,126===R?L.writeUInt16BE(S,2):127===R&&(L[2]=L[3]=0,L.writeUIntBE(S,4,6)),L[1]|=128;for(let Q=0;Q<S;Q++)L[N+Q]=this.frameData[Q]^this.maskKey[Q%4];return L}};Q.exports={WebsocketFrameSend}},71936:(Q,S,R)=>{"use strict";let{Writable:N}=R(12781),M=R(67643),{parserStates:L,opcodes:U,states:P,emptyBuffer:Y}=R(41462),{kReadyState:W,kSentClose:K,kResponse:X,kReceivedClose:Z}=R(52507),{isValidStatusCode:$,failWebsocketConnection:ee,websocketMessageReceived:et}=R(49775),{WebsocketFrameSend:en}=R(18441),ei={};ei.ping=M.channel("undici:websocket:ping"),ei.pong=M.channel("undici:websocket:pong");let ByteParser=class ByteParser extends N{#o=[];#a=0;#A=L.INFO;#l={};#c=[];constructor(Q){super(),this.ws=Q}_write(Q,S,R){this.#o.push(Q),this.#a+=Q.length,this.run(R)}run(Q){for(;;){if(this.#A===L.INFO){if(this.#a<2)return Q();let S=this.consume(2);if(this.#l.fin=(128&S[0])!=0,this.#l.opcode=15&S[0],this.#l.originalOpcode??=this.#l.opcode,this.#l.fragmented=!this.#l.fin&&this.#l.opcode!==U.CONTINUATION,this.#l.fragmented&&this.#l.opcode!==U.BINARY&&this.#l.opcode!==U.TEXT){ee(this.ws,"Invalid frame type was fragmented.");return}let R=127&S[1];if(R<=125?(this.#l.payloadLength=R,this.#A=L.READ_DATA):126===R?this.#A=L.PAYLOADLENGTH_16:127===R&&(this.#A=L.PAYLOADLENGTH_64),this.#l.fragmented&&R>125){ee(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((this.#l.opcode===U.PING||this.#l.opcode===U.PONG||this.#l.opcode===U.CLOSE)&&R>125){ee(this.ws,"Payload length for control frame exceeded 125 bytes.");return}if(this.#l.opcode===U.CLOSE){if(1===R){ee(this.ws,"Received close frame with a 1-byte body.");return}let Q=this.consume(R);if(this.#l.closeInfo=this.parseCloseBody(!1,Q),!this.ws[K]){let Q=Buffer.allocUnsafe(2);Q.writeUInt16BE(this.#l.closeInfo.code,0);let S=new en(Q);this.ws[X].socket.write(S.createFrame(U.CLOSE),Q=>{Q||(this.ws[K]=!0)})}this.ws[W]=P.CLOSING,this.ws[Z]=!0,this.end();return}if(this.#l.opcode===U.PING){let S=this.consume(R);if(!this.ws[Z]){let Q=new en(S);this.ws[X].socket.write(Q.createFrame(U.PONG)),ei.ping.hasSubscribers&&ei.ping.publish({payload:S})}if(this.#A=L.INFO,this.#a>0)continue;Q();return}else if(this.#l.opcode===U.PONG){let S=this.consume(R);if(ei.pong.hasSubscribers&&ei.pong.publish({payload:S}),this.#a>0)continue;Q();return}}else if(this.#A===L.PAYLOADLENGTH_16){if(this.#a<2)return Q();let S=this.consume(2);this.#l.payloadLength=S.readUInt16BE(0),this.#A=L.READ_DATA}else if(this.#A===L.PAYLOADLENGTH_64){if(this.#a<8)return Q();let S=this.consume(8),R=S.readUInt32BE(0);if(R>2147483648-1){ee(this.ws,"Received payload length > 2^31 bytes.");return}let N=S.readUInt32BE(4);this.#l.payloadLength=(R<<8)+N,this.#A=L.READ_DATA}else if(this.#A===L.READ_DATA){if(this.#a<this.#l.payloadLength)return Q();if(this.#a>=this.#l.payloadLength){let Q=this.consume(this.#l.payloadLength);if(this.#c.push(Q),!this.#l.fragmented||this.#l.fin&&this.#l.opcode===U.CONTINUATION){let Q=Buffer.concat(this.#c);et(this.ws,this.#l.originalOpcode,Q),this.#l={},this.#c.length=0}this.#A=L.INFO}}if(!(this.#a>0)){Q();break}}}consume(Q){if(Q>this.#a)return null;if(0===Q)return Y;if(this.#o[0].length===Q)return this.#a-=this.#o[0].length,this.#o.shift();let S=Buffer.allocUnsafe(Q),R=0;for(;R!==Q;){let N=this.#o[0],{length:M}=N;if(M+R===Q){S.set(this.#o.shift(),R);break}if(M+R>Q){S.set(N.subarray(0,Q-R),R),this.#o[0]=N.subarray(Q-R);break}S.set(this.#o.shift(),R),R+=N.length}return this.#a-=Q,S}parseCloseBody(Q,S){let R;if(S.length>=2&&(R=S.readUInt16BE(0)),Q)return $(R)?{code:R}:null;let N=S.subarray(2);if(239===N[0]&&187===N[1]&&191===N[2]&&(N=N.subarray(3)),void 0!==R&&!$(R))return null;try{N=new TextDecoder("utf-8",{fatal:!0}).decode(N)}catch{return null}return{code:R,reason:N}}get closingInfo(){return this.#l.closeInfo}};Q.exports={ByteParser}},52507:Q=>{"use strict";Q.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}},49775:(Q,S,R)=>{"use strict";let{kReadyState:N,kController:M,kResponse:L,kBinaryType:U,kWebSocketURL:P}=R(52507),{states:Y,opcodes:W}=R(41462),{MessageEvent:K,ErrorEvent:X}=R(81407);function isEstablished(Q){return Q[N]===Y.OPEN}function isClosing(Q){return Q[N]===Y.CLOSING}function isClosed(Q){return Q[N]===Y.CLOSED}function fireEvent(Q,S,R=Event,N){let M=new R(Q,N);S.dispatchEvent(M)}function websocketMessageReceived(Q,S,R){let M;if(Q[N]===Y.OPEN){if(S===W.TEXT)try{M=new TextDecoder("utf-8",{fatal:!0}).decode(R)}catch{failWebsocketConnection(Q,"Received invalid UTF-8 in text frame.");return}else S===W.BINARY&&(M="blob"===Q[U]?new Blob([R]):new Uint8Array(R).buffer);fireEvent("message",Q,K,{origin:Q[P].origin,data:M})}}function isValidSubprotocol(Q){if(0===Q.length)return!1;for(let S of Q){let Q=S.charCodeAt(0);if(Q<33||Q>126||"("===S||")"===S||"<"===S||">"===S||"@"===S||","===S||";"===S||":"===S||"\\"===S||'"'===S||"/"===S||"["===S||"]"===S||"?"===S||"="===S||"{"===S||"}"===S||32===Q||9===Q)return!1}return!0}function isValidStatusCode(Q){return Q>=1e3&&Q<1015?1004!==Q&&1005!==Q&&1006!==Q:Q>=3e3&&Q<=4999}function failWebsocketConnection(Q,S){let{[M]:R,[L]:N}=Q;R.abort(),N?.socket&&!N.socket.destroyed&&N.socket.destroy(),S&&fireEvent("error",Q,X,{error:Error(S)})}Q.exports={isEstablished,isClosing,isClosed,fireEvent,isValidSubprotocol,isValidStatusCode,failWebsocketConnection,websocketMessageReceived}},24425:(Q,S,R)=>{"use strict";let{webidl:N}=R(52277),{DOMException:M}=R(9499),{URLSerializer:L}=R(13296),{getGlobalOrigin:U}=R(98481),{staticPropertyDescriptors:P,states:Y,opcodes:W,emptyBuffer:K}=R(41462),{kWebSocketURL:X,kReadyState:Z,kController:$,kBinaryType:ee,kResponse:et,kSentClose:en,kByteParser:ei}=R(52507),{isEstablished:es,isClosing:eo,isValidSubprotocol:ea,failWebsocketConnection:eA,fireEvent:ec}=R(49775),{establishWebSocketConnection:eu}=R(21667),{WebsocketFrameSend:eh}=R(18441),{ByteParser:ed}=R(71936),{kEnumerableProperty:eg,isBlobLike:ep}=R(42964),{getGlobalDispatcher:ef}=R(48258),{types:eE}=R(73837),em=!1;let WebSocket=class WebSocket extends EventTarget{#u={open:null,error:null,close:null,message:null};#h=0;#d="";#g="";constructor(Q,S=[]){let R;super(),N.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"}),em||(em=!0,process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"}));let L=N.converters["DOMString or sequence<DOMString> or WebSocketInit"](S);Q=N.converters.USVString(Q),S=L.protocols;let P=U();try{R=new URL(Q,P)}catch(Q){throw new M(Q,"SyntaxError")}if("http:"===R.protocol?R.protocol="ws:":"https:"===R.protocol&&(R.protocol="wss:"),"ws:"!==R.protocol&&"wss:"!==R.protocol)throw new M(`Expected a ws: or wss: protocol, got ${R.protocol}`,"SyntaxError");if(R.hash||R.href.endsWith("#"))throw new M("Got fragment","SyntaxError");if("string"==typeof S&&(S=[S]),S.length!==new Set(S.map(Q=>Q.toLowerCase())).size||S.length>0&&!S.every(Q=>ea(Q)))throw new M("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[X]=new URL(R.href),this[$]=eu(R,S,this,Q=>this.#p(Q),L),this[Z]=WebSocket.CONNECTING,this[ee]="blob"}close(Q,S){if(N.brandCheck(this,WebSocket),void 0!==Q&&(Q=N.converters["unsigned short"](Q,{clamp:!0})),void 0!==S&&(S=N.converters.USVString(S)),void 0!==Q&&1e3!==Q&&(Q<3e3||Q>4999))throw new M("invalid code","InvalidAccessError");let R=0;if(void 0!==S&&(R=Buffer.byteLength(S))>123)throw new M(`Reason must be less than 123 bytes; received ${R}`,"SyntaxError");if(this[Z]===WebSocket.CLOSING||this[Z]===WebSocket.CLOSED);else if(es(this)){if(eo(this))this[Z]=WebSocket.CLOSING;else{let N=new eh;void 0!==Q&&void 0===S?(N.frameData=Buffer.allocUnsafe(2),N.frameData.writeUInt16BE(Q,0)):void 0!==Q&&void 0!==S?(N.frameData=Buffer.allocUnsafe(2+R),N.frameData.writeUInt16BE(Q,0),N.frameData.write(S,2,"utf-8")):N.frameData=K;let M=this[et].socket;M.write(N.createFrame(W.CLOSE),Q=>{Q||(this[en]=!0)}),this[Z]=Y.CLOSING}}else eA(this,"Connection was closed before it was established."),this[Z]=WebSocket.CLOSING}send(Q){if(N.brandCheck(this,WebSocket),N.argumentLengthCheck(arguments,1,{header:"WebSocket.send"}),Q=N.converters.WebSocketSendData(Q),this[Z]===WebSocket.CONNECTING)throw new M("Sent before connected.","InvalidStateError");if(!es(this)||eo(this))return;let S=this[et].socket;if("string"==typeof Q){let R=Buffer.from(Q),N=new eh(R),M=N.createFrame(W.TEXT);this.#h+=R.byteLength,S.write(M,()=>{this.#h-=R.byteLength})}else if(eE.isArrayBuffer(Q)){let R=Buffer.from(Q),N=new eh(R),M=N.createFrame(W.BINARY);this.#h+=R.byteLength,S.write(M,()=>{this.#h-=R.byteLength})}else if(ArrayBuffer.isView(Q)){let R=Buffer.from(Q,Q.byteOffset,Q.byteLength),N=new eh(R),M=N.createFrame(W.BINARY);this.#h+=R.byteLength,S.write(M,()=>{this.#h-=R.byteLength})}else if(ep(Q)){let R=new eh;Q.arrayBuffer().then(Q=>{let N=Buffer.from(Q);R.frameData=N;let M=R.createFrame(W.BINARY);this.#h+=N.byteLength,S.write(M,()=>{this.#h-=N.byteLength})})}}get readyState(){return N.brandCheck(this,WebSocket),this[Z]}get bufferedAmount(){return N.brandCheck(this,WebSocket),this.#h}get url(){return N.brandCheck(this,WebSocket),L(this[X])}get extensions(){return N.brandCheck(this,WebSocket),this.#g}get protocol(){return N.brandCheck(this,WebSocket),this.#d}get onopen(){return N.brandCheck(this,WebSocket),this.#u.open}set onopen(Q){N.brandCheck(this,WebSocket),this.#u.open&&this.removeEventListener("open",this.#u.open),"function"==typeof Q?(this.#u.open=Q,this.addEventListener("open",Q)):this.#u.open=null}get onerror(){return N.brandCheck(this,WebSocket),this.#u.error}set onerror(Q){N.brandCheck(this,WebSocket),this.#u.error&&this.removeEventListener("error",this.#u.error),"function"==typeof Q?(this.#u.error=Q,this.addEventListener("error",Q)):this.#u.error=null}get onclose(){return N.brandCheck(this,WebSocket),this.#u.close}set onclose(Q){N.brandCheck(this,WebSocket),this.#u.close&&this.removeEventListener("close",this.#u.close),"function"==typeof Q?(this.#u.close=Q,this.addEventListener("close",Q)):this.#u.close=null}get onmessage(){return N.brandCheck(this,WebSocket),this.#u.message}set onmessage(Q){N.brandCheck(this,WebSocket),this.#u.message&&this.removeEventListener("message",this.#u.message),"function"==typeof Q?(this.#u.message=Q,this.addEventListener("message",Q)):this.#u.message=null}get binaryType(){return N.brandCheck(this,WebSocket),this[ee]}set binaryType(Q){N.brandCheck(this,WebSocket),"blob"!==Q&&"arraybuffer"!==Q?this[ee]="blob":this[ee]=Q}#p(Q){this[et]=Q;let S=new ed(this);S.on("drain",function(){this.ws[et].socket.resume()}),Q.socket.ws=this,this[ei]=S,this[Z]=Y.OPEN;let R=Q.headersList.get("sec-websocket-extensions");null!==R&&(this.#g=R);let N=Q.headersList.get("sec-websocket-protocol");null!==N&&(this.#d=N),ec("open",this)}};WebSocket.CONNECTING=WebSocket.prototype.CONNECTING=Y.CONNECTING,WebSocket.OPEN=WebSocket.prototype.OPEN=Y.OPEN,WebSocket.CLOSING=WebSocket.prototype.CLOSING=Y.CLOSING,WebSocket.CLOSED=WebSocket.prototype.CLOSED=Y.CLOSED,Object.defineProperties(WebSocket.prototype,{CONNECTING:P,OPEN:P,CLOSING:P,CLOSED:P,url:eg,readyState:eg,bufferedAmount:eg,onopen:eg,onerror:eg,onclose:eg,close:eg,onmessage:eg,binaryType:eg,send:eg,extensions:eg,protocol:eg,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(WebSocket,{CONNECTING:P,OPEN:P,CLOSING:P,CLOSED:P}),N.converters["sequence<DOMString>"]=N.sequenceConverter(N.converters.DOMString),N.converters["DOMString or sequence<DOMString>"]=function(Q){return"Object"===N.util.Type(Q)&&Symbol.iterator in Q?N.converters["sequence<DOMString>"](Q):N.converters.DOMString(Q)},N.converters.WebSocketInit=N.dictionaryConverter([{key:"protocols",converter:N.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:Q=>Q,get defaultValue(){return ef()}},{key:"headers",converter:N.nullableConverter(N.converters.HeadersInit)}]),N.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(Q){return"Object"!==N.util.Type(Q)||Symbol.iterator in Q?{protocols:N.converters["DOMString or sequence<DOMString>"](Q)}:N.converters.WebSocketInit(Q)},N.converters.WebSocketSendData=function(Q){if("Object"===N.util.Type(Q)){if(ep(Q))return N.converters.Blob(Q,{strict:!1});if(ArrayBuffer.isView(Q)||eE.isAnyArrayBuffer(Q))return N.converters.BufferSource(Q)}return N.converters.USVString(Q)},Q.exports={WebSocket}},35210:(Q,S,R)=>{"use strict";let N=R(84492).Writable,M=R(47261).inherits,L=R(39396),U=R(11652),P=R(70614),Y=45,W=Buffer.from("-"),K=Buffer.from("\r\n"),EMPTY_FN=function(){};function Dicer(Q){if(!(this instanceof Dicer))return new Dicer(Q);if(N.call(this,Q),!Q||!Q.headerFirst&&"string"!=typeof Q.boundary)throw TypeError("Boundary required");"string"==typeof Q.boundary?this.setBoundary(Q.boundary):this._bparser=void 0,this._headerFirst=Q.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:Q.partHwm},this._pause=!1;let S=this;this._hparser=new P(Q),this._hparser.on("header",function(Q){S._inHeader=!1,S._part.emit("header",Q)})}M(Dicer,N),Dicer.prototype.emit=function(Q){if("finish"!==Q||this._realFinish)N.prototype.emit.apply(this,arguments);else if(!this._finished){let Q=this;process.nextTick(function(){if(Q.emit("error",Error("Unexpected end of multipart data")),Q._part&&!Q._ignoreData){let S=Q._isPreamble?"Preamble":"Part";Q._part.emit("error",Error(S+" terminated early due to unexpected end of multipart data")),Q._part.push(null),process.nextTick(function(){Q._realFinish=!0,Q.emit("finish"),Q._realFinish=!1});return}Q._realFinish=!0,Q.emit("finish"),Q._realFinish=!1})}},Dicer.prototype._write=function(Q,S,R){if(!this._hparser&&!this._bparser)return R();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new U(this._partOpts),0!==this.listenerCount("preamble")?this.emit("preamble",this._part):this._ignore());let S=this._hparser.push(Q);if(this._inHeader||void 0===S||!(S<Q.length))return R();Q=Q.slice(S)}this._firstWrite&&(this._bparser.push(K),this._firstWrite=!1),this._bparser.push(Q),this._pause?this._cb=R:R()},Dicer.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0},Dicer.prototype.setBoundary=function(Q){let S=this;this._bparser=new L("\r\n--"+Q),this._bparser.on("info",function(Q,R,N,M){S._oninfo(Q,R,N,M)})},Dicer.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",EMPTY_FN),this._part.resume())},Dicer.prototype._oninfo=function(Q,S,R,N){let M,L;let P=this,K=0,X=!0;if(!this._part&&this._justMatched&&S){for(;this._dashes<2&&R+K<N;)if(S[R+K]===Y)++K,++this._dashes;else{this._dashes&&(M=W),this._dashes=0;break}if(2===this._dashes&&(R+K<N&&0!==this.listenerCount("trailer")&&this.emit("trailer",S.slice(R+K,N)),this.reset(),this._finished=!0,0===P._parts&&(P._realFinish=!0,P.emit("finish"),P._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new U(this._partOpts),this._part._read=function(Q){P._unpause()},this._isPreamble&&0!==this.listenerCount("preamble")?this.emit("preamble",this._part):!0!==this._isPreamble&&0!==this.listenerCount("part")?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),!S||!(R<N)||this._ignoreData||(this._isPreamble||!this._inHeader?(M&&(X=this._part.push(M)),(X=this._part.push(S.slice(R,N)))||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(M&&this._hparser.push(M),L=this._hparser.push(S.slice(R,N)),!this._inHeader&&void 0!==L&&L<N&&this._oninfo(!1,S,R+L,N))),Q&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:R!==N&&(++this._parts,this._part.on("end",function(){0==--P._parts&&(P._finished?(P._realFinish=!0,P.emit("finish"),P._realFinish=!1):P._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)},Dicer.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let Q=this._cb;this._cb=void 0,Q()}},Q.exports=Dicer},70614:(Q,S,R)=>{"use strict";let N=R(15673).EventEmitter,M=R(47261).inherits,L=R(39431),U=R(39396),P=Buffer.from("\r\n\r\n"),Y=/\r\n/g,W=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function HeaderParser(Q){N.call(this),Q=Q||{};let S=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=L(Q,"maxHeaderPairs",2e3),this.maxHeaderSize=L(Q,"maxHeaderSize",81920),this.buffer="",this.header={},this.finished=!1,this.ss=new U(P),this.ss.on("info",function(Q,R,N,M){R&&!S.maxed&&(S.nread+M-N>=S.maxHeaderSize?(M=S.maxHeaderSize-S.nread+N,S.nread=S.maxHeaderSize,S.maxed=!0):S.nread+=M-N,S.buffer+=R.toString("binary",N,M)),Q&&S._finish()})}M(HeaderParser,N),HeaderParser.prototype.push=function(Q){let S=this.ss.push(Q);if(this.finished)return S},HeaderParser.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()},HeaderParser.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let Q=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",Q)},HeaderParser.prototype._parseHeader=function(){let Q,S;if(this.npairs===this.maxHeaderPairs)return;let R=this.buffer.split(Y),N=R.length;for(var M=0;M<N;++M){if(0===R[M].length)continue;if(("	"===R[M][0]||" "===R[M][0])&&S){this.header[S][this.header[S].length-1]+=R[M];continue}let N=R[M].indexOf(":");if(-1===N||0===N)return;if(S=(Q=W.exec(R[M]))[1].toLowerCase(),this.header[S]=this.header[S]||[],this.header[S].push(Q[2]||""),++this.npairs===this.maxHeaderPairs)break}},Q.exports=HeaderParser},11652:(Q,S,R)=>{"use strict";let N=R(47261).inherits,M=R(84492).Readable;function PartStream(Q){M.call(this,Q)}N(PartStream,M),PartStream.prototype._read=function(Q){},Q.exports=PartStream},39396:(Q,S,R)=>{"use strict";let N=R(15673).EventEmitter,M=R(47261).inherits;function SBMH(Q){if("string"==typeof Q&&(Q=Buffer.from(Q)),!Buffer.isBuffer(Q))throw TypeError("The needle has to be a String or a Buffer.");let S=Q.length;if(0===S)throw Error("The needle cannot be an empty String/Buffer.");if(S>256)throw Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=Array(256).fill(S),this._lookbehind_size=0,this._needle=Q,this._bufpos=0,this._lookbehind=Buffer.alloc(S);for(var R=0;R<S-1;++R)this._occ[Q[R]]=S-1-R}M(SBMH,N),SBMH.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},SBMH.prototype.push=function(Q,S){let R;Buffer.isBuffer(Q)||(Q=Buffer.from(Q,"binary"));let N=Q.length;for(this._bufpos=S||0;R!==N&&this.matches<this.maxMatches;)R=this._sbmh_feed(Q);return R},SBMH.prototype._sbmh_feed=function(Q){let S;let R=Q.length,N=this._needle,M=N.length,L=N[M-1],U=-this._lookbehind_size;if(U<0){for(;U<0&&U<=R-M;){if((S=this._sbmh_lookup_char(Q,U+M-1))===L&&this._sbmh_memcmp(Q,U,M-1))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=U+M;U+=this._occ[S]}if(U<0)for(;U<0&&!this._sbmh_memcmp(Q,U,R-U);)++U;if(U>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let S=this._lookbehind_size+U;return S>0&&this.emit("info",!1,this._lookbehind,0,S),this._lookbehind.copy(this._lookbehind,0,S,this._lookbehind_size-S),this._lookbehind_size-=S,Q.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=R,this._bufpos=R,R}}if(U+=(U>=0)*this._bufpos,-1!==Q.indexOf(N,U))return U=Q.indexOf(N,U),++this.matches,U>0?this.emit("info",!0,Q,this._bufpos,U):this.emit("info",!0),this._bufpos=U+M;for(U=R-M;U<R&&(Q[U]!==N[0]||0!==Buffer.compare(Q.subarray(U,U+R-U),N.subarray(0,R-U)));)++U;return U<R&&(Q.copy(this._lookbehind,0,U,U+(R-U)),this._lookbehind_size=R-U),U>0&&this.emit("info",!1,Q,this._bufpos,U<R?U:R),this._bufpos=R,R},SBMH.prototype._sbmh_lookup_char=function(Q,S){return S<0?this._lookbehind[this._lookbehind_size+S]:Q[S]},SBMH.prototype._sbmh_memcmp=function(Q,S,R){for(var N=0;N<R;++N)if(this._sbmh_lookup_char(Q,S+N)!==this._needle[N])return!1;return!0},Q.exports=SBMH},47299:(Q,S,R)=>{"use strict";let N=R(84492).Writable,{inherits:M}=R(47261),L=R(35210),U=R(26133),P=R(71398),Y=R(5695);function Busboy(Q){if(!(this instanceof Busboy))return new Busboy(Q);if("object"!=typeof Q)throw TypeError("Busboy expected an options-Object.");if("object"!=typeof Q.headers)throw TypeError("Busboy expected an options-Object with headers-attribute.");if("string"!=typeof Q.headers["content-type"])throw TypeError("Missing Content-Type-header.");let{headers:S,...R}=Q;this.opts={autoDestroy:!1,...R},N.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(S),this._finished=!1}M(Busboy,N),Busboy.prototype.emit=function(Q){if("finish"===Q){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}N.prototype.emit.apply(this,arguments)},Busboy.prototype.getParserByHeaders=function(Q){let S=Y(Q["content-type"]),R={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:Q,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:S,preservePath:this.opts.preservePath};if(U.detect.test(S[0]))return new U(this,R);if(P.detect.test(S[0]))return new P(this,R);throw Error("Unsupported Content-Type.")},Busboy.prototype._write=function(Q,S,R){this._parser.write(Q,R)},Q.exports=Busboy,Q.exports.default=Busboy,Q.exports.Busboy=Busboy,Q.exports.Dicer=L},26133:(Q,S,R)=>{"use strict";let{Readable:N}=R(84492),{inherits:M}=R(47261),L=R(35210),U=R(5695),P=R(57524),Y=R(73951),W=R(39431),K=/^boundary$/i,X=/^form-data$/i,Z=/^charset$/i,$=/^filename$/i,ee=/^name$/i;function Multipart(Q,S){let R,N,M,et,en;let ei=this,es=S.limits,eo=S.isPartAFile||((Q,S,R)=>"application/octet-stream"===S||void 0!==R),ea=S.parsedConType||[],eA=S.defCharset||"utf8",ec=S.preservePath,eu={highWaterMark:S.fileHwm};for(R=0,N=ea.length;R<N;++R)if(Array.isArray(ea[R])&&K.test(ea[R][0])){M=ea[R][1];break}function checkFinished(){0===eB&&ey&&!Q._done&&(ey=!1,ei.end())}if("string"!=typeof M)throw Error("Multipart: Boundary not found");let eh=W(es,"fieldSize",1048576),ed=W(es,"fileSize",1/0),eg=W(es,"files",1/0),ep=W(es,"fields",1/0),ef=W(es,"parts",1/0),eE=W(es,"headerPairs",2e3),em=W(es,"headerSize",81920),eC=0,eI=0,eB=0,ey=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=Q;let eQ={boundary:M,maxHeaderPairs:eE,maxHeaderSize:em,partHwm:eu.highWaterMark,highWaterMark:S.highWaterMark};this.parser=new L(eQ),this.parser.on("drain",function(){if(ei._needDrain=!1,ei._cb&&!ei._pause){let Q=ei._cb;ei._cb=void 0,Q()}}).on("part",function onPart(S){if(++ei._nparts>ef)return ei.parser.removeListener("part",onPart),ei.parser.on("part",skipPart),Q.hitPartsLimit=!0,Q.emit("partsLimit"),skipPart(S);if(en){let Q=en;Q.emit("end"),Q.removeAllListeners("end")}S.on("header",function(M){let L,W,K,es,ea,ef,eE,em;let ey=0;if(M["content-type"]&&(K=U(M["content-type"][0]))[0]){for(R=0,L=K[0].toLowerCase(),N=K.length;R<N;++R)if(Z.test(K[R][0])){es=K[R][1].toLowerCase();break}}if(void 0===L&&(L="text/plain"),void 0===es&&(es=eA),!M["content-disposition"]||(K=U(M["content-disposition"][0]),!X.test(K[0])))return skipPart(S);for(R=0,N=K.length;R<N;++R)ee.test(K[R][0])?W=K[R][1]:$.test(K[R][0])&&(ef=K[R][1],ec||(ef=Y(ef)));if(ea=M["content-transfer-encoding"]?M["content-transfer-encoding"][0].toLowerCase():"7bit",eo(W,L,ef)){if(eC===eg)return Q.hitFilesLimit||(Q.hitFilesLimit=!0,Q.emit("filesLimit")),skipPart(S);if(++eC,0===Q.listenerCount("file")){ei.parser._ignore();return}++eB;let R=new FileStream(eu);et=R,R.on("end",function(){if(--eB,ei._pause=!1,checkFinished(),ei._cb&&!ei._needDrain){let Q=ei._cb;ei._cb=void 0,Q()}}),R._read=function(Q){if(ei._pause&&(ei._pause=!1,ei._cb&&!ei._needDrain)){let Q=ei._cb;ei._cb=void 0,Q()}},Q.emit("file",W,R,ef,ea,L),eE=function(Q){if((ey+=Q.length)>ed){let N=ed-ey+Q.length;N>0&&R.push(Q.slice(0,N)),R.truncated=!0,R.bytesRead=ed,S.removeAllListeners("data"),R.emit("limit");return}R.push(Q)||(ei._pause=!0),R.bytesRead=ey},em=function(){et=void 0,R.push(null)}}else{if(eI===ep)return Q.hitFieldsLimit||(Q.hitFieldsLimit=!0,Q.emit("fieldsLimit")),skipPart(S);++eI,++eB;let R="",N=!1;en=S,eE=function(Q){if((ey+=Q.length)>eh){let M=eh-(ey-Q.length);R+=Q.toString("binary",0,M),N=!0,S.removeAllListeners("data")}else R+=Q.toString("binary")},em=function(){en=void 0,R.length&&(R=P(R,"binary",es)),Q.emit("field",W,R,!1,N,ea,L),--eB,checkFinished()}}S._readableState.sync=!1,S.on("data",eE),S.on("end",em)}).on("error",function(Q){et&&et.emit("error",Q)})}).on("error",function(S){Q.emit("error",S)}).on("finish",function(){ey=!0,checkFinished()})}function skipPart(Q){Q.resume()}function FileStream(Q){N.call(this,Q),this.bytesRead=0,this.truncated=!1}Multipart.detect=/^multipart\/form-data/i,Multipart.prototype.write=function(Q,S){let R=this.parser.write(Q);R&&!this._pause?S():(this._needDrain=!R,this._cb=S)},Multipart.prototype.end=function(){let Q=this;Q.parser.writable?Q.parser.end():Q._boy._done||process.nextTick(function(){Q._boy._done=!0,Q._boy.emit("finish")})},M(FileStream,N),FileStream.prototype._read=function(Q){},Q.exports=Multipart},71398:(Q,S,R)=>{"use strict";let N=R(382),M=R(57524),L=R(39431),U=/^charset$/i;function UrlEncoded(Q,S){let R;let M=S.limits,P=S.parsedConType;this.boy=Q,this.fieldSizeLimit=L(M,"fieldSize",1048576),this.fieldNameSizeLimit=L(M,"fieldNameSize",100),this.fieldsLimit=L(M,"fields",1/0);for(var Y=0,W=P.length;Y<W;++Y)if(Array.isArray(P[Y])&&U.test(P[Y][0])){R=P[Y][1].toLowerCase();break}void 0===R&&(R=S.defCharset||"utf8"),this.decoder=new N,this.charset=R,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}UrlEncoded.detect=/^application\/x-www-form-urlencoded/i,UrlEncoded.prototype.write=function(Q,S){let R,N,L;if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),S();let U=0,P=Q.length;for(;U<P;)if("key"===this._state){for(R=N=void 0,L=U;L<P;++L){if(!this._checkingBytes&&++U,61===Q[L]){R=L;break}if(38===Q[L]){N=L;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}this._checkingBytes&&++this._bytesKey}if(void 0!==R)R>U&&(this._key+=this.decoder.write(Q.toString("binary",U,R))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),U=R+1;else if(void 0!==N){let R;++this._fields;let L=this._keyTrunc;if(R=N>U?this._key+=this.decoder.write(Q.toString("binary",U,N)):this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),R.length&&this.boy.emit("field",M(R,"binary",this.charset),"",L,!1),U=N+1,this._fields===this.fieldsLimit)return S()}else this._hitLimit?(L>U&&(this._key+=this.decoder.write(Q.toString("binary",U,L))),U=L,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(U<P&&(this._key+=this.decoder.write(Q.toString("binary",U))),U=P)}else{for(N=void 0,L=U;L<P;++L){if(!this._checkingBytes&&++U,38===Q[L]){N=L;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}this._checkingBytes&&++this._bytesVal}if(void 0!==N){if(++this._fields,N>U&&(this._val+=this.decoder.write(Q.toString("binary",U,N))),this.boy.emit("field",M(this._key,"binary",this.charset),M(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),U=N+1,this._fields===this.fieldsLimit)return S()}else this._hitLimit?(L>U&&(this._val+=this.decoder.write(Q.toString("binary",U,L))),U=L,(""===this._val&&0===this.fieldSizeLimit||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(U<P&&(this._val+=this.decoder.write(Q.toString("binary",U))),U=P)}S()},UrlEncoded.prototype.end=function(){this.boy._done||("key"===this._state&&this._key.length>0?this.boy.emit("field",M(this._key,"binary",this.charset),"",this._keyTrunc,!1):"val"===this._state&&this.boy.emit("field",M(this._key,"binary",this.charset),M(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))},Q.exports=UrlEncoded},382:Q=>{"use strict";let S=/\+/g,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Decoder(){this.buffer=void 0}Decoder.prototype.write=function(Q){Q=Q.replace(S," ");let N="",M=0,L=0,U=Q.length;for(;M<U;++M)void 0!==this.buffer?R[Q.charCodeAt(M)]?(this.buffer+=Q[M],++L,2===this.buffer.length&&(N+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(N+="%"+this.buffer,this.buffer=void 0,--M):"%"===Q[M]&&(M>L&&(N+=Q.substring(L,M),L=M),this.buffer="",++L);return L<U&&void 0===this.buffer&&(N+=Q.substring(L)),N},Decoder.prototype.reset=function(){this.buffer=void 0},Q.exports=Decoder},73951:Q=>{"use strict";Q.exports=function(Q){if("string"!=typeof Q)return"";for(var S=Q.length-1;S>=0;--S)switch(Q.charCodeAt(S)){case 47:case 92:return".."===(Q=Q.slice(S+1))||"."===Q?"":Q}return".."===Q||"."===Q?"":Q}},57524:function(Q){"use strict";let S=new TextDecoder("utf-8"),R=new Map([["utf-8",S],["utf8",S]]);function getDecoder(Q){let S;for(;;)switch(Q){case"utf-8":case"utf8":return N.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return N.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return N.utf16le;case"base64":return N.base64;default:if(void 0===S){S=!0,Q=Q.toLowerCase();continue}return N.other.bind(Q)}}let N={utf8:(Q,S)=>0===Q.length?"":("string"==typeof Q&&(Q=Buffer.from(Q,S)),Q.utf8Slice(0,Q.length)),latin1:(Q,S)=>0===Q.length?"":"string"==typeof Q?Q:Q.latin1Slice(0,Q.length),utf16le:(Q,S)=>0===Q.length?"":("string"==typeof Q&&(Q=Buffer.from(Q,S)),Q.ucs2Slice(0,Q.length)),base64:(Q,S)=>0===Q.length?"":("string"==typeof Q&&(Q=Buffer.from(Q,S)),Q.base64Slice(0,Q.length)),other:(Q,S)=>{if(0===Q.length)return"";if("string"==typeof Q&&(Q=Buffer.from(Q,S)),R.has(this.toString()))try{return R.get(this).decode(Q)}catch{}return"string"==typeof Q?Q:Q.toString()}};function decodeText(Q,S,R){return Q?getDecoder(R)(Q,S):Q}Q.exports=decodeText},39431:Q=>{"use strict";Q.exports=function(Q,S,R){if(!Q||void 0===Q[S]||null===Q[S])return R;if("number"!=typeof Q[S]||isNaN(Q[S]))throw TypeError("Limit "+S+" is not a valid number");return Q[S]}},5695:(Q,S,R)=>{"use strict";let N=R(57524),M=/%[a-fA-F0-9][a-fA-F0-9]/g,L={"%00":"\x00","%01":"\x01","%02":"\x02","%03":"\x03","%04":"\x04","%05":"\x05","%06":"\x06","%07":"\x07","%08":"\b","%09":"	","%0a":"\n","%0A":"\n","%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"\x0e","%0E":"\x0e","%0f":"\x0f","%0F":"\x0f","%10":"\x10","%11":"\x11","%12":"\x12","%13":"\x13","%14":"\x14","%15":"\x15","%16":"\x16","%17":"\x17","%18":"\x18","%19":"\x19","%1a":"\x1a","%1A":"\x1a","%1b":"\x1b","%1B":"\x1b","%1c":"\x1c","%1C":"\x1c","%1d":"\x1d","%1D":"\x1d","%1e":"\x1e","%1E":"\x1e","%1f":"\x1f","%1F":"\x1f","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7f","%7F":"\x7f","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8a","%8A":"\x8a","%8b":"\x8b","%8B":"\x8b","%8c":"\x8c","%8C":"\x8c","%8d":"\x8d","%8D":"\x8d","%8e":"\x8e","%8E":"\x8e","%8f":"\x8f","%8F":"\x8f","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9a","%9A":"\x9a","%9b":"\x9b","%9B":"\x9b","%9c":"\x9c","%9C":"\x9c","%9d":"\x9d","%9D":"\x9d","%9e":"\x9e","%9E":"\x9e","%9f":"\x9f","%9F":"\x9f","%a0":"\xa0","%A0":"\xa0","%a1":"\xa1","%A1":"\xa1","%a2":"\xa2","%A2":"\xa2","%a3":"\xa3","%A3":"\xa3","%a4":"\xa4","%A4":"\xa4","%a5":"\xa5","%A5":"\xa5","%a6":"\xa6","%A6":"\xa6","%a7":"\xa7","%A7":"\xa7","%a8":"\xa8","%A8":"\xa8","%a9":"\xa9","%A9":"\xa9","%aa":"\xaa","%Aa":"\xaa","%aA":"\xaa","%AA":"\xaa","%ab":"\xab","%Ab":"\xab","%aB":"\xab","%AB":"\xab","%ac":"\xac","%Ac":"\xac","%aC":"\xac","%AC":"\xac","%ad":"\xad","%Ad":"\xad","%aD":"\xad","%AD":"\xad","%ae":"\xae","%Ae":"\xae","%aE":"\xae","%AE":"\xae","%af":"\xaf","%Af":"\xaf","%aF":"\xaf","%AF":"\xaf","%b0":"\xb0","%B0":"\xb0","%b1":"\xb1","%B1":"\xb1","%b2":"\xb2","%B2":"\xb2","%b3":"\xb3","%B3":"\xb3","%b4":"\xb4","%B4":"\xb4","%b5":"\xb5","%B5":"\xb5","%b6":"\xb6","%B6":"\xb6","%b7":"\xb7","%B7":"\xb7","%b8":"\xb8","%B8":"\xb8","%b9":"\xb9","%B9":"\xb9","%ba":"\xba","%Ba":"\xba","%bA":"\xba","%BA":"\xba","%bb":"\xbb","%Bb":"\xbb","%bB":"\xbb","%BB":"\xbb","%bc":"\xbc","%Bc":"\xbc","%bC":"\xbc","%BC":"\xbc","%bd":"\xbd","%Bd":"\xbd","%bD":"\xbd","%BD":"\xbd","%be":"\xbe","%Be":"\xbe","%bE":"\xbe","%BE":"\xbe","%bf":"\xbf","%Bf":"\xbf","%bF":"\xbf","%BF":"\xbf","%c0":"\xc0","%C0":"\xc0","%c1":"\xc1","%C1":"\xc1","%c2":"\xc2","%C2":"\xc2","%c3":"\xc3","%C3":"\xc3","%c4":"\xc4","%C4":"\xc4","%c5":"\xc5","%C5":"\xc5","%c6":"\xc6","%C6":"\xc6","%c7":"\xc7","%C7":"\xc7","%c8":"\xc8","%C8":"\xc8","%c9":"\xc9","%C9":"\xc9","%ca":"\xca","%Ca":"\xca","%cA":"\xca","%CA":"\xca","%cb":"\xcb","%Cb":"\xcb","%cB":"\xcb","%CB":"\xcb","%cc":"\xcc","%Cc":"\xcc","%cC":"\xcc","%CC":"\xcc","%cd":"\xcd","%Cd":"\xcd","%cD":"\xcd","%CD":"\xcd","%ce":"\xce","%Ce":"\xce","%cE":"\xce","%CE":"\xce","%cf":"\xcf","%Cf":"\xcf","%cF":"\xcf","%CF":"\xcf","%d0":"\xd0","%D0":"\xd0","%d1":"\xd1","%D1":"\xd1","%d2":"\xd2","%D2":"\xd2","%d3":"\xd3","%D3":"\xd3","%d4":"\xd4","%D4":"\xd4","%d5":"\xd5","%D5":"\xd5","%d6":"\xd6","%D6":"\xd6","%d7":"\xd7","%D7":"\xd7","%d8":"\xd8","%D8":"\xd8","%d9":"\xd9","%D9":"\xd9","%da":"\xda","%Da":"\xda","%dA":"\xda","%DA":"\xda","%db":"\xdb","%Db":"\xdb","%dB":"\xdb","%DB":"\xdb","%dc":"\xdc","%Dc":"\xdc","%dC":"\xdc","%DC":"\xdc","%dd":"\xdd","%Dd":"\xdd","%dD":"\xdd","%DD":"\xdd","%de":"\xde","%De":"\xde","%dE":"\xde","%DE":"\xde","%df":"\xdf","%Df":"\xdf","%dF":"\xdf","%DF":"\xdf","%e0":"\xe0","%E0":"\xe0","%e1":"\xe1","%E1":"\xe1","%e2":"\xe2","%E2":"\xe2","%e3":"\xe3","%E3":"\xe3","%e4":"\xe4","%E4":"\xe4","%e5":"\xe5","%E5":"\xe5","%e6":"\xe6","%E6":"\xe6","%e7":"\xe7","%E7":"\xe7","%e8":"\xe8","%E8":"\xe8","%e9":"\xe9","%E9":"\xe9","%ea":"\xea","%Ea":"\xea","%eA":"\xea","%EA":"\xea","%eb":"\xeb","%Eb":"\xeb","%eB":"\xeb","%EB":"\xeb","%ec":"\xec","%Ec":"\xec","%eC":"\xec","%EC":"\xec","%ed":"\xed","%Ed":"\xed","%eD":"\xed","%ED":"\xed","%ee":"\xee","%Ee":"\xee","%eE":"\xee","%EE":"\xee","%ef":"\xef","%Ef":"\xef","%eF":"\xef","%EF":"\xef","%f0":"\xf0","%F0":"\xf0","%f1":"\xf1","%F1":"\xf1","%f2":"\xf2","%F2":"\xf2","%f3":"\xf3","%F3":"\xf3","%f4":"\xf4","%F4":"\xf4","%f5":"\xf5","%F5":"\xf5","%f6":"\xf6","%F6":"\xf6","%f7":"\xf7","%F7":"\xf7","%f8":"\xf8","%F8":"\xf8","%f9":"\xf9","%F9":"\xf9","%fa":"\xfa","%Fa":"\xfa","%fA":"\xfa","%FA":"\xfa","%fb":"\xfb","%Fb":"\xfb","%fB":"\xfb","%FB":"\xfb","%fc":"\xfc","%Fc":"\xfc","%fC":"\xfc","%FC":"\xfc","%fd":"\xfd","%Fd":"\xfd","%fD":"\xfd","%FD":"\xfd","%fe":"\xfe","%Fe":"\xfe","%fE":"\xfe","%FE":"\xfe","%ff":"\xff","%Ff":"\xff","%fF":"\xff","%FF":"\xff"};function encodedReplacer(Q){return L[Q]}let U=0,P=1,Y=2,W=3;function parseParams(Q){let S=[],R=U,L="",K=!1,X=!1,Z=0,$="",ee=Q.length;for(var et=0;et<ee;++et){let ee=Q[et];if("\\"===ee&&K){if(X)X=!1;else{X=!0;continue}}else if('"'===ee){if(X)X=!1;else{K?(K=!1,R=U):K=!0;continue}}else{if(X&&K&&($+="\\"),X=!1,(R===Y||R===W)&&"'"===ee){R===Y?(R=W,L=$.substring(1)):R=P,$="";continue}if(R===U&&("*"===ee||"="===ee)&&S.length){R="*"===ee?Y:P,S[Z]=[$,void 0],$="";continue}if(K||";"!==ee){if(!K&&(" "===ee||"	"===ee))continue}else{R=U,L?($.length&&($=N($.replace(M,encodedReplacer),"binary",L)),L=""):$.length&&($=N($,"binary","utf8")),void 0===S[Z]?S[Z]=$:S[Z][1]=$,$="",++Z;continue}}$+=ee}return L&&$.length?$=N($.replace(M,encodedReplacer),"binary",L):$&&($=N($,"binary","utf8")),void 0===S[Z]?$&&(S[Z]=$):S[Z][1]=$,S}Q.exports=parseParams},16933:(Q,S)=>{var R,N=function(Q){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */var S=null;try{S=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Q){}function Long(Q,S,R){this.low=0|Q,this.high=0|S,this.unsigned=!!R}function isLong(Q){return!0===(Q&&Q.__isLong__)}function ctz32(Q){var S=Math.clz32(Q&-Q);return Q?31-S:S}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong;var R={},N={};function fromInt(Q,S){var M,L,U;return S?(Q>>>=0,(U=0<=Q&&Q<256)&&(L=N[Q]))?L:(M=fromBits(Q,0,!0),U&&(N[Q]=M),M):(Q|=0,(U=-128<=Q&&Q<128)&&(L=R[Q]))?L:(M=fromBits(Q,Q<0?-1:0,!1),U&&(R[Q]=M),M)}function fromNumber(Q,S){if(isNaN(Q))return S?K:W;if(S){if(Q<0)return K;if(Q>=U)return et}else{if(Q<=-P)return en;if(Q+1>=P)return ee}return Q<0?fromNumber(-Q,S).neg():fromBits(Q%L|0,Q/L|0,S)}function fromBits(Q,S,R){return new Long(Q,S,R)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var M=Math.pow;function fromString(Q,S,R){if(0===Q.length)throw Error("empty string");if("number"==typeof S?(R=S,S=!1):S=!!S,"NaN"===Q||"Infinity"===Q||"+Infinity"===Q||"-Infinity"===Q)return S?K:W;if((R=R||10)<2||36<R)throw RangeError("radix");if((N=Q.indexOf("-"))>0)throw Error("interior hyphen");if(0===N)return fromString(Q.substring(1),S,R).neg();for(var N,L=fromNumber(M(R,8)),U=W,P=0;P<Q.length;P+=8){var Y=Math.min(8,Q.length-P),X=parseInt(Q.substring(P,P+Y),R);if(Y<8){var Z=fromNumber(M(R,Y));U=U.mul(Z).add(fromNumber(X))}else U=(U=U.mul(L)).add(fromNumber(X))}return U.unsigned=S,U}function fromValue(Q,S){return"number"==typeof Q?fromNumber(Q,S):"string"==typeof Q?fromString(Q,S):fromBits(Q.low,Q.high,"boolean"==typeof S?S:Q.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var L=4294967296,U=18446744073709552e3,P=0x7fffffffffffffff,Y=fromInt(16777216),W=fromInt(0);Long.ZERO=W;var K=fromInt(0,!0);Long.UZERO=K;var X=fromInt(1);Long.ONE=X;var Z=fromInt(1,!0);Long.UONE=Z;var $=fromInt(-1);Long.NEG_ONE=$;var ee=fromBits(-1,2147483647,!1);Long.MAX_VALUE=ee;var et=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=et;var en=fromBits(0,-2147483648,!1);Long.MIN_VALUE=en;var ei=Long.prototype;ei.toInt=function(){return this.unsigned?this.low>>>0:this.low},ei.toNumber=function(){return this.unsigned?(this.high>>>0)*L+(this.low>>>0):this.high*L+(this.low>>>0)},ei.toString=function(Q){if((Q=Q||10)<2||36<Q)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(en))return"-"+this.neg().toString(Q);var S=fromNumber(Q),R=this.div(S),N=R.mul(S).sub(this);return R.toString(Q)+N.toInt().toString(Q)}for(var L=fromNumber(M(Q,6),this.unsigned),U=this,P="";;){var Y=U.div(L),W=(U.sub(Y.mul(L)).toInt()>>>0).toString(Q);if((U=Y).isZero())return W+P;for(;W.length<6;)W="0"+W;P=""+W+P}},ei.getHighBits=function(){return this.high},ei.getHighBitsUnsigned=function(){return this.high>>>0},ei.getLowBits=function(){return this.low},ei.getLowBitsUnsigned=function(){return this.low>>>0},ei.getNumBitsAbs=function(){if(this.isNegative())return this.eq(en)?64:this.neg().getNumBitsAbs();for(var Q=0!=this.high?this.high:this.low,S=31;S>0&&(Q&1<<S)==0;S--);return 0!=this.high?S+33:S+1},ei.isZero=function(){return 0===this.high&&0===this.low},ei.eqz=ei.isZero,ei.isNegative=function(){return!this.unsigned&&this.high<0},ei.isPositive=function(){return this.unsigned||this.high>=0},ei.isOdd=function(){return(1&this.low)==1},ei.isEven=function(){return(1&this.low)==0},ei.equals=function(Q){return isLong(Q)||(Q=fromValue(Q)),(this.unsigned===Q.unsigned||this.high>>>31!=1||Q.high>>>31!=1)&&this.high===Q.high&&this.low===Q.low},ei.eq=ei.equals,ei.notEquals=function(Q){return!this.eq(Q)},ei.neq=ei.notEquals,ei.ne=ei.notEquals,ei.lessThan=function(Q){return 0>this.comp(Q)},ei.lt=ei.lessThan,ei.lessThanOrEqual=function(Q){return 0>=this.comp(Q)},ei.lte=ei.lessThanOrEqual,ei.le=ei.lessThanOrEqual,ei.greaterThan=function(Q){return this.comp(Q)>0},ei.gt=ei.greaterThan,ei.greaterThanOrEqual=function(Q){return this.comp(Q)>=0},ei.gte=ei.greaterThanOrEqual,ei.ge=ei.greaterThanOrEqual,ei.compare=function(Q){if(isLong(Q)||(Q=fromValue(Q)),this.eq(Q))return 0;var S=this.isNegative(),R=Q.isNegative();return S&&!R?-1:!S&&R?1:this.unsigned?Q.high>>>0>this.high>>>0||Q.high===this.high&&Q.low>>>0>this.low>>>0?-1:1:this.sub(Q).isNegative()?-1:1},ei.comp=ei.compare,ei.negate=function(){return!this.unsigned&&this.eq(en)?en:this.not().add(X)},ei.neg=ei.negate,ei.add=function(Q){isLong(Q)||(Q=fromValue(Q));var S,R,N=this.high>>>16,M=65535&this.high,L=this.low>>>16,U=65535&this.low,P=Q.high>>>16,Y=65535&Q.high,W=Q.low>>>16,K=65535&Q.low,X=0,Z=0;return S=0+((R=0+(U+K))>>>16),R&=65535,S+=L+W,Z+=S>>>16,S&=65535,Z+=M+Y,X+=Z>>>16,Z&=65535,X+=N+P,fromBits(S<<16|R,(X&=65535)<<16|Z,this.unsigned)},ei.subtract=function(Q){return isLong(Q)||(Q=fromValue(Q)),this.add(Q.neg())},ei.sub=ei.subtract,ei.multiply=function(Q){if(this.isZero())return this;if(isLong(Q)||(Q=fromValue(Q)),S)return fromBits(S.mul(this.low,this.high,Q.low,Q.high),S.get_high(),this.unsigned);if(Q.isZero())return this.unsigned?K:W;if(this.eq(en))return Q.isOdd()?en:W;if(Q.eq(en))return this.isOdd()?en:W;if(this.isNegative())return Q.isNegative()?this.neg().mul(Q.neg()):this.neg().mul(Q).neg();if(Q.isNegative())return this.mul(Q.neg()).neg();if(this.lt(Y)&&Q.lt(Y))return fromNumber(this.toNumber()*Q.toNumber(),this.unsigned);var R,N,M=this.high>>>16,L=65535&this.high,U=this.low>>>16,P=65535&this.low,X=Q.high>>>16,Z=65535&Q.high,$=Q.low>>>16,ee=65535&Q.low,et=0,ei=0;return R=0+((N=0+P*ee)>>>16),N&=65535,R+=U*ee,ei+=R>>>16,R&=65535,R+=P*$,ei+=R>>>16,R&=65535,ei+=L*ee,et+=ei>>>16,ei&=65535,ei+=U*$,et+=ei>>>16,ei&=65535,ei+=P*Z,et+=ei>>>16,ei&=65535,et+=M*ee+L*$+U*Z+P*X,fromBits(R<<16|N,(et&=65535)<<16|ei,this.unsigned)},ei.mul=ei.multiply,ei.divide=function(Q){if(isLong(Q)||(Q=fromValue(Q)),Q.isZero())throw Error("division by zero");if(S){var R,N,L;return this.unsigned||-2147483648!==this.high||-1!==Q.low||-1!==Q.high?fromBits((this.unsigned?S.div_u:S.div_s)(this.low,this.high,Q.low,Q.high),S.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?K:W;if(this.unsigned){if(Q.unsigned||(Q=Q.toUnsigned()),Q.gt(this))return K;if(Q.gt(this.shru(1)))return Z;L=K}else{if(this.eq(en))return Q.eq(X)||Q.eq($)?en:Q.eq(en)?X:(R=this.shr(1).div(Q).shl(1)).eq(W)?Q.isNegative()?X:$:(N=this.sub(Q.mul(R)),L=R.add(N.div(Q)));if(Q.eq(en))return this.unsigned?K:W;if(this.isNegative())return Q.isNegative()?this.neg().div(Q.neg()):this.neg().div(Q).neg();if(Q.isNegative())return this.div(Q.neg()).neg();L=W}for(N=this;N.gte(Q);){for(var U=Math.ceil(Math.log(R=Math.max(1,Math.floor(N.toNumber()/Q.toNumber())))/Math.LN2),P=U<=48?1:M(2,U-48),Y=fromNumber(R),ee=Y.mul(Q);ee.isNegative()||ee.gt(N);)R-=P,ee=(Y=fromNumber(R,this.unsigned)).mul(Q);Y.isZero()&&(Y=X),L=L.add(Y),N=N.sub(ee)}return L},ei.div=ei.divide,ei.modulo=function(Q){return(isLong(Q)||(Q=fromValue(Q)),S)?fromBits((this.unsigned?S.rem_u:S.rem_s)(this.low,this.high,Q.low,Q.high),S.get_high(),this.unsigned):this.sub(this.div(Q).mul(Q))},ei.mod=ei.modulo,ei.rem=ei.modulo,ei.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},ei.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ei.clz=ei.countLeadingZeros,ei.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32},ei.ctz=ei.countTrailingZeros,ei.and=function(Q){return isLong(Q)||(Q=fromValue(Q)),fromBits(this.low&Q.low,this.high&Q.high,this.unsigned)},ei.or=function(Q){return isLong(Q)||(Q=fromValue(Q)),fromBits(this.low|Q.low,this.high|Q.high,this.unsigned)},ei.xor=function(Q){return isLong(Q)||(Q=fromValue(Q)),fromBits(this.low^Q.low,this.high^Q.high,this.unsigned)},ei.shiftLeft=function(Q){return(isLong(Q)&&(Q=Q.toInt()),0==(Q&=63))?this:Q<32?fromBits(this.low<<Q,this.high<<Q|this.low>>>32-Q,this.unsigned):fromBits(0,this.low<<Q-32,this.unsigned)},ei.shl=ei.shiftLeft,ei.shiftRight=function(Q){return(isLong(Q)&&(Q=Q.toInt()),0==(Q&=63))?this:Q<32?fromBits(this.low>>>Q|this.high<<32-Q,this.high>>Q,this.unsigned):fromBits(this.high>>Q-32,this.high>=0?0:-1,this.unsigned)},ei.shr=ei.shiftRight,ei.shiftRightUnsigned=function(Q){return(isLong(Q)&&(Q=Q.toInt()),0==(Q&=63))?this:Q<32?fromBits(this.low>>>Q|this.high<<32-Q,this.high>>>Q,this.unsigned):32===Q?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>Q-32,0,this.unsigned)},ei.shru=ei.shiftRightUnsigned,ei.shr_u=ei.shiftRightUnsigned,ei.rotateLeft=function(Q){var S;return(isLong(Q)&&(Q=Q.toInt()),0==(Q&=63))?this:32===Q?fromBits(this.high,this.low,this.unsigned):Q<32?(S=32-Q,fromBits(this.low<<Q|this.high>>>S,this.high<<Q|this.low>>>S,this.unsigned)):(Q-=32,S=32-Q,fromBits(this.high<<Q|this.low>>>S,this.low<<Q|this.high>>>S,this.unsigned))},ei.rotl=ei.rotateLeft,ei.rotateRight=function(Q){var S;return(isLong(Q)&&(Q=Q.toInt()),0==(Q&=63))?this:32===Q?fromBits(this.high,this.low,this.unsigned):Q<32?(S=32-Q,fromBits(this.high<<S|this.low>>>Q,this.low<<S|this.high>>>Q,this.unsigned)):(Q-=32,S=32-Q,fromBits(this.low<<S|this.high>>>Q,this.high<<S|this.low>>>Q,this.unsigned))},ei.rotr=ei.rotateRight,ei.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},ei.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},ei.toBytes=function(Q){return Q?this.toBytesLE():this.toBytesBE()},ei.toBytesLE=function(){var Q=this.high,S=this.low;return[255&S,S>>>8&255,S>>>16&255,S>>>24,255&Q,Q>>>8&255,Q>>>16&255,Q>>>24]},ei.toBytesBE=function(){var Q=this.high,S=this.low;return[Q>>>24,Q>>>16&255,Q>>>8&255,255&Q,S>>>24,S>>>16&255,S>>>8&255,255&S]},Long.fromBytes=function(Q,S,R){return R?Long.fromBytesLE(Q,S):Long.fromBytesBE(Q,S)},Long.fromBytesLE=function(Q,S){return new Long(Q[0]|Q[1]<<8|Q[2]<<16|Q[3]<<24,Q[4]|Q[5]<<8|Q[6]<<16|Q[7]<<24,S)},Long.fromBytesBE=function(Q,S){return new Long(Q[4]<<24|Q[5]<<16|Q[6]<<8|Q[7],Q[0]<<24|Q[1]<<16|Q[2]<<8|Q[3],S)};var es=Long;return Q.default=es,"default"in Q?Q.default:Q}({});void 0!==(R=(function(){return N}).apply(S,[]))&&(Q.exports=R)},55087:(Q,S,R)=>{"use strict";let N,M;R.d(S,{Jn:()=>eG,qX:()=>_getProvider,Xd:()=>_registerComponent,Mq:()=>getApp,ZF:()=>initializeApp,KN:()=>registerVersion});var L=R(77345),U=R(9292),P=R(51780);let instanceOfAny=(Q,S)=>S.some(S=>Q instanceof S);function getIdbProxyableTypes(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return M||(M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let Y=new WeakMap,W=new WeakMap,K=new WeakMap,X=new WeakMap,Z=new WeakMap;function promisifyRequest(Q){let S=new Promise((S,R)=>{let unlisten=()=>{Q.removeEventListener("success",success),Q.removeEventListener("error",error)},success=()=>{S(wrap_idb_value_wrap(Q.result)),unlisten()},error=()=>{R(Q.error),unlisten()};Q.addEventListener("success",success),Q.addEventListener("error",error)});return S.then(S=>{S instanceof IDBCursor&&Y.set(S,Q)}).catch(()=>{}),Z.set(S,Q),S}function cacheDonePromiseForTransaction(Q){if(W.has(Q))return;let S=new Promise((S,R)=>{let unlisten=()=>{Q.removeEventListener("complete",complete),Q.removeEventListener("error",error),Q.removeEventListener("abort",error)},complete=()=>{S(),unlisten()},error=()=>{R(Q.error||new DOMException("AbortError","AbortError")),unlisten()};Q.addEventListener("complete",complete),Q.addEventListener("error",error),Q.addEventListener("abort",error)});W.set(Q,S)}let $={get(Q,S,R){if(Q instanceof IDBTransaction){if("done"===S)return W.get(Q);if("objectStoreNames"===S)return Q.objectStoreNames||K.get(Q);if("store"===S)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return wrap_idb_value_wrap(Q[S])},set:(Q,S,R)=>(Q[S]=R,!0),has:(Q,S)=>Q instanceof IDBTransaction&&("done"===S||"store"===S)||S in Q};function replaceTraps(Q){$=Q($)}function wrapFunction(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?getCursorAdvanceMethods().includes(Q)?function(...S){return Q.apply(unwrap(this),S),wrap_idb_value_wrap(Y.get(this))}:function(...S){return wrap_idb_value_wrap(Q.apply(unwrap(this),S))}:function(S,...R){let N=Q.call(unwrap(this),S,...R);return K.set(N,S.sort?S.sort():[S]),wrap_idb_value_wrap(N)}}function transformCachableValue(Q){return"function"==typeof Q?wrapFunction(Q):(Q instanceof IDBTransaction&&cacheDonePromiseForTransaction(Q),instanceOfAny(Q,getIdbProxyableTypes()))?new Proxy(Q,$):Q}function wrap_idb_value_wrap(Q){if(Q instanceof IDBRequest)return promisifyRequest(Q);if(X.has(Q))return X.get(Q);let S=transformCachableValue(Q);return S!==Q&&(X.set(Q,S),Z.set(S,Q)),S}let unwrap=Q=>Z.get(Q);function openDB(Q,S,{blocked:R,upgrade:N,blocking:M,terminated:L}={}){let U=indexedDB.open(Q,S),P=wrap_idb_value_wrap(U);return N&&U.addEventListener("upgradeneeded",Q=>{N(wrap_idb_value_wrap(U.result),Q.oldVersion,Q.newVersion,wrap_idb_value_wrap(U.transaction),Q)}),R&&U.addEventListener("blocked",Q=>R(Q.oldVersion,Q.newVersion,Q)),P.then(Q=>{L&&Q.addEventListener("close",()=>L()),M&&Q.addEventListener("versionchange",Q=>M(Q.oldVersion,Q.newVersion,Q))}).catch(()=>{}),P}let ee=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],en=new Map;function getMethod(Q,S){if(!(Q instanceof IDBDatabase&&!(S in Q)&&"string"==typeof S))return;if(en.get(S))return en.get(S);let R=S.replace(/FromIndex$/,""),N=S!==R,M=et.includes(R);if(!(R in(N?IDBIndex:IDBObjectStore).prototype)||!(M||ee.includes(R)))return;let method=async function(Q,...S){let L=this.transaction(Q,M?"readwrite":"readonly"),U=L.store;return N&&(U=U.index(S.shift())),(await Promise.all([U[R](...S),M&&L.done]))[0]};return en.set(S,method),method}replaceTraps(Q=>({...Q,get:(S,R,N)=>getMethod(S,R)||Q.get(S,R,N),has:(S,R)=>!!getMethod(S,R)||Q.has(S,R)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PlatformLoggerServiceImpl=class PlatformLoggerServiceImpl{constructor(Q){this.container=Q}getPlatformInfoString(){let Q=this.container.getProviders();return Q.map(Q=>{if(!isVersionServiceProvider(Q))return null;{let S=Q.getImmediate();return`${S.library}/${S.version}`}}).filter(Q=>Q).join(" ")}};function isVersionServiceProvider(Q){let S=Q.getComponent();return(null==S?void 0:S.type)==="VERSION"}let ei="@firebase/app",es="0.10.3",eo=new U.Yd("@firebase/app"),ea="@firebase/app-compat",eA="@firebase/analytics-compat",ec="@firebase/analytics",eu="@firebase/app-check-compat",eh="@firebase/app-check",ed="@firebase/auth",eg="@firebase/auth-compat",ep="@firebase/database",ef="@firebase/database-compat",eE="@firebase/functions",em="@firebase/functions-compat",eC="@firebase/installations",eI="@firebase/installations-compat",eB="@firebase/messaging",ey="@firebase/messaging-compat",eQ="@firebase/performance",eS="@firebase/performance-compat",eb="@firebase/remote-config",ew="@firebase/remote-config-compat",eD="@firebase/storage",eR="@firebase/storage-compat",eT="@firebase/firestore",ek="@firebase/vertexai-preview",eN="@firebase/firestore-compat",eF="firebase",eM="10.12.0",eL="[DEFAULT]",ex={[ei]:"fire-core",[ea]:"fire-core-compat",[ec]:"fire-analytics",[eA]:"fire-analytics-compat",[eh]:"fire-app-check",[eu]:"fire-app-check-compat",[ed]:"fire-auth",[eg]:"fire-auth-compat",[ep]:"fire-rtdb",[ef]:"fire-rtdb-compat",[eE]:"fire-fn",[em]:"fire-fn-compat",[eC]:"fire-iid",[eI]:"fire-iid-compat",[eB]:"fire-fcm",[ey]:"fire-fcm-compat",[eQ]:"fire-perf",[eS]:"fire-perf-compat",[eb]:"fire-rc",[ew]:"fire-rc-compat",[eD]:"fire-gcs",[eR]:"fire-gcs-compat",[eT]:"fire-fst",[eN]:"fire-fst-compat",[ek]:"fire-vertex","fire-js":"fire-js",[eF]:"fire-js-all"},e_=new Map,eU=new Map,eO=new Map;function _addComponent(Q,S){try{Q.container.addComponent(S)}catch(R){eo.debug(`Component ${S.name} failed to register with FirebaseApp ${Q.name}`,R)}}function _registerComponent(Q){let S=Q.name;if(eO.has(S))return eo.debug(`There were multiple attempts to register component ${S}.`),!1;for(let R of(eO.set(S,Q),e_.values()))_addComponent(R,Q);for(let S of eU.values())_addComponent(S,Q);return!0}function _getProvider(Q,S){let R=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return R&&R.triggerHeartbeat(),Q.container.getProvider(S)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eV=new P.LL("app","Firebase",eP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FirebaseAppImpl=class FirebaseAppImpl{constructor(Q,S,R){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},S),this._name=S.name,this._automaticDataCollectionEnabled=S.automaticDataCollectionEnabled,this._container=R,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw eV.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eG=eM;function initializeApp(Q,S={}){let R=Q;if("object"!=typeof S){let Q=S;S={name:Q}}let N=Object.assign({name:eL,automaticDataCollectionEnabled:!1},S),M=N.name;if("string"!=typeof M||!M)throw eV.create("bad-app-name",{appName:String(M)});if(R||(R=(0,P.aH)()),!R)throw eV.create("no-options");let U=e_.get(M);if(U){if((0,P.vZ)(R,U.options)&&(0,P.vZ)(N,U.config))return U;throw eV.create("duplicate-app",{appName:M})}let Y=new L.H0(M);for(let Q of eO.values())Y.addComponent(Q);let W=new FirebaseAppImpl(R,N,Y);return e_.set(M,W),W}function getApp(Q=eL){let S=e_.get(Q);if(!S&&Q===eL&&(0,P.aH)())return initializeApp();if(!S)throw eV.create("no-app",{appName:Q});return S}function registerVersion(Q,S,R){var N;let M=null!==(N=ex[Q])&&void 0!==N?N:Q;R&&(M+=`-${R}`);let U=M.match(/\s|\//),P=S.match(/\s|\//);if(U||P){let Q=[`Unable to register library "${M}" with version "${S}":`];U&&Q.push(`library name "${M}" contains illegal characters (whitespace or "/")`),U&&P&&Q.push("and"),P&&Q.push(`version name "${S}" contains illegal characters (whitespace or "/")`),eo.warn(Q.join(" "));return}_registerComponent(new L.wA(`${M}-version`,()=>({library:M,version:S}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eH="firebase-heartbeat-database",eY=1,eJ="firebase-heartbeat-store",eW=null;function getDbPromise(){return eW||(eW=openDB(eH,eY,{upgrade:(Q,S)=>{if(0===S)try{Q.createObjectStore(eJ)}catch(Q){console.warn(Q)}}}).catch(Q=>{throw eV.create("idb-open",{originalErrorMessage:Q.message})})),eW}async function readHeartbeatsFromIndexedDB(Q){try{let S=await getDbPromise(),R=S.transaction(eJ),N=await R.objectStore(eJ).get(computeKey(Q));return await R.done,N}catch(Q){if(Q instanceof P.ZR)eo.warn(Q.message);else{let S=eV.create("idb-get",{originalErrorMessage:null==Q?void 0:Q.message});eo.warn(S.message)}}}async function writeHeartbeatsToIndexedDB(Q,S){try{let R=await getDbPromise(),N=R.transaction(eJ,"readwrite"),M=N.objectStore(eJ);await M.put(S,computeKey(Q)),await N.done}catch(Q){if(Q instanceof P.ZR)eo.warn(Q.message);else{let S=eV.create("idb-set",{originalErrorMessage:null==Q?void 0:Q.message});eo.warn(S.message)}}}function computeKey(Q){return`${Q.name}!${Q.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ej=1024,ez=2592e6;let HeartbeatServiceImpl=class HeartbeatServiceImpl{constructor(Q){this.container=Q,this._heartbeatsCache=null;let S=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(S),this._heartbeatsCachePromise=this._storage.read().then(Q=>(this._heartbeatsCache=Q,Q))}async triggerHeartbeat(){var Q,S;let R=this.container.getProvider("platform-logger").getImmediate(),N=R.getPlatformInfoString(),M=getUTCDateString();return(null===(Q=this._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(S=this._heartbeatsCache)||void 0===S?void 0:S.heartbeats)==null)?void 0:this._heartbeatsCache.lastSentHeartbeatDate===M||this._heartbeatsCache.heartbeats.some(Q=>Q.date===M)?void 0:(this._heartbeatsCache.heartbeats.push({date:M,agent:N}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(Q=>{let S=new Date(Q.date).valueOf(),R=Date.now();return R-S<=ez}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){var Q;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(Q=this._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let S=getUTCDateString(),{heartbeatsToSend:R,unsentEntries:N}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),M=(0,P.L)(JSON.stringify({version:2,heartbeats:R}));return this._heartbeatsCache.lastSentHeartbeatDate=S,N.length>0?(this._heartbeatsCache.heartbeats=N,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),M}};function getUTCDateString(){let Q=new Date;return Q.toISOString().substring(0,10)}function extractHeartbeatsForHeader(Q,S=ej){let R=[],N=Q.slice();for(let M of Q){let Q=R.find(Q=>Q.agent===M.agent);if(Q){if(Q.dates.push(M.date),countBytes(R)>S){Q.dates.pop();break}}else if(R.push({agent:M.agent,dates:[M.date]}),countBytes(R)>S){R.pop();break}N=N.slice(1)}return{heartbeatsToSend:R,unsentEntries:N}}let HeartbeatStorageImpl=class HeartbeatStorageImpl{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,P.hl)()&&(0,P.eu)().then(()=>!0).catch(()=>!1)}async read(){let Q=await this._canUseIndexedDBPromise;if(!Q)return{heartbeats:[]};{let Q=await readHeartbeatsFromIndexedDB(this.app);return(null==Q?void 0:Q.heartbeats)?Q:{heartbeats:[]}}}async overwrite(Q){var S;let R=await this._canUseIndexedDBPromise;if(R){let R=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(S=Q.lastSentHeartbeatDate)&&void 0!==S?S:R.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}}async add(Q){var S;let R=await this._canUseIndexedDBPromise;if(R){let R=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(S=Q.lastSentHeartbeatDate)&&void 0!==S?S:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...Q.heartbeats]})}}};function countBytes(Q){return(0,P.L)(JSON.stringify({version:2,heartbeats:Q})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(Q){_registerComponent(new L.wA("platform-logger",Q=>new PlatformLoggerServiceImpl(Q),"PRIVATE")),_registerComponent(new L.wA("heartbeat",Q=>new HeartbeatServiceImpl(Q),"PRIVATE")),registerVersion(ei,es,""),registerVersion(ei,es,"esm2017"),registerVersion("fire-js","")})(0)},77345:(Q,S,R)=>{"use strict";R.d(S,{H0:()=>ComponentContainer,wA:()=>Component});var N=R(51780);let Component=class Component{constructor(Q,S,R){this.name=Q,this.instanceFactory=S,this.type=R,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider=class Provider{constructor(Q,S){this.name=Q,this.container=S,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){let S=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(S)){let Q=new N.BH;if(this.instancesDeferred.set(S,Q),this.isInitialized(S)||this.shouldAutoInitialize())try{let R=this.getOrInitializeService({instanceIdentifier:S});R&&Q.resolve(R)}catch(Q){}}return this.instancesDeferred.get(S).promise}getImmediate(Q){var S;let R=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),N=null!==(S=null==Q?void 0:Q.optional)&&void 0!==S&&S;if(this.isInitialized(R)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:R})}catch(Q){if(N)return null;throw Q}else{if(N)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(isComponentEager(Q))try{this.getOrInitializeService({instanceIdentifier:M})}catch(Q){}for(let[Q,S]of this.instancesDeferred.entries()){let R=this.normalizeInstanceIdentifier(Q);try{let Q=this.getOrInitializeService({instanceIdentifier:R});S.resolve(Q)}catch(Q){}}}}clearInstance(Q=M){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}async delete(){let Q=Array.from(this.instances.values());await Promise.all([...Q.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...Q.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])}isComponentSet(){return null!=this.component}isInitialized(Q=M){return this.instances.has(Q)}getOptions(Q=M){return this.instancesOptions.get(Q)||{}}initialize(Q={}){let{options:S={}}=Q,R=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(R))throw Error(`${this.name}(${R}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let N=this.getOrInitializeService({instanceIdentifier:R,options:S});for(let[Q,S]of this.instancesDeferred.entries()){let M=this.normalizeInstanceIdentifier(Q);R===M&&S.resolve(N)}return N}onInit(Q,S){var R;let N=this.normalizeInstanceIdentifier(S),M=null!==(R=this.onInitCallbacks.get(N))&&void 0!==R?R:new Set;M.add(Q),this.onInitCallbacks.set(N,M);let L=this.instances.get(N);return L&&Q(L,N),()=>{M.delete(Q)}}invokeOnInitCallbacks(Q,S){let R=this.onInitCallbacks.get(S);if(R)for(let N of R)try{N(Q,S)}catch(Q){}}getOrInitializeService({instanceIdentifier:Q,options:S={}}){let R=this.instances.get(Q);if(!R&&this.component&&(R=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(Q),options:S}),this.instances.set(Q,R),this.instancesOptions.set(Q,S),this.invokeOnInitCallbacks(R,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,R)}catch(Q){}return R||null}normalizeInstanceIdentifier(Q=M){return this.component?this.component.multipleInstances?Q:M:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}};function normalizeIdentifierForFactory(Q){return Q===M?void 0:Q}function isComponentEager(Q){return"EAGER"===Q.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ComponentContainer=class ComponentContainer{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){let S=this.getProvider(Q.name);if(S.isComponentSet())throw Error(`Component ${Q.name} has already been registered with ${this.name}`);S.setComponent(Q)}addOrOverwriteComponent(Q){let S=this.getProvider(Q.name);S.isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);let S=new Provider(Q,this);return this.providers.set(Q,S),S}getProviders(){return Array.from(this.providers.values())}}},9292:(Q,S,R)=>{"use strict";var N;R.d(S,{Yd:()=>Logger,in:()=>N});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M=[];!function(Q){Q[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT"}(N||(N={}));let L={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},U=N.INFO,P={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},defaultLogHandler=(Q,S,...R)=>{if(S<Q.logLevel)return;let N=new Date().toISOString(),M=P[S];if(M)console[M](`[${N}]  ${Q.name}:`,...R);else throw Error(`Attempted to log a message with an invalid logType (value: ${S})`)};let Logger=class Logger{constructor(Q){this.name=Q,this._logLevel=U,this._logHandler=defaultLogHandler,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in N))throw TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?L[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...Q),this._logHandler(this,N.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...Q),this._logHandler(this,N.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,N.INFO,...Q),this._logHandler(this,N.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,N.WARN,...Q),this._logHandler(this,N.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...Q),this._logHandler(this,N.ERROR,...Q)}}},51780:(Q,S,R)=>{"use strict";R.d(S,{BH:()=>Deferred,G6:()=>isSafari,L:()=>base64urlEncodeWithoutPadding,LL:()=>ErrorFactory,P0:()=>getDefaultEmulatorHostnameAndPort,Sg:()=>createMockUserToken,ZR:()=>FirebaseError,aH:()=>getDefaultAppConfig,eu:()=>validateIndexedDBOpenable,hl:()=>isIndexedDBAvailable,m9:()=>getModularInstance,vZ:()=>deepEqual,z$:()=>getUA});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N={NODE_CLIENT:!1},stringToByteArray$1=function(Q){let S=[],R=0;for(let N=0;N<Q.length;N++){let M=Q.charCodeAt(N);M<128?S[R++]=M:(M<2048?S[R++]=M>>6|192:((64512&M)==55296&&N+1<Q.length&&(64512&Q.charCodeAt(N+1))==56320?(M=65536+((1023&M)<<10)+(1023&Q.charCodeAt(++N)),S[R++]=M>>18|240,S[R++]=M>>12&63|128):S[R++]=M>>12|224,S[R++]=M>>6&63|128),S[R++]=63&M|128)}return S},byteArrayToString=function(Q){let S=[],R=0,N=0;for(;R<Q.length;){let M=Q[R++];if(M<128)S[N++]=String.fromCharCode(M);else if(M>191&&M<224){let L=Q[R++];S[N++]=String.fromCharCode((31&M)<<6|63&L)}else if(M>239&&M<365){let L=Q[R++],U=Q[R++],P=Q[R++],Y=((7&M)<<18|(63&L)<<12|(63&U)<<6|63&P)-65536;S[N++]=String.fromCharCode(55296+(Y>>10)),S[N++]=String.fromCharCode(56320+(1023&Y))}else{let L=Q[R++],U=Q[R++];S[N++]=String.fromCharCode((15&M)<<12|(63&L)<<6|63&U)}}return S.join("")},M={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,S){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();let R=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let S=0;S<Q.length;S+=3){let M=Q[S],L=S+1<Q.length,U=L?Q[S+1]:0,P=S+2<Q.length,Y=P?Q[S+2]:0,W=M>>2,K=(3&M)<<4|U>>4,X=(15&U)<<2|Y>>6,Z=63&Y;P||(Z=64,L||(X=64)),N.push(R[W],R[K],R[X],R[Z])}return N.join("")},encodeString(Q,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(Q):this.encodeByteArray(stringToByteArray$1(Q),S)},decodeString(Q,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(Q):byteArrayToString(this.decodeStringToByteArray(Q,S))},decodeStringToByteArray(Q,S){this.init_();let R=S?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let S=0;S<Q.length;){let M=R[Q.charAt(S++)],L=S<Q.length,U=L?R[Q.charAt(S)]:0;++S;let P=S<Q.length,Y=P?R[Q.charAt(S)]:64;++S;let W=S<Q.length,K=W?R[Q.charAt(S)]:64;if(++S,null==M||null==U||null==Y||null==K)throw new DecodeBase64StringError;let X=M<<2|U>>4;if(N.push(X),64!==Y){let Q=U<<4&240|Y>>2;if(N.push(Q),64!==K){let Q=Y<<6&192|K;N.push(Q)}}}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};let DecodeBase64StringError=class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};let base64Encode=function(Q){let S=stringToByteArray$1(Q);return M.encodeByteArray(S,!0)},base64urlEncodeWithoutPadding=function(Q){return base64Encode(Q).replace(/\./g,"")},base64Decode=function(Q){try{return M.decodeString(Q,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if("undefined"==typeof process||void 0===process.env)return;let Q=process.env.__FIREBASE_DEFAULTS__;if(Q)return JSON.parse(Q)},getDefaultsFromCookie=()=>{let Q;if("undefined"==typeof document)return;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Q){return}let S=Q&&base64Decode(Q[1]);return S&&JSON.parse(S)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(Q){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`);return}},getDefaultEmulatorHost=Q=>{var S,R;return null===(R=null===(S=getDefaults())||void 0===S?void 0:S.emulatorHosts)||void 0===R?void 0:R[Q]},getDefaultEmulatorHostnameAndPort=Q=>{let S=getDefaultEmulatorHost(Q);if(!S)return;let R=S.lastIndexOf(":");if(R<=0||R+1===S.length)throw Error(`Invalid host ${S} with no separate hostname and port!`);let N=parseInt(S.substring(R+1),10);return"["===S[0]?[S.substring(1,R-1),N]:[S.substring(0,R),N]},getDefaultAppConfig=()=>{var Q;return null===(Q=getDefaults())||void 0===Q?void 0:Q.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Deferred=class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,S)=>{this.resolve=Q,this.reject=S})}wrapCallback(Q){return(S,R)=>{S?this.reject(S):this.resolve(R),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(S):Q(S,R))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(Q,S){if(Q.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let R={alg:"none",type:"JWT"},N=S||"demo-project",M=Q.iat||0,L=Q.sub||Q.user_id;if(!L)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let U=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:M,exp:M+3600,auth_time:M,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},Q),P="";return[base64urlEncodeWithoutPadding(JSON.stringify(R)),base64urlEncodeWithoutPadding(JSON.stringify(U)),P].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isNode(){var Q;let S=null===(Q=getDefaults())||void 0===Q?void 0:Q.forceEnvironment;if("node"===S)return!0;if("browser"===S)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return"object"==typeof indexedDB}catch(Q){return!1}}function validateIndexedDBOpenable(){return new Promise((Q,S)=>{try{let R=!0,N="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(N);M.onsuccess=()=>{M.result.close(),R||self.indexedDB.deleteDatabase(N),Q(!0)},M.onupgradeneeded=()=>{R=!1},M.onerror=()=>{var Q;S((null===(Q=M.error)||void 0===Q?void 0:Q.message)||"")}}catch(Q){S(Q)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L="FirebaseError";let FirebaseError=class FirebaseError extends Error{constructor(Q,S,R){super(S),this.code=Q,this.customData=R,this.name=L,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}};let ErrorFactory=class ErrorFactory{constructor(Q,S,R){this.service=Q,this.serviceName=S,this.errors=R}create(Q,...S){let R=S[0]||{},N=`${this.service}/${Q}`,M=this.errors[Q],L=M?replaceTemplate(M,R):"Error",U=`${this.serviceName}: ${L} (${N}).`,P=new FirebaseError(N,U,R);return P}};function replaceTemplate(Q,S){return Q.replace(U,(Q,R)=>{let N=S[R];return null!=N?String(N):`<${R}?>`})}let U=/\{\$([^}]+)}/g;function deepEqual(Q,S){if(Q===S)return!0;let R=Object.keys(Q),N=Object.keys(S);for(let M of R){if(!N.includes(M))return!1;let R=Q[M],L=S[M];if(isObject(R)&&isObject(L)){if(!deepEqual(R,L))return!1}else if(R!==L)return!1}for(let Q of N)if(!R.includes(Q))return!1;return!0}function isObject(Q){return null!==Q&&"object"==typeof Q}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(Q){return Q&&Q._delegate?Q._delegate:Q}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */N.NODE_CLIENT=!0},72856:(Q,S,R)=>{"use strict";R.d(S,{ZF:()=>N.ZF});var N=R(55087),M="firebase",L="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,N.KN)(M,L,"app")},29904:(Q,S,R)=>{"use strict";R.d(S,{ET:()=>addDoc,hJ:()=>collection,PL:()=>getDocs,ad:()=>getFirestore});var N,M,L,U,P=R(55087),Y=R(77345),W=R(9292),K=R(73837),X=R(51780),Z=R(6113),$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ee={};(function(){function m(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(Q,S,R){R||(R=0);var N=Array(16);if("string"==typeof S)for(var M=0;16>M;++M)N[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=Q.g[0],R=Q.g[1],M=Q.g[2];var L=Q.g[3],U=S+(L^R&(M^L))+N[0]+3614090360&4294967295;U=L+(M^(S=R+(U<<7&4294967295|U>>>25))&(R^M))+N[1]+3905402710&4294967295,U=M+(R^(L=S+(U<<12&4294967295|U>>>20))&(S^R))+N[2]+606105819&4294967295,U=R+(S^(M=L+(U<<17&4294967295|U>>>15))&(L^S))+N[3]+3250441966&4294967295,U=S+(L^(R=M+(U<<22&4294967295|U>>>10))&(M^L))+N[4]+4118548399&4294967295,U=L+(M^(S=R+(U<<7&4294967295|U>>>25))&(R^M))+N[5]+1200080426&4294967295,U=M+(R^(L=S+(U<<12&4294967295|U>>>20))&(S^R))+N[6]+2821735955&4294967295,U=R+(S^(M=L+(U<<17&4294967295|U>>>15))&(L^S))+N[7]+4249261313&4294967295,U=S+(L^(R=M+(U<<22&4294967295|U>>>10))&(M^L))+N[8]+1770035416&4294967295,U=L+(M^(S=R+(U<<7&4294967295|U>>>25))&(R^M))+N[9]+2336552879&4294967295,U=M+(R^(L=S+(U<<12&4294967295|U>>>20))&(S^R))+N[10]+4294925233&4294967295,U=R+(S^(M=L+(U<<17&4294967295|U>>>15))&(L^S))+N[11]+2304563134&4294967295,U=S+(L^(R=M+(U<<22&4294967295|U>>>10))&(M^L))+N[12]+1804603682&4294967295,U=L+(M^(S=R+(U<<7&4294967295|U>>>25))&(R^M))+N[13]+4254626195&4294967295,U=M+(R^(L=S+(U<<12&4294967295|U>>>20))&(S^R))+N[14]+2792965006&4294967295,U=R+(S^(M=L+(U<<17&4294967295|U>>>15))&(L^S))+N[15]+1236535329&4294967295,R=M+(U<<22&4294967295|U>>>10),U=S+(M^L&(R^M))+N[1]+4129170786&4294967295,S=R+(U<<5&4294967295|U>>>27),U=L+(R^M&(S^R))+N[6]+3225465664&4294967295,L=S+(U<<9&4294967295|U>>>23),U=M+(S^R&(L^S))+N[11]+643717713&4294967295,M=L+(U<<14&4294967295|U>>>18),U=R+(L^S&(M^L))+N[0]+3921069994&4294967295,R=M+(U<<20&4294967295|U>>>12),U=S+(M^L&(R^M))+N[5]+3593408605&4294967295,S=R+(U<<5&4294967295|U>>>27),U=L+(R^M&(S^R))+N[10]+38016083&4294967295,L=S+(U<<9&4294967295|U>>>23),U=M+(S^R&(L^S))+N[15]+3634488961&4294967295,M=L+(U<<14&4294967295|U>>>18),U=R+(L^S&(M^L))+N[4]+3889429448&4294967295,R=M+(U<<20&4294967295|U>>>12),U=S+(M^L&(R^M))+N[9]+568446438&4294967295,S=R+(U<<5&4294967295|U>>>27),U=L+(R^M&(S^R))+N[14]+3275163606&4294967295,L=S+(U<<9&4294967295|U>>>23),U=M+(S^R&(L^S))+N[3]+4107603335&4294967295,M=L+(U<<14&4294967295|U>>>18),U=R+(L^S&(M^L))+N[8]+1163531501&4294967295,R=M+(U<<20&4294967295|U>>>12),U=S+(M^L&(R^M))+N[13]+2850285829&4294967295,S=R+(U<<5&4294967295|U>>>27),U=L+(R^M&(S^R))+N[2]+4243563512&4294967295,L=S+(U<<9&4294967295|U>>>23),U=M+(S^R&(L^S))+N[7]+1735328473&4294967295,M=L+(U<<14&4294967295|U>>>18),U=R+(L^S&(M^L))+N[12]+2368359562&4294967295,U=S+((R=M+(U<<20&4294967295|U>>>12))^M^L)+N[5]+4294588738&4294967295,U=L+((S=R+(U<<4&4294967295|U>>>28))^R^M)+N[8]+2272392833&4294967295,U=M+((L=S+(U<<11&4294967295|U>>>21))^S^R)+N[11]+1839030562&4294967295,U=R+((M=L+(U<<16&4294967295|U>>>16))^L^S)+N[14]+4259657740&4294967295,U=S+((R=M+(U<<23&4294967295|U>>>9))^M^L)+N[1]+2763975236&4294967295,U=L+((S=R+(U<<4&4294967295|U>>>28))^R^M)+N[4]+1272893353&4294967295,U=M+((L=S+(U<<11&4294967295|U>>>21))^S^R)+N[7]+4139469664&4294967295,U=R+((M=L+(U<<16&4294967295|U>>>16))^L^S)+N[10]+3200236656&4294967295,U=S+((R=M+(U<<23&4294967295|U>>>9))^M^L)+N[13]+681279174&4294967295,U=L+((S=R+(U<<4&4294967295|U>>>28))^R^M)+N[0]+3936430074&4294967295,U=M+((L=S+(U<<11&4294967295|U>>>21))^S^R)+N[3]+3572445317&4294967295,U=R+((M=L+(U<<16&4294967295|U>>>16))^L^S)+N[6]+76029189&4294967295,U=S+((R=M+(U<<23&4294967295|U>>>9))^M^L)+N[9]+3654602809&4294967295,U=L+((S=R+(U<<4&4294967295|U>>>28))^R^M)+N[12]+3873151461&4294967295,U=M+((L=S+(U<<11&4294967295|U>>>21))^S^R)+N[15]+530742520&4294967295,U=R+((M=L+(U<<16&4294967295|U>>>16))^L^S)+N[2]+3299628645&4294967295,R=M+(U<<23&4294967295|U>>>9),U=S+(M^(R|~L))+N[0]+4096336452&4294967295,S=R+(U<<6&4294967295|U>>>26),U=L+(R^(S|~M))+N[7]+1126891415&4294967295,L=S+(U<<10&4294967295|U>>>22),U=M+(S^(L|~R))+N[14]+2878612391&4294967295,M=L+(U<<15&4294967295|U>>>17),U=R+(L^(M|~S))+N[5]+4237533241&4294967295,R=M+(U<<21&4294967295|U>>>11),U=S+(M^(R|~L))+N[12]+1700485571&4294967295,S=R+(U<<6&4294967295|U>>>26),U=L+(R^(S|~M))+N[3]+2399980690&4294967295,L=S+(U<<10&4294967295|U>>>22),U=M+(S^(L|~R))+N[10]+4293915773&4294967295,M=L+(U<<15&4294967295|U>>>17),U=R+(L^(M|~S))+N[1]+2240044497&4294967295,R=M+(U<<21&4294967295|U>>>11),U=S+(M^(R|~L))+N[8]+1873313359&4294967295,S=R+(U<<6&4294967295|U>>>26),U=L+(R^(S|~M))+N[15]+4264355552&4294967295,L=S+(U<<10&4294967295|U>>>22),U=M+(S^(L|~R))+N[6]+2734768916&4294967295,M=L+(U<<15&4294967295|U>>>17),U=R+(L^(M|~S))+N[13]+1309151649&4294967295,R=M+(U<<21&4294967295|U>>>11),U=S+(M^(R|~L))+N[4]+4149444226&4294967295,S=R+(U<<6&4294967295|U>>>26),U=L+(R^(S|~M))+N[11]+3174756917&4294967295,L=S+(U<<10&4294967295|U>>>22),U=M+(S^(L|~R))+N[2]+718787259&4294967295,M=L+(U<<15&4294967295|U>>>17),U=R+(L^(M|~S))+N[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+S&4294967295,Q.g[1]=Q.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,Q.g[2]=Q.g[2]+M&4294967295,Q.g[3]=Q.g[3]+L&4294967295}function p(Q,R){var N=S;return Object.prototype.hasOwnProperty.call(N,Q)?N[Q]:N[Q]=R(Q)}function t(Q,S){this.h=S;for(var R=[],N=!0,M=Q.length-1;0<=M;M--){var L=0|Q[M];N&&L==S||(R[M]=L,N=!1)}this.g=R}(function(Q,S){function c(){}c.prototype=S.prototype,Q.D=S.prototype,Q.prototype=new c,Q.prototype.constructor=Q,Q.C=function(Q,R,N){for(var M=Array(arguments.length-2),L=2;L<arguments.length;L++)M[L-2]=arguments[L];return S.prototype[R].apply(Q,M)}})(m,function(){this.blockSize=-1}),m.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},m.prototype.u=function(Q,S){void 0===S&&(S=Q.length);for(var R=S-this.blockSize,N=this.B,M=this.h,L=0;L<S;){if(0==M)for(;L<=R;)n(this,Q,L),L+=this.blockSize;if("string"==typeof Q){for(;L<S;)if(N[M++]=Q.charCodeAt(L++),M==this.blockSize){n(this,N),M=0;break}}else for(;L<S;)if(N[M++]=Q[L++],M==this.blockSize){n(this,N),M=0;break}}this.h=M,this.o+=S},m.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var S=1;S<Q.length-8;++S)Q[S]=0;var R=8*this.o;for(S=Q.length-8;S<Q.length;++S)Q[S]=255&R,R/=256;for(this.u(Q),Q=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)Q[R++]=this.g[S]>>>N&255;return Q};var Q,S={};function u(Q){return -128<=Q&&128>Q?p(Q,function(Q){return new t([0|Q],0>Q?-1:0)}):new t([0|Q],0>Q?-1:0)}function v(Q){if(isNaN(Q)||!isFinite(Q))return R;if(0>Q)return x(v(-Q));for(var S=[],N=1,M=0;Q>=N;M++)S[M]=Q/N|0,N*=4294967296;return new t(S,0)}function y(Q,S){if(0==Q.length)throw Error("number format error: empty string");if(2>(S=S||10)||36<S)throw Error("radix out of range: "+S);if("-"==Q.charAt(0))return x(y(Q.substring(1),S));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=v(Math.pow(S,8)),M=R,L=0;L<Q.length;L+=8){var U=Math.min(8,Q.length-L),P=parseInt(Q.substring(L,L+U),S);8>U?(U=v(Math.pow(S,U)),M=M.j(U).add(v(P))):M=(M=M.j(N)).add(v(P))}return M}var R=u(0),L=u(1),U=u(16777216);function C(Q){if(0!=Q.h)return!1;for(var S=0;S<Q.g.length;S++)if(0!=Q.g[S])return!1;return!0}function B(Q){return -1==Q.h}function x(Q){for(var S=Q.g.length,R=[],N=0;N<S;N++)R[N]=~Q.g[N];return new t(R,~Q.h).add(L)}function F(Q,S){return Q.add(x(S))}function G(Q,S){for(;(65535&Q[S])!=Q[S];)Q[S+1]+=Q[S]>>>16,Q[S]&=65535,S++}function H(Q,S){this.g=Q,this.h=S}function D(Q,S){if(C(S))throw Error("division by zero");if(C(Q))return new H(R,R);if(B(Q))return S=D(x(Q),S),new H(x(S.g),x(S.h));if(B(S))return S=D(Q,x(S)),new H(x(S.g),S.h);if(30<Q.g.length){if(B(Q)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var N=L,M=S;0>=M.l(Q);)N=I(N),M=I(M);var U=J(N,1),P=J(M,1);for(M=J(M,2),N=J(N,2);!C(M);){var Y=P.add(M);0>=Y.l(Q)&&(U=U.add(N),P=Y),M=J(M,1),N=J(N,1)}return S=F(Q,U.j(S)),new H(U,S)}for(U=R;0<=Q.l(S);){for(M=48>=(M=Math.ceil(Math.log(N=Math.max(1,Math.floor(Q.m()/S.m())))/Math.LN2))?1:Math.pow(2,M-48),Y=(P=v(N)).j(S);B(Y)||0<Y.l(Q);)N-=M,Y=(P=v(N)).j(S);C(P)&&(P=L),U=U.add(P),Q=F(Q,Y)}return new H(U,Q)}function I(Q){for(var S=Q.g.length+1,R=[],N=0;N<S;N++)R[N]=Q.i(N)<<1|Q.i(N-1)>>>31;return new t(R,Q.h)}function J(Q,S){var R=S>>5;S%=32;for(var N=Q.g.length-R,M=[],L=0;L<N;L++)M[L]=0<S?Q.i(L+R)>>>S|Q.i(L+R+1)<<32-S:Q.i(L+R);return new t(M,Q.h)}(Q=t.prototype).m=function(){if(B(this))return-x(this).m();for(var Q=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);Q+=(0<=N?N:4294967296+N)*S,S*=4294967296}return Q},Q.toString=function(Q){if(2>(Q=Q||10)||36<Q)throw Error("radix out of range: "+Q);if(C(this))return"0";if(B(this))return"-"+x(this).toString(Q);for(var S=v(Math.pow(Q,6)),R=this,N="";;){var M=D(R,S).g,L=((0<(R=F(R,M.j(S))).g.length?R.g[0]:R.h)>>>0).toString(Q);if(C(R=M))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},Q.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h},Q.l=function(Q){return B(Q=F(this,Q))?-1:C(Q)?0:1},Q.abs=function(){return B(this)?x(this):this},Q.add=function(Q){for(var S=Math.max(this.g.length,Q.g.length),R=[],N=0,M=0;M<=S;M++){var L=N+(65535&this.i(M))+(65535&Q.i(M)),U=(L>>>16)+(this.i(M)>>>16)+(Q.i(M)>>>16);N=U>>>16,L&=65535,U&=65535,R[M]=U<<16|L}return new t(R,-2147483648&R[R.length-1]?-1:0)},Q.j=function(Q){if(C(this)||C(Q))return R;if(B(this))return B(Q)?x(this).j(x(Q)):x(x(this).j(Q));if(B(Q))return x(this.j(x(Q)));if(0>this.l(U)&&0>Q.l(U))return v(this.m()*Q.m());for(var S=this.g.length+Q.g.length,N=[],M=0;M<2*S;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<Q.g.length;L++){var P=this.i(M)>>>16,Y=65535&this.i(M),W=Q.i(L)>>>16,K=65535&Q.i(L);N[2*M+2*L]+=Y*K,G(N,2*M+2*L),N[2*M+2*L+1]+=P*K,G(N,2*M+2*L+1),N[2*M+2*L+1]+=Y*W,G(N,2*M+2*L+1),N[2*M+2*L+2]+=P*W,G(N,2*M+2*L+2)}for(M=0;M<S;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=S;M<2*S;M++)N[M]=0;return new t(N,0)},Q.A=function(Q){return D(this,Q).h},Q.and=function(Q){for(var S=Math.max(this.g.length,Q.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&Q.i(N);return new t(R,this.h&Q.h)},Q.or=function(Q){for(var S=Math.max(this.g.length,Q.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|Q.i(N);return new t(R,this.h|Q.h)},Q.xor=function(Q){for(var S=Math.max(this.g.length,Q.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^Q.i(N);return new t(R,this.h^Q.h)},m.prototype.digest=m.prototype.v,m.prototype.reset=m.prototype.s,m.prototype.update=m.prototype.u,M=ee.Md5=m,t.prototype.add=t.prototype.add,t.prototype.multiply=t.prototype.j,t.prototype.modulo=t.prototype.A,t.prototype.compare=t.prototype.l,t.prototype.toNumber=t.prototype.m,t.prototype.toString=t.prototype.toString,t.prototype.getBits=t.prototype.i,t.fromNumber=v,t.fromString=y,N=ee.Integer=t}).apply(void 0!==$?$:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var et=R(16063),en=R(18196);let ei="@firebase/firestore",es="4.6.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let User=class User{constructor(Q){this.uid=Q}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(Q){return Q.uid===this.uid}};User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");let eo="10.12.0",ea=eo;function setSDKVersion(Q){ea=Q}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function formatJSON(Q){return(0,K.inspect)(Q,{depth:100})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eA=new W.Yd("@firebase/firestore");function getLogLevel(){return eA.logLevel}function logDebug(Q,...S){if(eA.logLevel<=W.in.DEBUG){let R=S.map(argToString);eA.debug(`Firestore (${ea}): ${Q}`,...R)}}function logError(Q,...S){if(eA.logLevel<=W.in.ERROR){let R=S.map(argToString);eA.error(`Firestore (${ea}): ${Q}`,...R)}}function logWarn(Q,...S){if(eA.logLevel<=W.in.WARN){let R=S.map(argToString);eA.warn(`Firestore (${ea}): ${Q}`,...R)}}function argToString(Q){if("string"==typeof Q)return Q;try{return formatJSON(Q)}catch(S){return Q}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(Q="Unexpected state"){let S=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+Q;throw logError(S),Error(S)}function hardAssert(Q,S){Q||fail()}function debugCast(Q,S){return Q}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let FirestoreError=class FirestoreError extends X.ZR{constructor(Q,S){super(Q,S),this.code=Q,this.message=S,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Deferred=class Deferred{constructor(){this.promise=new Promise((Q,S)=>{this.resolve=Q,this.reject=S})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OAuthToken=class OAuthToken{constructor(Q,S){this.user=S,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${Q}`)}};let EmptyAuthCredentialsProvider=class EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(Q,S){Q.enqueueRetryable(()=>S(User.UNAUTHENTICATED))}shutdown(){}};let EmulatorAuthCredentialsProvider=class EmulatorAuthCredentialsProvider{constructor(Q){this.token=Q,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(Q,S){this.changeListener=S,Q.enqueueRetryable(()=>S(this.token.user))}shutdown(){this.changeListener=null}};let FirebaseAuthCredentialsProvider=class FirebaseAuthCredentialsProvider{constructor(Q){this.authProvider=Q,this.currentUser=User.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(Q,S){let R=this.tokenCounter,guardedChangeListener=Q=>this.tokenCounter!==R?(R=this.tokenCounter,S(Q)):Promise.resolve(),N=new Deferred;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),N.resolve(),N=new Deferred,Q.enqueueRetryable(()=>guardedChangeListener(this.currentUser))};let awaitNextToken=()=>{let S=N;Q.enqueueRetryable(async()=>{await S.promise,await guardedChangeListener(this.currentUser)})},registerAuth=Q=>{logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.tokenListener),awaitNextToken()};this.authProvider.onInit(Q=>registerAuth(Q)),setTimeout(()=>{if(!this.auth){let Q=this.authProvider.getImmediate({optional:!0});Q?registerAuth(Q):(logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),N.resolve(),N=new Deferred)}},0),awaitNextToken()}getToken(){let Q=this.tokenCounter,S=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(S).then(S=>this.tokenCounter!==Q?(logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):S?(hardAssert("string"==typeof S.accessToken),new OAuthToken(S.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.tokenListener)}getUser(){let Q=this.auth&&this.auth.getUid();return hardAssert(null===Q||"string"==typeof Q),new User(Q)}};let FirstPartyToken=class FirstPartyToken{constructor(Q,S,R){this.sessionIndex=Q,this.iamToken=S,this.authTokenFactory=R,this.type="FirstParty",this.user=User.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let Q=this.getAuthToken();return Q&&this._headers.set("Authorization",Q),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}};let FirstPartyAuthCredentialsProvider=class FirstPartyAuthCredentialsProvider{constructor(Q,S,R){this.sessionIndex=Q,this.iamToken=S,this.authTokenFactory=R}getToken(){return Promise.resolve(new FirstPartyToken(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(Q,S){Q.enqueueRetryable(()=>S(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}};let AppCheckToken=class AppCheckToken{constructor(Q){this.value=Q,this.type="AppCheck",this.headers=new Map,Q&&Q.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};let FirebaseAppCheckTokenProvider=class FirebaseAppCheckTokenProvider{constructor(Q){this.appCheckProvider=Q,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(Q,S){let onTokenChanged=Q=>{null!=Q.error&&logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Q.error.message}`);let R=Q.token!==this.latestAppCheckToken;return this.latestAppCheckToken=Q.token,logDebug("FirebaseAppCheckTokenProvider",`Received ${R?"new":"existing"} token.`),R?S(Q.token):Promise.resolve()};this.tokenListener=S=>{Q.enqueueRetryable(()=>onTokenChanged(S))};let registerAppCheck=Q=>{logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Q,this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(Q=>registerAppCheck(Q)),setTimeout(()=>{if(!this.appCheck){let Q=this.appCheckProvider.getImmediate({optional:!0});Q?registerAppCheck(Q):logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let Q=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(Q).then(Q=>Q?(hardAssert("string"==typeof Q.token),this.latestAppCheckToken=Q.token,new AppCheckToken(Q.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.tokenListener)}};function makeAuthCredentialsProvider(Q){if(!Q)return new EmptyAuthCredentialsProvider;switch(Q.type){case"firstParty":return new FirstPartyAuthCredentialsProvider(Q.sessionIndex||"0",Q.iamToken||null,Q.authTokenFactory||null);case"provider":return Q.client;default:throw new FirestoreError(ec.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function randomBytes(Q){return(0,Z.randomBytes)(Q)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AutoId=class AutoId{static newId(){let Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",S=Math.floor(256/Q.length)*Q.length,R="",N=20;for(;R.length<N;){let M=randomBytes(40);for(let L=0;L<M.length;++L)R.length<N&&M[L]<S&&(R+=Q.charAt(M[L]%Q.length))}return R}};function primitiveComparator(Q,S){return Q<S?-1:Q>S?1:0}function arrayEquals(Q,S,R){return Q.length===S.length&&Q.every((Q,N)=>R(Q,S[N]))}function immediateSuccessor(Q){return Q+"\x00"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=-62135596800,eh=1e6;let Timestamp=class Timestamp{constructor(Q,S){if(this.seconds=Q,this.nanoseconds=S,S<0||S>=1e9)throw new FirestoreError(ec.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+S);if(Q<eu||Q>=253402300800)throw new FirestoreError(ec.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Q)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(Q){return Timestamp.fromMillis(Q.getTime())}static fromMillis(Q){let S=Math.floor(Q/1e3),R=Math.floor((Q-1e3*S)*eh);return new Timestamp(S,R)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eh}_compareTo(Q){return this.seconds===Q.seconds?primitiveComparator(this.nanoseconds,Q.nanoseconds):primitiveComparator(this.seconds,Q.seconds)}isEqual(Q){return Q.seconds===this.seconds&&Q.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let Q=this.seconds-eu,S=String(Q).padStart(12,"0"),R=String(this.nanoseconds).padStart(9,"0");return S+"."+R}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SnapshotVersion=class SnapshotVersion{constructor(Q){this.timestamp=Q}static fromTimestamp(Q){return new SnapshotVersion(Q)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,1e9-1))}compareTo(Q){return this.timestamp._compareTo(Q.timestamp)}isEqual(Q){return this.timestamp.isEqual(Q.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed="__name__";let BasePath=class BasePath{constructor(Q,S,R){void 0===S?S=0:S>Q.length&&fail(),void 0===R?R=Q.length-S:R>Q.length-S&&fail(),this.segments=Q,this.offset=S,this.len=R}get length(){return this.len}isEqual(Q){return 0===BasePath.comparator(this,Q)}child(Q){let S=this.segments.slice(this.offset,this.limit());return Q instanceof BasePath?Q.forEach(Q=>{S.push(Q)}):S.push(Q),this.construct(S)}limit(){return this.offset+this.length}popFirst(Q){return Q=void 0===Q?1:Q,this.construct(this.segments,this.offset+Q,this.length-Q)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(Q){return this.segments[this.offset+Q]}isEmpty(){return 0===this.length}isPrefixOf(Q){if(Q.length<this.length)return!1;for(let S=0;S<this.length;S++)if(this.get(S)!==Q.get(S))return!1;return!0}isImmediateParentOf(Q){if(this.length+1!==Q.length)return!1;for(let S=0;S<this.length;S++)if(this.get(S)!==Q.get(S))return!1;return!0}forEach(Q){for(let S=this.offset,R=this.limit();S<R;S++)Q(this.segments[S])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(Q,S){let R=Math.min(Q.length,S.length);for(let N=0;N<R;N++){let R=Q.get(N),M=S.get(N);if(R<M)return -1;if(R>M)return 1}return Q.length<S.length?-1:Q.length>S.length?1:0}};let ResourcePath=class ResourcePath extends BasePath{construct(Q,S,R){return new ResourcePath(Q,S,R)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...Q){let S=[];for(let R of Q){if(R.indexOf("//")>=0)throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid segment (${R}). Paths must not contain // in them.`);S.push(...R.split("/").filter(Q=>Q.length>0))}return new ResourcePath(S)}static emptyPath(){return new ResourcePath([])}};let eg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let FieldPath$1=class FieldPath$1 extends BasePath{construct(Q,S,R){return new FieldPath$1(Q,S,R)}static isValidIdentifier(Q){return eg.test(Q)}canonicalString(){return this.toArray().map(Q=>(Q=Q.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(Q)||(Q="`"+Q+"`"),Q)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ed}static keyField(){return new FieldPath$1([ed])}static fromServerFormat(Q){let S=[],R="",N=0,addCurrentSegment=()=>{if(0===R.length)throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid field path (${Q}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);S.push(R),R=""},M=!1;for(;N<Q.length;){let S=Q[N];if("\\"===S){if(N+1===Q.length)throw new FirestoreError(ec.INVALID_ARGUMENT,"Path has trailing escape character: "+Q);let S=Q[N+1];if(!("\\"===S||"."===S||"`"===S))throw new FirestoreError(ec.INVALID_ARGUMENT,"Path has invalid escape sequence: "+Q);R+=S,N+=2}else"`"===S?M=!M:"."!==S||M?R+=S:addCurrentSegment(),N++}if(addCurrentSegment(),M)throw new FirestoreError(ec.INVALID_ARGUMENT,"Unterminated ` in path: "+Q);return new FieldPath$1(S)}static emptyPath(){return new FieldPath$1([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentKey=class DocumentKey{constructor(Q){this.path=Q}static fromPath(Q){return new DocumentKey(ResourcePath.fromString(Q))}static fromName(Q){return new DocumentKey(ResourcePath.fromString(Q).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(Q){return this.path.length>=2&&this.path.get(this.path.length-2)===Q}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(Q){return null!==Q&&0===ResourcePath.comparator(this.path,Q.path)}toString(){return this.path.toString()}static comparator(Q,S){return ResourcePath.comparator(Q.path,S.path)}static isDocumentKey(Q){return Q.length%2==0}static fromSegments(Q){return new DocumentKey(new ResourcePath(Q.slice()))}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep=-1,ef=0;let FieldIndex=class FieldIndex{constructor(Q,S,R,N){this.indexId=Q,this.collectionGroup=S,this.fields=R,this.indexState=N}};function fieldIndexGetArraySegment(Q){return Q.fields.find(Q=>2===Q.kind)}function fieldIndexGetDirectionalSegments(Q){return Q.fields.filter(Q=>2!==Q.kind)}function fieldIndexGetKeyOrder(Q){let S=fieldIndexGetDirectionalSegments(Q);return 0===S.length?0:S[S.length-1].kind}function fieldIndexSemanticComparator(Q,S){let R=primitiveComparator(Q.collectionGroup,S.collectionGroup);if(0!==R)return R;for(let N=0;N<Math.min(Q.fields.length,S.fields.length);++N)if(0!==(R=indexSegmentComparator(Q.fields[N],S.fields[N])))return R;return primitiveComparator(Q.fields.length,S.fields.length)}function fieldIndexToString(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`}FieldIndex.UNKNOWN_ID=-1;let IndexSegment=class IndexSegment{constructor(Q,S){this.fieldPath=Q,this.kind=S}};function indexSegmentComparator(Q,S){let R=FieldPath$1.comparator(Q.fieldPath,S.fieldPath);return 0!==R?R:primitiveComparator(Q.kind,S.kind)}let IndexState=class IndexState{constructor(Q,S){this.sequenceNumber=Q,this.offset=S}static empty(){return new IndexState(ef,IndexOffset.min())}};function newIndexOffsetSuccessorFromReadTime(Q,S){let R=Q.toTimestamp().seconds,N=Q.toTimestamp().nanoseconds+1,M=SnapshotVersion.fromTimestamp(1e9===N?new Timestamp(R+1,0):new Timestamp(R,N));return new IndexOffset(M,DocumentKey.empty(),S)}function newIndexOffsetFromDocument(Q){return new IndexOffset(Q.readTime,Q.key,ep)}let IndexOffset=class IndexOffset{constructor(Q,S,R){this.readTime=Q,this.documentKey=S,this.largestBatchId=R}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),ep)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),ep)}};function indexOffsetComparator(Q,S){let R=Q.readTime.compareTo(S.readTime);return 0!==R||0!==(R=DocumentKey.comparator(Q.documentKey,S.documentKey))?R:primitiveComparator(Q.largestBatchId,S.largestBatchId)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let PersistenceTransaction=class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(Q){this.onCommittedListeners.push(Q)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(Q=>Q())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ignoreIfPrimaryLeaseLoss(Q){if(Q.code===ec.FAILED_PRECONDITION&&Q.message===eE)logDebug("LocalStore","Unexpectedly lost primary lease");else throw Q}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PersistencePromise=class PersistencePromise{constructor(Q){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,Q(Q=>{this.isDone=!0,this.result=Q,this.nextCallback&&this.nextCallback(Q)},Q=>{this.isDone=!0,this.error=Q,this.catchCallback&&this.catchCallback(Q)})}catch(Q){return this.next(void 0,Q)}next(Q,S){return(this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(S,this.error):this.wrapSuccess(Q,this.result):new PersistencePromise((R,N)=>{this.nextCallback=S=>{this.wrapSuccess(Q,S).next(R,N)},this.catchCallback=Q=>{this.wrapFailure(S,Q).next(R,N)}})}toPromise(){return new Promise((Q,S)=>{this.next(Q,S)})}wrapUserFunction(Q){try{let S=Q();if(S instanceof PersistencePromise)return S;return PersistencePromise.resolve(S)}catch(Q){return PersistencePromise.reject(Q)}}wrapSuccess(Q,S){return Q?this.wrapUserFunction(()=>Q(S)):PersistencePromise.resolve(S)}wrapFailure(Q,S){return Q?this.wrapUserFunction(()=>Q(S)):PersistencePromise.reject(S)}static resolve(Q){return new PersistencePromise((S,R)=>{S(Q)})}static reject(Q){return new PersistencePromise((S,R)=>{R(Q)})}static waitFor(Q){return new PersistencePromise((S,R)=>{let N=0,M=0,L=!1;Q.forEach(Q=>{++N,Q.next(()=>{++M,L&&M===N&&S()},Q=>R(Q))}),L=!0,M===N&&S()})}static or(Q){let S=PersistencePromise.resolve(!1);for(let R of Q)S=S.next(Q=>Q?PersistencePromise.resolve(Q):R());return S}static forEach(Q,S){let R=[];return Q.forEach((Q,N)=>{R.push(S.call(this,Q,N))}),this.waitFor(R)}static mapArray(Q,S){return new PersistencePromise((R,N)=>{let M=Q.length,L=Array(M),U=0;for(let P=0;P<M;P++){let Y=P;S(Q[Y]).next(Q=>{L[Y]=Q,++U===M&&R(L)},Q=>N(Q))}})}static doWhile(Q,S){return new PersistencePromise((R,N)=>{let process=()=>{!0===Q()?S().next(()=>{process()},N):R()};process()})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="SimpleDb",eC=3;let SimpleDbTransaction=class SimpleDbTransaction{constructor(Q,S){this.action=Q,this.transaction=S,this.aborted=!1,this.completionDeferred=new Deferred,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{S.error?this.completionDeferred.reject(new IndexedDbTransactionError(Q,S.error)):this.completionDeferred.resolve()},this.transaction.onerror=S=>{let R=checkForAndReportiOSError(S.target.error);this.completionDeferred.reject(new IndexedDbTransactionError(Q,R))}}static open(Q,S,R,N){try{return new SimpleDbTransaction(S,Q.transaction(N,R))}catch(Q){throw new IndexedDbTransactionError(S,Q)}}get completionPromise(){return this.completionDeferred.promise}abort(Q){Q&&this.completionDeferred.reject(Q),this.aborted||(logDebug(em,"Aborting transaction:",Q?Q.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let Q=this.transaction;this.aborted||"function"!=typeof Q.commit||Q.commit()}store(Q){let S=this.transaction.objectStore(Q);return new SimpleDbStore(S)}};let SimpleDb=class SimpleDb{constructor(Q,S,R){this.name=Q,this.version=S,this.schemaConverter=R;let N=SimpleDb.getIOSVersion(getUA());12.2===N&&logError("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(Q){return logDebug(em,"Removing database:",Q),wrapRequest(window.indexedDB.deleteDatabase(Q)).toPromise()}static isAvailable(){if(!isIndexedDBAvailable())return!1;if(SimpleDb.isMockPersistence())return!0;let Q=getUA(),S=SimpleDb.getIOSVersion(Q),R=0<S&&S<10,N=getAndroidVersion(Q),M=0<N&&N<4.5;return!(Q.indexOf("MSIE ")>0||Q.indexOf("Trident/")>0||Q.indexOf("Edge/")>0)&&!R&&!M}static isMockPersistence(){var Q;return"undefined"!=typeof process&&(null===(Q=process.env)||void 0===Q?void 0:Q.USE_MOCK_PERSISTENCE)==="YES"}static getStore(Q,S){return Q.store(S)}static getIOSVersion(Q){let S=Q.match(/i(?:phone|pad|pod) os ([\d_]+)/i),R=S?S[1].split("_").slice(0,2).join("."):"-1";return Number(R)}async ensureDb(Q){return this.db||(logDebug(em,"Opening database:",this.name),this.db=await new Promise((S,R)=>{let N=indexedDB.open(this.name,this.version);N.onsuccess=Q=>{let R=Q.target.result;S(R)},N.onblocked=()=>{R(new IndexedDbTransactionError(Q,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},N.onerror=S=>{let N=S.target.error;"VersionError"===N.name?R(new FirestoreError(ec.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===N.name?R(new FirestoreError(ec.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N)):R(new IndexedDbTransactionError(Q,N))},N.onupgradeneeded=Q=>{logDebug(em,'Database "'+this.name+'" requires upgrade from version:',Q.oldVersion);let S=Q.target.result;this.schemaConverter.createOrUpgrade(S,N.transaction,Q.oldVersion,this.version).next(()=>{logDebug(em,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=Q=>this.versionchangelistener(Q)),this.db}setVersionChangeListener(Q){this.versionchangelistener=Q,this.db&&(this.db.onversionchange=S=>Q(S))}async runTransaction(Q,S,R,N){let M="readonly"===S,L=0;for(;;){++L;try{this.db=await this.ensureDb(Q);let S=SimpleDbTransaction.open(this.db,Q,M?"readonly":"readwrite",R),L=N(S).next(Q=>(S.maybeCommit(),Q)).catch(Q=>(S.abort(Q),PersistencePromise.reject(Q))).toPromise();return L.catch(()=>{}),await S.completionPromise,L}catch(R){let Q=R,S="FirebaseError"!==Q.name&&L<eC;if(logDebug(em,"Transaction failed with error:",Q.message,"Retrying:",S),this.close(),!S)return Promise.reject(Q)}}}close(){this.db&&this.db.close(),this.db=void 0}};function getAndroidVersion(Q){let S=Q.match(/Android ([\d.]+)/i),R=S?S[1].split(".").slice(0,2).join("."):"-1";return Number(R)}let IterationController=class IterationController{constructor(Q){this.dbCursor=Q,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(Q){this.dbCursor=Q}done(){this.shouldStop=!0}skip(Q){this.nextKey=Q}delete(){return wrapRequest(this.dbCursor.delete())}};let IndexedDbTransactionError=class IndexedDbTransactionError extends null{constructor(Q,S){super(ec.UNAVAILABLE,`IndexedDB transaction '${Q}' failed: ${S}`),this.name="IndexedDbTransactionError"}};function isIndexedDbTransactionError(Q){return"IndexedDbTransactionError"===Q.name}let SimpleDbStore=class SimpleDbStore{constructor(Q){this.store=Q}put(Q,S){let R;return void 0!==S?(logDebug(em,"PUT",this.store.name,Q,S),R=this.store.put(S,Q)):(logDebug(em,"PUT",this.store.name,"<auto-key>",Q),R=this.store.put(Q)),wrapRequest(R)}add(Q){logDebug(em,"ADD",this.store.name,Q,Q);let S=this.store.add(Q);return wrapRequest(S)}get(Q){let S=this.store.get(Q);return wrapRequest(S).next(S=>(void 0===S&&(S=null),logDebug(em,"GET",this.store.name,Q,S),S))}delete(Q){logDebug(em,"DELETE",this.store.name,Q);let S=this.store.delete(Q);return wrapRequest(S)}count(){logDebug(em,"COUNT",this.store.name);let Q=this.store.count();return wrapRequest(Q)}loadAll(Q,S){let R=this.options(Q,S),N=R.index?this.store.index(R.index):this.store;if("function"==typeof N.getAll){let Q=N.getAll(R.range);return new PersistencePromise((S,R)=>{Q.onerror=Q=>{R(Q.target.error)},Q.onsuccess=Q=>{S(Q.target.result)}})}{let Q=this.cursor(R),S=[];return this.iterateCursor(Q,(Q,R)=>{S.push(R)}).next(()=>S)}}loadFirst(Q,S){let R=this.store.getAll(Q,null===S?void 0:S);return new PersistencePromise((Q,S)=>{R.onerror=Q=>{S(Q.target.error)},R.onsuccess=S=>{Q(S.target.result)}})}deleteAll(Q,S){logDebug(em,"DELETE ALL",this.store.name);let R=this.options(Q,S);R.keysOnly=!1;let N=this.cursor(R);return this.iterateCursor(N,(Q,S,R)=>R.delete())}iterate(Q,S){let R;S?R=Q:(R={},S=Q);let N=this.cursor(R);return this.iterateCursor(N,S)}iterateSerial(Q){let S=this.cursor({});return new PersistencePromise((R,N)=>{S.onerror=Q=>{let S=checkForAndReportiOSError(Q.target.error);N(S)},S.onsuccess=S=>{let N=S.target.result;if(!N){R();return}Q(N.primaryKey,N.value).next(Q=>{Q?N.continue():R()})}})}iterateCursor(Q,S){let R=[];return new PersistencePromise((N,M)=>{Q.onerror=Q=>{M(Q.target.error)},Q.onsuccess=Q=>{let M=Q.target.result;if(!M){N();return}let L=new IterationController(M),U=S(M.primaryKey,M.value,L);if(U instanceof PersistencePromise){let Q=U.catch(Q=>(L.done(),PersistencePromise.reject(Q)));R.push(Q)}L.isDone?N():null===L.skipToKey?M.continue():M.continue(L.skipToKey)}}).next(()=>PersistencePromise.waitFor(R))}options(Q,S){let R;return void 0!==Q&&("string"==typeof Q?R=Q:S=Q),{index:R,range:S}}cursor(Q){let S="next";if(Q.reverse&&(S="prev"),!Q.index)return this.store.openCursor(Q.range,S);{let R=this.store.index(Q.index);return Q.keysOnly?R.openKeyCursor(Q.range,S):R.openCursor(Q.range,S)}}};function wrapRequest(Q){return new PersistencePromise((S,R)=>{Q.onsuccess=Q=>{let R=Q.target.result;S(R)},Q.onerror=Q=>{let S=checkForAndReportiOSError(Q.target.error);R(S)}})}let eI=!1;function checkForAndReportiOSError(Q){let S=SimpleDb.getIOSVersion(getUA());if(S>=12.2&&S<13){let S="An internal error was encountered in the Indexed Database server";if(Q.message.indexOf(S)>=0){let Q=new FirestoreError("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${S}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eI||(eI=!0,setTimeout(()=>{throw Q},0)),Q}}return Q}let eB="IndexBackfiller",ey=null,eQ=null,eS=50;let IndexBackfillerScheduler=class IndexBackfillerScheduler{constructor(Q,S){this.asyncQueue=Q,this.backfiller=S,this.task=null}start(){this.schedule(ey)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(Q){logDebug(eB,`Scheduled in ${Q}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",Q,async()=>{this.task=null;try{let Q=await this.backfiller.backfill();logDebug(eB,`Documents written: ${Q}`)}catch(Q){isIndexedDbTransactionError(Q)?logDebug(eB,"Ignoring IndexedDB error during index backfill: ",Q):await ignoreIfPrimaryLeaseLoss(Q)}await this.schedule(eQ)})}};let IndexBackfiller=class IndexBackfiller{constructor(Q,S){this.localStore=Q,this.persistence=S}async backfill(Q=eS){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",S=>this.writeIndexEntries(S,Q))}writeIndexEntries(Q,S){let R=new Set,N=S,M=!0;return PersistencePromise.doWhile(()=>!0===M&&N>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(Q).next(S=>{if(!(null===S||R.has(S)))return logDebug(eB,`Processing collection: ${S}`),this.writeEntriesForCollectionGroup(Q,S,N).next(Q=>{N-=Q,R.add(S)});M=!1})).next(()=>S-N)}writeEntriesForCollectionGroup(Q,S,R){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(Q,S).next(N=>this.localStore.localDocuments.getNextDocuments(Q,S,N,R).next(R=>{let M=R.changes;return this.localStore.indexManager.updateIndexEntries(Q,M).next(()=>this.getNewOffset(N,R)).next(R=>(logDebug(eB,`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(Q,S,R))).next(()=>M.size)}))}getNewOffset(Q,S){let R=Q;return S.changes.forEach((Q,S)=>{let N=newIndexOffsetFromDocument(S);indexOffsetComparator(N,R)>0&&(R=N)}),new IndexOffset(R.readTime,R.documentKey,Math.max(S.batchId,Q.largestBatchId))}};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ListenSequence=class ListenSequence{constructor(Q,S){this.previousValue=Q,S&&(S.sequenceNumberHandler=Q=>this.setPreviousValue(Q),this.writeNewSequenceNumber=Q=>S.writeSequenceNumber(Q))}setPreviousValue(Q){return this.previousValue=Math.max(Q,this.previousValue),this.previousValue}next(){let Q=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(Q),Q}};ListenSequence.INVALID=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eb="\x01",ew="\x01",eD="\x10",eR="\x11";function encodeResourcePath(Q){let S="";for(let R=0;R<Q.length;R++)S.length>0&&(S=encodeSeparator(S)),S=encodeSegment(Q.get(R),S);return encodeSeparator(S)}function encodeSegment(Q,S){let R=S,N=Q.length;for(let S=0;S<N;S++){let N=Q.charAt(S);switch(N){case"\x00":R+=eb+eD;break;case eb:R+=eb+eR;break;default:R+=N}}return R}function encodeSeparator(Q){return Q+eb+ew}function decodeResourcePath(Q){let S=Q.length;if(hardAssert(S>=2),2===S)return hardAssert(Q.charAt(0)===eb&&Q.charAt(1)===ew),ResourcePath.emptyPath();let R=S-2,N=[],M="";for(let L=0;L<S;){let S=Q.indexOf(eb,L);(S<0||S>R)&&fail();let U=Q.charAt(S+1);switch(U){case ew:let P;let Y=Q.substring(L,S);0===M.length?P=Y:(M+=Y,P=M,M=""),N.push(P);break;case eD:M+=Q.substring(L,S)+"\x00";break;case eR:M+=Q.substring(L,S+1);break;default:fail()}L=S+2}return new ResourcePath(N)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT="remoteDocuments",ek="owner",eN="owner",eF="mutationQueues",eM="userId",eL="mutations",ex="batchId",e_="userMutationsIndex",eU=null;function newDbDocumentMutationPrefixForUser(Q){return[Q]}function newDbDocumentMutationPrefixForPath(Q,S){return[Q,encodeResourcePath(S)]}function newDbDocumentMutationKey(Q,S,R){return[Q,encodeResourcePath(S),R]}let eO={},eP="documentMutations",eV="remoteDocumentsV14",eG=null,eH="documentKeyIndex",eY=null,eJ="collectionGroupIndex",eW=null,ej="remoteDocumentGlobal",ez="remoteDocumentGlobalKey",eK="targets",eX="targetId",eZ="queryTargetsIndex",e$=null,e0="targetDocuments",e1=null,e2="documentTargetsIndex",e4=null,e9="targetGlobalKey",e3="targetGlobal",e8="collectionParents",e5=null,e6="clientMetadata",e7="clientId",te="bundles",tt="bundleId",tr="namedQueries",ti="name",ts="indexConfiguration",ta="indexId",tA="collectionGroupIndex",tl="collectionGroup",tc="indexState",tu=null,th="sequenceNumberIndex",td=null,tg="indexEntries",tp=null,tf="documentKeyIndex",tE=null,tm="documentOverlays",tC=null,tI="collectionPathOverlayIndex",tB=null,ty="collectionGroupOverlayIndex",tQ=null,tS=[eF,eL,eP,eT,eK,ek,e3,e0],tb=tS,tw=[...tb,e6],tv=[...tw,ej],tD=[...tv,e8],tR=[...tD,te,tr],tT=[...tR,tm],tk=[eF,eL,eP,eV,eK,ek,e3,e0,e6,ej,e8,te,tr,tm],tN=tk,tF=[...tN,ts,tc,tg],tM=null;function getObjectStores(Q){return 16===Q?tM:15===Q?tF:14===Q?tN:13===Q?tk:12===Q?tT:11===Q?tR:void fail()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbTransaction=class IndexedDbTransaction extends null{constructor(Q,S){super(),this.simpleDbTransaction=Q,this.currentSequenceNumber=S}};function getStore(Q,S){let R=debugCast(Q);return SimpleDb.getStore(R.simpleDbTransaction,S)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function objectSize(Q){let S=0;for(let R in Q)Object.prototype.hasOwnProperty.call(Q,R)&&S++;return S}function forEach(Q,S){for(let R in Q)Object.prototype.hasOwnProperty.call(Q,R)&&S(R,Q[R])}function isEmpty(Q){for(let S in Q)if(Object.prototype.hasOwnProperty.call(Q,S))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SortedMap=class SortedMap{constructor(Q,S){this.comparator=Q,this.root=S||LLRBNode.EMPTY}insert(Q,S){return new SortedMap(this.comparator,this.root.insert(Q,S,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(Q){return new SortedMap(this.comparator,this.root.remove(Q,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(Q){let S=this.root;for(;!S.isEmpty();){let R=this.comparator(Q,S.key);if(0===R)return S.value;R<0?S=S.left:R>0&&(S=S.right)}return null}indexOf(Q){let S=0,R=this.root;for(;!R.isEmpty();){let N=this.comparator(Q,R.key);if(0===N)return S+R.left.size;N<0?R=R.left:(S+=R.left.size+1,R=R.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(Q){return this.root.inorderTraversal(Q)}forEach(Q){this.inorderTraversal((S,R)=>(Q(S,R),!1))}toString(){let Q=[];return this.inorderTraversal((S,R)=>(Q.push(`${S}:${R}`),!1)),`{${Q.join(", ")}}`}reverseTraversal(Q){return this.root.reverseTraversal(Q)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(Q){return new SortedMapIterator(this.root,Q,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(Q){return new SortedMapIterator(this.root,Q,this.comparator,!0)}};let SortedMapIterator=class SortedMapIterator{constructor(Q,S,R,N){this.isReverse=N,this.nodeStack=[];let M=1;for(;!Q.isEmpty();)if(M=S?R(Q.key,S):1,S&&N&&(M*=-1),M<0)Q=this.isReverse?Q.left:Q.right;else if(0===M){this.nodeStack.push(Q);break}else this.nodeStack.push(Q),Q=this.isReverse?Q.right:Q.left}getNext(){let Q=this.nodeStack.pop(),S={key:Q.key,value:Q.value};if(this.isReverse)for(Q=Q.left;!Q.isEmpty();)this.nodeStack.push(Q),Q=Q.right;else for(Q=Q.right;!Q.isEmpty();)this.nodeStack.push(Q),Q=Q.left;return S}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let Q=this.nodeStack[this.nodeStack.length-1];return{key:Q.key,value:Q.value}}};let LLRBNode=class LLRBNode{constructor(Q,S,R,N,M){this.key=Q,this.value=S,this.color=null!=R?R:LLRBNode.RED,this.left=null!=N?N:LLRBNode.EMPTY,this.right=null!=M?M:LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(Q,S,R,N,M){return new LLRBNode(null!=Q?Q:this.key,null!=S?S:this.value,null!=R?R:this.color,null!=N?N:this.left,null!=M?M:this.right)}isEmpty(){return!1}inorderTraversal(Q){return this.left.inorderTraversal(Q)||Q(this.key,this.value)||this.right.inorderTraversal(Q)}reverseTraversal(Q){return this.right.reverseTraversal(Q)||Q(this.key,this.value)||this.left.reverseTraversal(Q)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(Q,S,R){let N=this,M=R(Q,N.key);return(N=M<0?N.copy(null,null,null,N.left.insert(Q,S,R),null):0===M?N.copy(null,S,null,null,null):N.copy(null,null,null,null,N.right.insert(Q,S,R))).fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let Q=this;return Q.left.isRed()||Q.left.left.isRed()||(Q=Q.moveRedLeft()),(Q=Q.copy(null,null,null,Q.left.removeMin(),null)).fixUp()}remove(Q,S){let R;let N=this;if(0>S(Q,N.key))N.left.isEmpty()||N.left.isRed()||N.left.left.isRed()||(N=N.moveRedLeft()),N=N.copy(null,null,null,N.left.remove(Q,S),null);else{if(N.left.isRed()&&(N=N.rotateRight()),N.right.isEmpty()||N.right.isRed()||N.right.left.isRed()||(N=N.moveRedRight()),0===S(Q,N.key)){if(N.right.isEmpty())return LLRBNode.EMPTY;R=N.right.min(),N=N.copy(R.key,R.value,null,null,N.right.removeMin())}N=N.copy(null,null,null,null,N.right.remove(Q,S))}return N.fixUp()}isRed(){return this.color}fixUp(){let Q=this;return Q.right.isRed()&&!Q.left.isRed()&&(Q=Q.rotateLeft()),Q.left.isRed()&&Q.left.left.isRed()&&(Q=Q.rotateRight()),Q.left.isRed()&&Q.right.isRed()&&(Q=Q.colorFlip()),Q}moveRedLeft(){let Q=this.colorFlip();return Q.right.left.isRed()&&(Q=(Q=(Q=Q.copy(null,null,null,null,Q.right.rotateRight())).rotateLeft()).colorFlip()),Q}moveRedRight(){let Q=this.colorFlip();return Q.left.left.isRed()&&(Q=(Q=Q.rotateRight()).colorFlip()),Q}rotateLeft(){let Q=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,Q,null)}rotateRight(){let Q=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,Q)}colorFlip(){let Q=this.left.copy(null,null,!this.left.color,null,null),S=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,Q,S)}checkMaxDepth(){let Q=this.check();return Math.pow(2,Q)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();let Q=this.left.check();if(Q===this.right.check())return Q+(this.isRed()?0:1);throw fail()}};LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;let LLRBEmptyNode=class LLRBEmptyNode{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(Q,S,R,N,M){return this}insert(Q,S,R){return new LLRBNode(Q,S)}remove(Q,S){return this}isEmpty(){return!0}inorderTraversal(Q){return!1}reverseTraversal(Q){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};LLRBNode.EMPTY=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SortedSet=class SortedSet{constructor(Q){this.comparator=Q,this.data=new SortedMap(this.comparator)}has(Q){return null!==this.data.get(Q)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(Q){return this.data.indexOf(Q)}forEach(Q){this.data.inorderTraversal((S,R)=>(Q(S),!1))}forEachInRange(Q,S){let R=this.data.getIteratorFrom(Q[0]);for(;R.hasNext();){let N=R.getNext();if(this.comparator(N.key,Q[1])>=0)return;S(N.key)}}forEachWhile(Q,S){let R;for(R=void 0!==S?this.data.getIteratorFrom(S):this.data.getIterator();R.hasNext();){let S=R.getNext(),N=Q(S.key);if(!N)return}}firstAfterOrEqual(Q){let S=this.data.getIteratorFrom(Q);return S.hasNext()?S.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(Q){return new SortedSetIterator(this.data.getIteratorFrom(Q))}add(Q){return this.copy(this.data.remove(Q).insert(Q,!0))}delete(Q){return this.has(Q)?this.copy(this.data.remove(Q)):this}isEmpty(){return this.data.isEmpty()}unionWith(Q){let S=this;return S.size<Q.size&&(S=Q,Q=this),Q.forEach(Q=>{S=S.add(Q)}),S}isEqual(Q){if(!(Q instanceof SortedSet)||this.size!==Q.size)return!1;let S=this.data.getIterator(),R=Q.data.getIterator();for(;S.hasNext();){let Q=S.getNext().key,N=R.getNext().key;if(0!==this.comparator(Q,N))return!1}return!0}toArray(){let Q=[];return this.forEach(S=>{Q.push(S)}),Q}toString(){let Q=[];return this.forEach(S=>Q.push(S)),"SortedSet("+Q.toString()+")"}copy(Q){let S=new SortedSet(this.comparator);return S.data=Q,S}};let SortedSetIterator=class SortedSetIterator{constructor(Q){this.iter=Q}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function diffSortedSets(Q,S,R,N,M){let L=Q.getIterator(),U=S.getIterator(),P=advanceIterator(L),Y=advanceIterator(U);for(;P||Y;){let Q=!1,S=!1;if(P&&Y){let N=R(P,Y);N<0?S=!0:N>0&&(Q=!0)}else null!=P?S=!0:Q=!0;Q?(N(Y),Y=advanceIterator(U)):S?(M(P),P=advanceIterator(L)):(P=advanceIterator(L),Y=advanceIterator(U))}}function advanceIterator(Q){return Q.hasNext()?Q.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldMask=class FieldMask{constructor(Q){this.fields=Q,Q.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(Q){let S=new SortedSet(FieldPath$1.comparator);for(let Q of this.fields)S=S.add(Q);for(let R of Q)S=S.add(R);return new FieldMask(S.toArray())}covers(Q){for(let S of this.fields)if(S.isPrefixOf(Q))return!0;return!1}isEqual(Q){return arrayEquals(this.fields,Q.fields,(Q,S)=>Q.isEqual(S))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(Q){return Buffer.from(Q,"base64").toString("binary")}function encodeBase64(Q){return Buffer.from(Q,"binary").toString("base64")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ByteString=class ByteString{constructor(Q){this.binaryString=Q}static fromBase64String(Q){let S=decodeBase64(Q);return new ByteString(S)}static fromUint8Array(Q){let S=binaryStringFromUint8Array(Q);return new ByteString(S)}[Symbol.iterator](){let Q=0;return{next:()=>Q<this.binaryString.length?{value:this.binaryString.charCodeAt(Q++),done:!1}:{value:void 0,done:!0}}}toBase64(){return encodeBase64(this.binaryString)}toUint8Array(){return uint8ArrayFromBinaryString(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(Q){return primitiveComparator(this.binaryString,Q.binaryString)}isEqual(Q){return this.binaryString===Q.binaryString}};function binaryStringFromUint8Array(Q){let S="";for(let R=0;R<Q.length;++R)S+=String.fromCharCode(Q[R]);return S}function uint8ArrayFromBinaryString(Q){let S=new Uint8Array(Q.length);for(let R=0;R<Q.length;R++)S[R]=Q.charCodeAt(R);return S}ByteString.EMPTY_BYTE_STRING=new ByteString("");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function normalizeTimestamp(Q){if(hardAssert(!!Q),"string"==typeof Q){let S=0,R=tL.exec(Q);if(hardAssert(!!R),R[1]){let Q=R[1];S=Number(Q=(Q+"000000000").substr(0,9))}let N=new Date(Q),M=Math.floor(N.getTime()/1e3);return{seconds:M,nanos:S}}{let S=normalizeNumber(Q.seconds),R=normalizeNumber(Q.nanos);return{seconds:S,nanos:R}}}function normalizeNumber(Q){return"number"==typeof Q?Q:"string"==typeof Q?Number(Q):0}function normalizeByteString(Q){return"string"==typeof Q?ByteString.fromBase64String(Q):ByteString.fromUint8Array(Q)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_="server_timestamp",tU="__type__",tO="__previous_value__",tP="__local_write_time__";function isServerTimestamp(Q){var S,R;let N=null===(R=((null===(S=null==Q?void 0:Q.mapValue)||void 0===S?void 0:S.fields)||{})[tU])||void 0===R?void 0:R.stringValue;return N===t_}function serverTimestamp$1(Q,S){let R={fields:{[tU]:{stringValue:t_},[tP]:{timestampValue:{seconds:Q.seconds,nanos:Q.nanoseconds}}}};return S&&isServerTimestamp(S)&&(S=getPreviousValue(S)),S&&(R.fields[tO]=S),{mapValue:R}}function getPreviousValue(Q){let S=Q.mapValue.fields[tO];return isServerTimestamp(S)?getPreviousValue(S):S}function getLocalWriteTime(Q){let S=normalizeTimestamp(Q.mapValue.fields[tP].timestampValue);return new Timestamp(S.seconds,S.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DatabaseInfo=class DatabaseInfo{constructor(Q,S,R,N,M,L,U,P,Y){this.databaseId=Q,this.appId=S,this.persistenceKey=R,this.host=N,this.ssl=M,this.forceLongPolling=L,this.autoDetectLongPolling=U,this.longPollingOptions=P,this.useFetchStreams=Y}};let tV="(default)";let DatabaseId=class DatabaseId{constructor(Q,S){this.projectId=Q,this.database=S||tV}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===tV}isEqual(Q){return Q instanceof DatabaseId&&Q.projectId===this.projectId&&Q.database===this.database}};function databaseIdFromApp(Q,S){if(!Object.prototype.hasOwnProperty.apply(Q.options,["projectId"]))throw new FirestoreError(ec.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Q.options.projectId,S)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tG=-1;function isNullOrUndefined(Q){return null==Q}function isNegativeZero(Q){return 0===Q&&1/Q==-1/0}function isSafeInteger(Q){return"number"==typeof Q&&Number.isInteger(Q)&&!isNegativeZero(Q)&&Q<=Number.MAX_SAFE_INTEGER&&Q>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tH="__max__",tY={mapValue:{fields:{__type__:{stringValue:tH}}}},tq={nullValue:"NULL_VALUE"};function typeOrder(Q){if("nullValue"in Q)return 0;if("booleanValue"in Q)return 1;if("integerValue"in Q||"doubleValue"in Q)return 2;if("timestampValue"in Q)return 3;if("stringValue"in Q)return 5;if("bytesValue"in Q)return 6;if("referenceValue"in Q)return 7;else if("geoPointValue"in Q)return 8;else if("arrayValue"in Q)return 9;else if(!("mapValue"in Q))return fail();else return isServerTimestamp(Q)?4:isMaxValue(Q)?9007199254740991:10}function valueEquals(Q,S){if(Q===S)return!0;let R=typeOrder(Q),N=typeOrder(S);if(R!==N)return!1;switch(R){case 0:case 9007199254740991:return!0;case 1:return Q.booleanValue===S.booleanValue;case 4:return getLocalWriteTime(Q).isEqual(getLocalWriteTime(S));case 3:return timestampEquals(Q,S);case 5:return Q.stringValue===S.stringValue;case 6:return blobEquals(Q,S);case 7:return Q.referenceValue===S.referenceValue;case 8:return geoPointEquals(Q,S);case 2:return numberEquals(Q,S);case 9:return arrayEquals(Q.arrayValue.values||[],S.arrayValue.values||[],valueEquals);case 10:return objectEquals(Q,S);default:return fail()}}function timestampEquals(Q,S){if("string"==typeof Q.timestampValue&&"string"==typeof S.timestampValue&&Q.timestampValue.length===S.timestampValue.length)return Q.timestampValue===S.timestampValue;let R=normalizeTimestamp(Q.timestampValue),N=normalizeTimestamp(S.timestampValue);return R.seconds===N.seconds&&R.nanos===N.nanos}function geoPointEquals(Q,S){return normalizeNumber(Q.geoPointValue.latitude)===normalizeNumber(S.geoPointValue.latitude)&&normalizeNumber(Q.geoPointValue.longitude)===normalizeNumber(S.geoPointValue.longitude)}function blobEquals(Q,S){return normalizeByteString(Q.bytesValue).isEqual(normalizeByteString(S.bytesValue))}function numberEquals(Q,S){if("integerValue"in Q&&"integerValue"in S)return normalizeNumber(Q.integerValue)===normalizeNumber(S.integerValue);if("doubleValue"in Q&&"doubleValue"in S){let R=normalizeNumber(Q.doubleValue),N=normalizeNumber(S.doubleValue);return R===N?isNegativeZero(R)===isNegativeZero(N):isNaN(R)&&isNaN(N)}return!1}function objectEquals(Q,S){let R=Q.mapValue.fields||{},N=S.mapValue.fields||{};if(objectSize(R)!==objectSize(N))return!1;for(let Q in R)if(R.hasOwnProperty(Q)&&(void 0===N[Q]||!valueEquals(R[Q],N[Q])))return!1;return!0}function arrayValueContains(Q,S){return void 0!==(Q.values||[]).find(Q=>valueEquals(Q,S))}function valueCompare(Q,S){if(Q===S)return 0;let R=typeOrder(Q),N=typeOrder(S);if(R!==N)return primitiveComparator(R,N);switch(R){case 0:case 9007199254740991:return 0;case 1:return primitiveComparator(Q.booleanValue,S.booleanValue);case 2:return compareNumbers(Q,S);case 3:return compareTimestamps(Q.timestampValue,S.timestampValue);case 4:return compareTimestamps(getLocalWriteTime(Q),getLocalWriteTime(S));case 5:return primitiveComparator(Q.stringValue,S.stringValue);case 6:return compareBlobs(Q.bytesValue,S.bytesValue);case 7:return compareReferences(Q.referenceValue,S.referenceValue);case 8:return compareGeoPoints(Q.geoPointValue,S.geoPointValue);case 9:return compareArrays(Q.arrayValue,S.arrayValue);case 10:return compareMaps(Q.mapValue,S.mapValue);default:throw fail()}}function compareNumbers(Q,S){let R=normalizeNumber(Q.integerValue||Q.doubleValue),N=normalizeNumber(S.integerValue||S.doubleValue);return R<N?-1:R>N?1:R===N?0:isNaN(R)?isNaN(N)?0:-1:1}function compareTimestamps(Q,S){if("string"==typeof Q&&"string"==typeof S&&Q.length===S.length)return primitiveComparator(Q,S);let R=normalizeTimestamp(Q),N=normalizeTimestamp(S),M=primitiveComparator(R.seconds,N.seconds);return 0!==M?M:primitiveComparator(R.nanos,N.nanos)}function compareReferences(Q,S){let R=Q.split("/"),N=S.split("/");for(let Q=0;Q<R.length&&Q<N.length;Q++){let S=primitiveComparator(R[Q],N[Q]);if(0!==S)return S}return primitiveComparator(R.length,N.length)}function compareGeoPoints(Q,S){let R=primitiveComparator(normalizeNumber(Q.latitude),normalizeNumber(S.latitude));return 0!==R?R:primitiveComparator(normalizeNumber(Q.longitude),normalizeNumber(S.longitude))}function compareBlobs(Q,S){let R=normalizeByteString(Q),N=normalizeByteString(S);return R.compareTo(N)}function compareArrays(Q,S){let R=Q.values||[],N=S.values||[];for(let Q=0;Q<R.length&&Q<N.length;++Q){let S=valueCompare(R[Q],N[Q]);if(S)return S}return primitiveComparator(R.length,N.length)}function compareMaps(Q,S){if(Q===tY.mapValue&&S===tY.mapValue)return 0;if(Q===tY.mapValue)return 1;if(S===tY.mapValue)return -1;let R=Q.fields||{},N=Object.keys(R),M=S.fields||{},L=Object.keys(M);N.sort(),L.sort();for(let Q=0;Q<N.length&&Q<L.length;++Q){let S=primitiveComparator(N[Q],L[Q]);if(0!==S)return S;let U=valueCompare(R[N[Q]],M[L[Q]]);if(0!==U)return U}return primitiveComparator(N.length,L.length)}function canonicalId(Q){return canonifyValue(Q)}function canonifyValue(Q){if("nullValue"in Q)return"null";if("booleanValue"in Q)return""+Q.booleanValue;if("integerValue"in Q)return""+Q.integerValue;if("doubleValue"in Q)return""+Q.doubleValue;if("timestampValue"in Q)return canonifyTimestamp(Q.timestampValue);if("stringValue"in Q)return Q.stringValue;if("bytesValue"in Q)return canonifyByteString(Q.bytesValue);else if("referenceValue"in Q)return canonifyReference(Q.referenceValue);else if("geoPointValue"in Q)return canonifyGeoPoint(Q.geoPointValue);else if("arrayValue"in Q)return canonifyArray(Q.arrayValue);else if("mapValue"in Q)return canonifyMap(Q.mapValue);else return fail()}function canonifyByteString(Q){return normalizeByteString(Q).toBase64()}function canonifyTimestamp(Q){let S=normalizeTimestamp(Q);return`time(${S.seconds},${S.nanos})`}function canonifyGeoPoint(Q){return`geo(${Q.latitude},${Q.longitude})`}function canonifyReference(Q){return DocumentKey.fromName(Q).toString()}function canonifyMap(Q){let S=Object.keys(Q.fields||{}).sort(),R="{",N=!0;for(let M of S)N?N=!1:R+=",",R+=`${M}:${canonifyValue(Q.fields[M])}`;return R+"}"}function canonifyArray(Q){let S="[",R=!0;for(let N of Q.values||[])R?R=!1:S+=",",S+=canonifyValue(N);return S+"]"}function estimateByteSize(Q){switch(typeOrder(Q)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let S=getPreviousValue(Q);return S?16+estimateByteSize(S):16;case 5:return 2*Q.stringValue.length;case 6:return normalizeByteString(Q.bytesValue).approximateByteSize();case 7:return Q.referenceValue.length;case 9:return estimateArrayByteSize(Q.arrayValue);case 10:return estimateMapByteSize(Q.mapValue);default:throw fail()}}function estimateMapByteSize(Q){let S=0;return forEach(Q.fields,(Q,R)=>{S+=Q.length+estimateByteSize(R)}),S}function estimateArrayByteSize(Q){return(Q.values||[]).reduce((Q,S)=>Q+estimateByteSize(S),0)}function refValue(Q,S){return{referenceValue:`projects/${Q.projectId}/databases/${Q.database}/documents/${S.path.canonicalString()}`}}function isInteger(Q){return!!Q&&"integerValue"in Q}function isDouble(Q){return!!Q&&"doubleValue"in Q}function isNumber(Q){return isInteger(Q)||isDouble(Q)}function isArray(Q){return!!Q&&"arrayValue"in Q}function isNullValue(Q){return!!Q&&"nullValue"in Q}function isNanValue(Q){return!!Q&&"doubleValue"in Q&&isNaN(Number(Q.doubleValue))}function isMapValue(Q){return!!Q&&"mapValue"in Q}function deepClone(Q){if(Q.geoPointValue)return{geoPointValue:Object.assign({},Q.geoPointValue)};if(Q.timestampValue&&"object"==typeof Q.timestampValue)return{timestampValue:Object.assign({},Q.timestampValue)};if(Q.mapValue){let S={mapValue:{fields:{}}};return forEach(Q.mapValue.fields,(Q,R)=>S.mapValue.fields[Q]=deepClone(R)),S}{if(!Q.arrayValue)return Object.assign({},Q);let S={arrayValue:{values:[]}};for(let R=0;R<(Q.arrayValue.values||[]).length;++R)S.arrayValue.values[R]=deepClone(Q.arrayValue.values[R]);return S}}function isMaxValue(Q){return(((Q.mapValue||{}).fields||{}).__type__||{}).stringValue===tH}function valuesGetLowerBound(Q){if("nullValue"in Q)return tq;if("booleanValue"in Q)return{booleanValue:!1};if("integerValue"in Q||"doubleValue"in Q)return{doubleValue:NaN};if("timestampValue"in Q)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in Q)return{stringValue:""};if("bytesValue"in Q)return{bytesValue:""};if("referenceValue"in Q)return refValue(DatabaseId.empty(),DocumentKey.empty());else if("geoPointValue"in Q)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in Q)return{arrayValue:{}};else if("mapValue"in Q)return{mapValue:{}};else return fail()}function valuesGetUpperBound(Q){if("nullValue"in Q)return{booleanValue:!1};if("booleanValue"in Q)return{doubleValue:NaN};if("integerValue"in Q||"doubleValue"in Q)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in Q)return{stringValue:""};if("stringValue"in Q)return{bytesValue:""};if("bytesValue"in Q)return refValue(DatabaseId.empty(),DocumentKey.empty());if("referenceValue"in Q)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in Q)return{arrayValue:{}};else if("arrayValue"in Q)return{mapValue:{}};else if("mapValue"in Q)return tY;else return fail()}function lowerBoundCompare(Q,S){let R=valueCompare(Q.value,S.value);return 0!==R?R:Q.inclusive&&!S.inclusive?-1:!Q.inclusive&&S.inclusive?1:0}function upperBoundCompare(Q,S){let R=valueCompare(Q.value,S.value);return 0!==R?R:Q.inclusive&&!S.inclusive?1:!Q.inclusive&&S.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ObjectValue=class ObjectValue{constructor(Q){this.value=Q}static empty(){return new ObjectValue({mapValue:{}})}field(Q){if(Q.isEmpty())return this.value;{let S=this.value;for(let R=0;R<Q.length-1;++R)if(!isMapValue(S=(S.mapValue.fields||{})[Q.get(R)]))return null;return(S=(S.mapValue.fields||{})[Q.lastSegment()])||null}}set(Q,S){let R=this.getFieldsMap(Q.popLast());R[Q.lastSegment()]=deepClone(S)}setAll(Q){let S=FieldPath$1.emptyPath(),R={},N=[];Q.forEach((Q,M)=>{if(!S.isImmediateParentOf(M)){let Q=this.getFieldsMap(S);this.applyChanges(Q,R,N),R={},N=[],S=M.popLast()}Q?R[M.lastSegment()]=deepClone(Q):N.push(M.lastSegment())});let M=this.getFieldsMap(S);this.applyChanges(M,R,N)}delete(Q){let S=this.field(Q.popLast());isMapValue(S)&&S.mapValue.fields&&delete S.mapValue.fields[Q.lastSegment()]}isEqual(Q){return valueEquals(this.value,Q.value)}getFieldsMap(Q){let S=this.value;S.mapValue.fields||(S.mapValue={fields:{}});for(let R=0;R<Q.length;++R){let N=S.mapValue.fields[Q.get(R)];isMapValue(N)&&N.mapValue.fields||(N={mapValue:{fields:{}}},S.mapValue.fields[Q.get(R)]=N),S=N}return S.mapValue.fields}applyChanges(Q,S,R){for(let N of(forEach(S,(S,R)=>Q[S]=R),R))delete Q[N]}clone(){return new ObjectValue(deepClone(this.value))}};function extractFieldMask(Q){let S=[];return forEach(Q.fields,(Q,R)=>{let N=new FieldPath$1([Q]);if(isMapValue(R)){let Q=extractFieldMask(R.mapValue),M=Q.fields;if(0===M.length)S.push(N);else for(let Q of M)S.push(N.child(Q))}else S.push(N)}),new FieldMask(S)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MutableDocument=class MutableDocument{constructor(Q,S,R,N,M,L,U){this.key=Q,this.documentType=S,this.version=R,this.readTime=N,this.createTime=M,this.data=L,this.documentState=U}static newInvalidDocument(Q){return new MutableDocument(Q,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(Q,S,R,N){return new MutableDocument(Q,1,S,SnapshotVersion.min(),R,N,0)}static newNoDocument(Q,S){return new MutableDocument(Q,2,S,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(Q,S){return new MutableDocument(Q,3,S,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(Q,S){return this.createTime.isEqual(SnapshotVersion.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=Q),this.version=Q,this.documentType=1,this.data=S,this.documentState=0,this}convertToNoDocument(Q){return this.version=Q,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(Q){return this.version=Q,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(Q){return this.readTime=Q,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(Q){return Q instanceof MutableDocument&&this.key.isEqual(Q.key)&&this.version.isEqual(Q.version)&&this.documentType===Q.documentType&&this.documentState===Q.documentState&&this.data.isEqual(Q.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function compareDocumentsByField(Q,S,R){let N=S.data.field(Q),M=R.data.field(Q);return null!==N&&null!==M?valueCompare(N,M):fail()}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bound=class Bound{constructor(Q,S){this.position=Q,this.inclusive=S}};function boundCompareToDocument(Q,S,R){let N=0;for(let M=0;M<Q.position.length;M++){let L=S[M],U=Q.position[M];if(L.field.isKeyField())N=DocumentKey.comparator(DocumentKey.fromName(U.referenceValue),R.key);else{let Q=R.data.field(L.field);N=valueCompare(U,Q)}if("desc"===L.dir&&(N*=-1),0!==N)break}return N}function boundSortsAfterDocument(Q,S,R){let N=boundCompareToDocument(Q,S,R);return Q.inclusive?N>=0:N>0}function boundSortsBeforeDocument(Q,S,R){let N=boundCompareToDocument(Q,S,R);return Q.inclusive?N<=0:N<0}function boundEquals(Q,S){if(null===Q)return null===S;if(null===S||Q.inclusive!==S.inclusive||Q.position.length!==S.position.length)return!1;for(let R=0;R<Q.position.length;R++){let N=Q.position[R],M=S.position[R];if(!valueEquals(N,M))return!1}return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OrderBy=class OrderBy{constructor(Q,S="asc"){this.field=Q,this.dir=S}};function canonifyOrderBy(Q){return Q.field.canonicalString()+Q.dir}function stringifyOrderBy(Q){return`${Q.field.canonicalString()} (${Q.dir})`}function orderByEquals(Q,S){return Q.dir===S.dir&&Q.field.isEqual(S.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Filter=class Filter{};let FieldFilter=class FieldFilter extends Filter{constructor(Q,S,R){super(),this.field=Q,this.op=S,this.value=R}static create(Q,S,R){return Q.isKeyField()?"in"===S||"not-in"===S?this.createKeyFieldInFilter(Q,S,R):new KeyFieldFilter(Q,S,R):"array-contains"===S?new ArrayContainsFilter(Q,R):"in"===S?new InFilter(Q,R):"not-in"===S?new NotInFilter(Q,R):"array-contains-any"===S?new ArrayContainsAnyFilter(Q,R):new FieldFilter(Q,S,R)}static createKeyFieldInFilter(Q,S,R){return"in"===S?new KeyFieldInFilter(Q,R):new KeyFieldNotInFilter(Q,R)}matches(Q){let S=Q.data.field(this.field);return"!="===this.op?null!==S&&this.matchesComparison(valueCompare(S,this.value)):null!==S&&typeOrder(this.value)===typeOrder(S)&&this.matchesComparison(valueCompare(S,this.value))}matchesComparison(Q){switch(this.op){case"<":return Q<0;case"<=":return Q<=0;case"==":return 0===Q;case"!=":return 0!==Q;case">":return Q>0;case">=":return Q>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}};let CompositeFilter=class CompositeFilter extends Filter{constructor(Q,S){super(),this.filters=Q,this.op=S,this.memoizedFlattenedFilters=null}static create(Q,S){return new CompositeFilter(Q,S)}matches(Q){return compositeFilterIsConjunction(this)?void 0===this.filters.find(S=>!S.matches(Q)):void 0!==this.filters.find(S=>S.matches(Q))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((Q,S)=>Q.concat(S.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}};function compositeFilterIsConjunction(Q){return"and"===Q.op}function compositeFilterIsDisjunction(Q){return"or"===Q.op}function compositeFilterIsFlatConjunction(Q){return compositeFilterIsFlat(Q)&&compositeFilterIsConjunction(Q)}function compositeFilterIsFlat(Q){for(let S of Q.filters)if(S instanceof CompositeFilter)return!1;return!0}function canonifyFilter(Q){if(Q instanceof FieldFilter)return Q.field.canonicalString()+Q.op.toString()+canonicalId(Q.value);if(compositeFilterIsFlatConjunction(Q))return Q.filters.map(Q=>canonifyFilter(Q)).join(",");{let S=Q.filters.map(Q=>canonifyFilter(Q)).join(",");return`${Q.op}(${S})`}}function filterEquals(Q,S){return Q instanceof FieldFilter?fieldFilterEquals(Q,S):Q instanceof CompositeFilter?compositeFilterEquals(Q,S):void fail()}function fieldFilterEquals(Q,S){return S instanceof FieldFilter&&Q.op===S.op&&Q.field.isEqual(S.field)&&valueEquals(Q.value,S.value)}function compositeFilterEquals(Q,S){if(S instanceof CompositeFilter&&Q.op===S.op&&Q.filters.length===S.filters.length){let R=Q.filters.reduce((Q,R,N)=>Q&&filterEquals(R,S.filters[N]),!0);return R}return!1}function compositeFilterWithAddedFilters(Q,S){let R=Q.filters.concat(S);return CompositeFilter.create(R,Q.op)}function stringifyFilter(Q){return Q instanceof FieldFilter?stringifyFieldFilter(Q):Q instanceof CompositeFilter?stringifyCompositeFilter(Q):"Filter"}function stringifyCompositeFilter(Q){return Q.op.toString()+" {"+Q.getFilters().map(stringifyFilter).join(" ,")+"}"}function stringifyFieldFilter(Q){return`${Q.field.canonicalString()} ${Q.op} ${canonicalId(Q.value)}`}let KeyFieldFilter=class KeyFieldFilter extends FieldFilter{constructor(Q,S,R){super(Q,S,R),this.key=DocumentKey.fromName(R.referenceValue)}matches(Q){let S=DocumentKey.comparator(Q.key,this.key);return this.matchesComparison(S)}};let KeyFieldInFilter=class KeyFieldInFilter extends FieldFilter{constructor(Q,S){super(Q,"in",S),this.keys=extractDocumentKeysFromArrayValue("in",S)}matches(Q){return this.keys.some(S=>S.isEqual(Q.key))}};let KeyFieldNotInFilter=class KeyFieldNotInFilter extends FieldFilter{constructor(Q,S){super(Q,"not-in",S),this.keys=extractDocumentKeysFromArrayValue("not-in",S)}matches(Q){return!this.keys.some(S=>S.isEqual(Q.key))}};function extractDocumentKeysFromArrayValue(Q,S){var R;return((null===(R=S.arrayValue)||void 0===R?void 0:R.values)||[]).map(Q=>DocumentKey.fromName(Q.referenceValue))}let ArrayContainsFilter=class ArrayContainsFilter extends FieldFilter{constructor(Q,S){super(Q,"array-contains",S)}matches(Q){let S=Q.data.field(this.field);return isArray(S)&&arrayValueContains(S.arrayValue,this.value)}};let InFilter=class InFilter extends FieldFilter{constructor(Q,S){super(Q,"in",S)}matches(Q){let S=Q.data.field(this.field);return null!==S&&arrayValueContains(this.value.arrayValue,S)}};let NotInFilter=class NotInFilter extends FieldFilter{constructor(Q,S){super(Q,"not-in",S)}matches(Q){if(arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let S=Q.data.field(this.field);return null!==S&&!arrayValueContains(this.value.arrayValue,S)}};let ArrayContainsAnyFilter=class ArrayContainsAnyFilter extends FieldFilter{constructor(Q,S){super(Q,"array-contains-any",S)}matches(Q){let S=Q.data.field(this.field);return!!isArray(S)&&!!S.arrayValue.values&&S.arrayValue.values.some(Q=>arrayValueContains(this.value.arrayValue,Q))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TargetImpl=class TargetImpl{constructor(Q,S=null,R=[],N=[],M=null,L=null,U=null){this.path=Q,this.collectionGroup=S,this.orderBy=R,this.filters=N,this.limit=M,this.startAt=L,this.endAt=U,this.memoizedCanonicalId=null}};function newTarget(Q,S=null,R=[],N=[],M=null,L=null,U=null){return new TargetImpl(Q,S,R,N,M,L,U)}function canonifyTarget(Q){let S=debugCast(Q);if(null===S.memoizedCanonicalId){let Q=S.path.canonicalString();null!==S.collectionGroup&&(Q+="|cg:"+S.collectionGroup),Q+="|f:"+S.filters.map(Q=>canonifyFilter(Q)).join(",")+"|ob:"+S.orderBy.map(Q=>canonifyOrderBy(Q)).join(","),isNullOrUndefined(S.limit)||(Q+="|l:"+S.limit),S.startAt&&(Q+="|lb:"+(S.startAt.inclusive?"b:":"a:")+S.startAt.position.map(Q=>canonicalId(Q)).join(",")),S.endAt&&(Q+="|ub:"+(S.endAt.inclusive?"a:":"b:")+S.endAt.position.map(Q=>canonicalId(Q)).join(",")),S.memoizedCanonicalId=Q}return S.memoizedCanonicalId}function stringifyTarget(Q){let S=Q.path.canonicalString();return null!==Q.collectionGroup&&(S+=" collectionGroup="+Q.collectionGroup),Q.filters.length>0&&(S+=`, filters: [${Q.filters.map(Q=>stringifyFilter(Q)).join(", ")}]`),isNullOrUndefined(Q.limit)||(S+=", limit: "+Q.limit),Q.orderBy.length>0&&(S+=`, orderBy: [${Q.orderBy.map(Q=>stringifyOrderBy(Q)).join(", ")}]`),Q.startAt&&(S+=", startAt: "+(Q.startAt.inclusive?"b:":"a:")+Q.startAt.position.map(Q=>canonicalId(Q)).join(",")),Q.endAt&&(S+=", endAt: "+(Q.endAt.inclusive?"a:":"b:")+Q.endAt.position.map(Q=>canonicalId(Q)).join(",")),`Target(${S})`}function targetEquals(Q,S){if(Q.limit!==S.limit||Q.orderBy.length!==S.orderBy.length)return!1;for(let R=0;R<Q.orderBy.length;R++)if(!orderByEquals(Q.orderBy[R],S.orderBy[R]))return!1;if(Q.filters.length!==S.filters.length)return!1;for(let R=0;R<Q.filters.length;R++)if(!filterEquals(Q.filters[R],S.filters[R]))return!1;return!!(Q.collectionGroup===S.collectionGroup&&Q.path.isEqual(S.path)&&boundEquals(Q.startAt,S.startAt))&&boundEquals(Q.endAt,S.endAt)}function targetIsDocumentTarget(Q){return DocumentKey.isDocumentKey(Q.path)&&null===Q.collectionGroup&&0===Q.filters.length}function targetGetFieldFiltersForPath(Q,S){return Q.filters.filter(Q=>Q instanceof FieldFilter&&Q.field.isEqual(S))}function targetGetArrayValues(Q,S){let R=fieldIndexGetArraySegment(S);if(void 0===R)return null;for(let S of targetGetFieldFiltersForPath(Q,R.fieldPath))switch(S.op){case"array-contains-any":return S.value.arrayValue.values||[];case"array-contains":return[S.value]}return null}function targetGetNotInValues(Q,S){let R=new Map;for(let N of fieldIndexGetDirectionalSegments(S))for(let S of targetGetFieldFiltersForPath(Q,N.fieldPath))switch(S.op){case"==":case"in":R.set(N.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return R.set(N.fieldPath.canonicalString(),S.value),Array.from(R.values())}return null}function targetGetLowerBound(Q,S){let R=[],N=!0;for(let M of fieldIndexGetDirectionalSegments(S)){let S=0===M.kind?targetGetAscendingBound(Q,M.fieldPath,Q.startAt):targetGetDescendingBound(Q,M.fieldPath,Q.startAt);R.push(S.value),N&&(N=S.inclusive)}return new Bound(R,N)}function targetGetUpperBound(Q,S){let R=[],N=!0;for(let M of fieldIndexGetDirectionalSegments(S)){let S=0===M.kind?targetGetDescendingBound(Q,M.fieldPath,Q.endAt):targetGetAscendingBound(Q,M.fieldPath,Q.endAt);R.push(S.value),N&&(N=S.inclusive)}return new Bound(R,N)}function targetGetAscendingBound(Q,S,R){let N=tq,M=!0;for(let R of targetGetFieldFiltersForPath(Q,S)){let Q=tq,S=!0;switch(R.op){case"<":case"<=":Q=valuesGetLowerBound(R.value);break;case"==":case"in":case">=":Q=R.value;break;case">":Q=R.value,S=!1;break;case"!=":case"not-in":Q=tq}0>lowerBoundCompare({value:N,inclusive:M},{value:Q,inclusive:S})&&(N=Q,M=S)}if(null!==R)for(let L=0;L<Q.orderBy.length;++L){let U=Q.orderBy[L];if(U.field.isEqual(S)){let Q=R.position[L];0>lowerBoundCompare({value:N,inclusive:M},{value:Q,inclusive:R.inclusive})&&(N=Q,M=R.inclusive);break}}return{value:N,inclusive:M}}function targetGetDescendingBound(Q,S,R){let N=tY,M=!0;for(let R of targetGetFieldFiltersForPath(Q,S)){let Q=tY,S=!0;switch(R.op){case">=":case">":Q=valuesGetUpperBound(R.value),S=!1;break;case"==":case"in":case"<=":Q=R.value;break;case"<":Q=R.value,S=!1;break;case"!=":case"not-in":Q=tY}upperBoundCompare({value:N,inclusive:M},{value:Q,inclusive:S})>0&&(N=Q,M=S)}if(null!==R)for(let L=0;L<Q.orderBy.length;++L){let U=Q.orderBy[L];if(U.field.isEqual(S)){let Q=R.position[L];upperBoundCompare({value:N,inclusive:M},{value:Q,inclusive:R.inclusive})>0&&(N=Q,M=R.inclusive);break}}return{value:N,inclusive:M}}function targetGetSegmentCount(Q){let S=new SortedSet(FieldPath$1.comparator),R=!1;for(let N of Q.filters)for(let Q of N.getFlattenedFilters())Q.field.isKeyField()||("array-contains"===Q.op||"array-contains-any"===Q.op?R=!0:S=S.add(Q.field));for(let R of Q.orderBy)R.field.isKeyField()||(S=S.add(R.field));return S.size+(R?1:0)}function targetHasLimit(Q){return null!==Q.limit}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QueryImpl=class QueryImpl{constructor(Q,S=null,R=[],N=[],M=null,L="F",U=null,P=null){this.path=Q,this.collectionGroup=S,this.explicitOrderBy=R,this.filters=N,this.limit=M,this.limitType=L,this.startAt=U,this.endAt=P,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function newQuery(Q,S,R,N,M,L,U,P){return new QueryImpl(Q,S,R,N,M,L,U,P)}function newQueryForPath(Q){return new QueryImpl(Q)}function asCollectionQueryAtPath(Q,S){return new QueryImpl(S,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt)}function queryMatchesAllDocuments(Q){return 0===Q.filters.length&&null===Q.limit&&null==Q.startAt&&null==Q.endAt&&(0===Q.explicitOrderBy.length||1===Q.explicitOrderBy.length&&Q.explicitOrderBy[0].field.isKeyField())}function getInequalityFilterFields(Q){let S=new SortedSet(FieldPath$1.comparator);return Q.filters.forEach(Q=>{let R=Q.getFlattenedFilters();R.forEach(Q=>{Q.isInequality()&&(S=S.add(Q.field))})}),S}function isDocumentQuery$1(Q){return DocumentKey.isDocumentKey(Q.path)&&null===Q.collectionGroup&&0===Q.filters.length}function isCollectionGroupQuery(Q){return null!==Q.collectionGroup}function queryNormalizedOrderBy(Q){let S=debugCast(Q);if(null===S.memoizedNormalizedOrderBy){S.memoizedNormalizedOrderBy=[];let Q=new Set;for(let R of S.explicitOrderBy)S.memoizedNormalizedOrderBy.push(R),Q.add(R.field.canonicalString());let R=S.explicitOrderBy.length>0?S.explicitOrderBy[S.explicitOrderBy.length-1].dir:"asc",N=getInequalityFilterFields(S);N.forEach(N=>{Q.has(N.canonicalString())||N.isKeyField()||S.memoizedNormalizedOrderBy.push(new OrderBy(N,R))}),Q.has(FieldPath$1.keyField().canonicalString())||S.memoizedNormalizedOrderBy.push(new OrderBy(FieldPath$1.keyField(),R))}return S.memoizedNormalizedOrderBy}function queryToTarget(Q){let S=debugCast(Q);return S.memoizedTarget||(S.memoizedTarget=_queryToTarget(S,queryNormalizedOrderBy(Q))),S.memoizedTarget}function queryToAggregateTarget(Q){let S=debugCast(Q);return S.memoizedAggregateTarget||(S.memoizedAggregateTarget=_queryToTarget(S,Q.explicitOrderBy)),S.memoizedAggregateTarget}function _queryToTarget(Q,S){if("F"===Q.limitType)return newTarget(Q.path,Q.collectionGroup,S,Q.filters,Q.limit,Q.startAt,Q.endAt);{S=S.map(Q=>{let S="desc"===Q.dir?"asc":"desc";return new OrderBy(Q.field,S)});let R=Q.endAt?new Bound(Q.endAt.position,Q.endAt.inclusive):null,N=Q.startAt?new Bound(Q.startAt.position,Q.startAt.inclusive):null;return newTarget(Q.path,Q.collectionGroup,S,Q.filters,Q.limit,R,N)}}function queryWithAddedFilter(Q,S){let R=Q.filters.concat([S]);return new QueryImpl(Q.path,Q.collectionGroup,Q.explicitOrderBy.slice(),R,Q.limit,Q.limitType,Q.startAt,Q.endAt)}function queryWithAddedOrderBy(Q,S){let R=Q.explicitOrderBy.concat([S]);return new QueryImpl(Q.path,Q.collectionGroup,R,Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt)}function queryWithLimit(Q,S,R){return new QueryImpl(Q.path,Q.collectionGroup,Q.explicitOrderBy.slice(),Q.filters.slice(),S,R,Q.startAt,Q.endAt)}function queryWithStartAt(Q,S){return new QueryImpl(Q.path,Q.collectionGroup,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,S,Q.endAt)}function queryWithEndAt(Q,S){return new QueryImpl(Q.path,Q.collectionGroup,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,S)}function queryEquals(Q,S){return targetEquals(queryToTarget(Q),queryToTarget(S))&&Q.limitType===S.limitType}function canonifyQuery(Q){return`${canonifyTarget(queryToTarget(Q))}|lt:${Q.limitType}`}function stringifyQuery(Q){return`Query(target=${stringifyTarget(queryToTarget(Q))}; limitType=${Q.limitType})`}function queryMatches(Q,S){return S.isFoundDocument()&&queryMatchesPathAndCollectionGroup(Q,S)&&queryMatchesOrderBy(Q,S)&&queryMatchesFilters(Q,S)&&queryMatchesBounds(Q,S)}function queryMatchesPathAndCollectionGroup(Q,S){let R=S.key.path;return null!==Q.collectionGroup?S.key.hasCollectionId(Q.collectionGroup)&&Q.path.isPrefixOf(R):DocumentKey.isDocumentKey(Q.path)?Q.path.isEqual(R):Q.path.isImmediateParentOf(R)}function queryMatchesOrderBy(Q,S){for(let R of queryNormalizedOrderBy(Q))if(!R.field.isKeyField()&&null===S.data.field(R.field))return!1;return!0}function queryMatchesFilters(Q,S){for(let R of Q.filters)if(!R.matches(S))return!1;return!0}function queryMatchesBounds(Q,S){return(!Q.startAt||!!boundSortsBeforeDocument(Q.startAt,queryNormalizedOrderBy(Q),S))&&(!Q.endAt||!!boundSortsAfterDocument(Q.endAt,queryNormalizedOrderBy(Q),S))}function queryCollectionGroup(Q){return Q.collectionGroup||(Q.path.length%2==1?Q.path.lastSegment():Q.path.get(Q.path.length-2))}function newQueryComparator(Q){return(S,R)=>{let N=!1;for(let M of queryNormalizedOrderBy(Q)){let Q=compareDocs(M,S,R);if(0!==Q)return Q;N=N||M.field.isKeyField()}return 0}}function compareDocs(Q,S,R){let N=Q.field.isKeyField()?DocumentKey.comparator(S.key,R.key):compareDocumentsByField(Q.field,S,R);switch(Q.dir){case"asc":return N;case"desc":return -1*N;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ObjectMap=class ObjectMap{constructor(Q,S){this.mapKeyFn=Q,this.equalsFn=S,this.inner={},this.innerSize=0}get(Q){let S=this.mapKeyFn(Q),R=this.inner[S];if(void 0!==R){for(let[S,N]of R)if(this.equalsFn(S,Q))return N}}has(Q){return void 0!==this.get(Q)}set(Q,S){let R=this.mapKeyFn(Q),N=this.inner[R];if(void 0===N){this.inner[R]=[[Q,S]],this.innerSize++;return}for(let R=0;R<N.length;R++)if(this.equalsFn(N[R][0],Q)){N[R]=[Q,S];return}N.push([Q,S]),this.innerSize++}delete(Q){let S=this.mapKeyFn(Q),R=this.inner[S];if(void 0===R)return!1;for(let N=0;N<R.length;N++)if(this.equalsFn(R[N][0],Q))return 1===R.length?delete this.inner[S]:R.splice(N,1),this.innerSize--,!0;return!1}forEach(Q){forEach(this.inner,(S,R)=>{for(let[S,N]of R)Q(S,N)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tJ=new SortedMap(DocumentKey.comparator);function mutableDocumentMap(){return tJ}let tW=new SortedMap(DocumentKey.comparator);function documentMap(...Q){let S=tW;for(let R of Q)S=S.insert(R.key,R);return S}function newOverlayedDocumentMap(){return newDocumentKeyMap()}function convertOverlayedDocumentMapToDocumentMap(Q){let S=tW;return Q.forEach((Q,R)=>S=S.insert(Q,R.overlayedDocument)),S}function newOverlayMap(){return newDocumentKeyMap()}function newMutationMap(){return newDocumentKeyMap()}function newDocumentKeyMap(){return new ObjectMap(Q=>Q.toString(),(Q,S)=>Q.isEqual(S))}let tj=new SortedMap(DocumentKey.comparator);function documentVersionMap(){return tj}let tz=new SortedSet(DocumentKey.comparator);function documentKeySet(...Q){let S=tz;for(let R of Q)S=S.add(R);return S}let tK=new SortedSet(primitiveComparator);function targetIdSet(){return tK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toDouble(Q,S){if(Q.useProto3Json){if(isNaN(S))return{doubleValue:"NaN"};if(S===1/0)return{doubleValue:"Infinity"};if(S===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:isNegativeZero(S)?"-0":S}}function toInteger(Q){return{integerValue:""+Q}}function toNumber(Q,S){return isSafeInteger(S)?toInteger(S):toDouble(Q,S)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TransformOperation=class TransformOperation{constructor(){this._=void 0}};function applyTransformOperationToLocalView(Q,S,R){return Q instanceof ServerTimestampTransform?serverTimestamp$1(R,S):Q instanceof ArrayUnionTransformOperation?applyArrayUnionTransformOperation(Q,S):Q instanceof ArrayRemoveTransformOperation?applyArrayRemoveTransformOperation(Q,S):applyNumericIncrementTransformOperationToLocalView(Q,S)}function applyTransformOperationToRemoteDocument(Q,S,R){return Q instanceof ArrayUnionTransformOperation?applyArrayUnionTransformOperation(Q,S):Q instanceof ArrayRemoveTransformOperation?applyArrayRemoveTransformOperation(Q,S):R}function computeTransformOperationBaseValue(Q,S){return Q instanceof NumericIncrementTransformOperation?isNumber(S)?S:{integerValue:0}:null}function transformOperationEquals(Q,S){return Q instanceof ArrayUnionTransformOperation&&S instanceof ArrayUnionTransformOperation||Q instanceof ArrayRemoveTransformOperation&&S instanceof ArrayRemoveTransformOperation?arrayEquals(Q.elements,S.elements,valueEquals):Q instanceof NumericIncrementTransformOperation&&S instanceof NumericIncrementTransformOperation?valueEquals(Q.operand,S.operand):Q instanceof ServerTimestampTransform&&S instanceof ServerTimestampTransform}let ServerTimestampTransform=class ServerTimestampTransform extends TransformOperation{};let ArrayUnionTransformOperation=class ArrayUnionTransformOperation extends TransformOperation{constructor(Q){super(),this.elements=Q}};function applyArrayUnionTransformOperation(Q,S){let R=coercedFieldValuesArray(S);for(let S of Q.elements)R.some(Q=>valueEquals(Q,S))||R.push(S);return{arrayValue:{values:R}}}let ArrayRemoveTransformOperation=class ArrayRemoveTransformOperation extends TransformOperation{constructor(Q){super(),this.elements=Q}};function applyArrayRemoveTransformOperation(Q,S){let R=coercedFieldValuesArray(S);for(let S of Q.elements)R=R.filter(Q=>!valueEquals(Q,S));return{arrayValue:{values:R}}}let NumericIncrementTransformOperation=class NumericIncrementTransformOperation extends TransformOperation{constructor(Q,S){super(),this.serializer=Q,this.operand=S}};function applyNumericIncrementTransformOperationToLocalView(Q,S){let R=computeTransformOperationBaseValue(Q,S),N=asNumber(R)+asNumber(Q.operand);return isInteger(R)&&isInteger(Q.operand)?toInteger(N):toDouble(Q.serializer,N)}function asNumber(Q){return normalizeNumber(Q.integerValue||Q.doubleValue)}function coercedFieldValuesArray(Q){return isArray(Q)&&Q.arrayValue.values?Q.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldTransform=class FieldTransform{constructor(Q,S){this.field=Q,this.transform=S}};function fieldTransformEquals(Q,S){return Q.field.isEqual(S.field)&&transformOperationEquals(Q.transform,S.transform)}function fieldTransformsAreEqual(Q,S){return void 0===Q&&void 0===S||!!Q&&!!S&&arrayEquals(Q,S,(Q,S)=>fieldTransformEquals(Q,S))}let MutationResult=class MutationResult{constructor(Q,S){this.version=Q,this.transformResults=S}};let Precondition=class Precondition{constructor(Q,S){this.updateTime=Q,this.exists=S}static none(){return new Precondition}static exists(Q){return new Precondition(void 0,Q)}static updateTime(Q){return new Precondition(Q)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(Q){return this.exists===Q.exists&&(this.updateTime?!!Q.updateTime&&this.updateTime.isEqual(Q.updateTime):!Q.updateTime)}};function preconditionIsValidForDocument(Q,S){return void 0!==Q.updateTime?S.isFoundDocument()&&S.version.isEqual(Q.updateTime):void 0===Q.exists||Q.exists===S.isFoundDocument()}let Mutation=class Mutation{};function calculateOverlayMutation(Q,S){if(!Q.hasLocalMutations||S&&0===S.fields.length)return null;if(null===S)return Q.isNoDocument()?new DeleteMutation(Q.key,Precondition.none()):new SetMutation(Q.key,Q.data,Precondition.none());{let R=Q.data,N=ObjectValue.empty(),M=new SortedSet(FieldPath$1.comparator);for(let Q of S.fields)if(!M.has(Q)){let S=R.field(Q);null===S&&Q.length>1&&(Q=Q.popLast(),S=R.field(Q)),null===S?N.delete(Q):N.set(Q,S),M=M.add(Q)}return new PatchMutation(Q.key,N,new FieldMask(M.toArray()),Precondition.none())}}function mutationApplyToRemoteDocument(Q,S,R){Q instanceof SetMutation?setMutationApplyToRemoteDocument(Q,S,R):Q instanceof PatchMutation?patchMutationApplyToRemoteDocument(Q,S,R):deleteMutationApplyToRemoteDocument(Q,S,R)}function mutationApplyToLocalView(Q,S,R,N){return Q instanceof SetMutation?setMutationApplyToLocalView(Q,S,R,N):Q instanceof PatchMutation?patchMutationApplyToLocalView(Q,S,R,N):deleteMutationApplyToLocalView(Q,S,R)}function mutationExtractBaseValue(Q,S){let R=null;for(let N of Q.fieldTransforms){let Q=S.data.field(N.field),M=computeTransformOperationBaseValue(N.transform,Q||null);null!=M&&(null===R&&(R=ObjectValue.empty()),R.set(N.field,M))}return R||null}function mutationEquals(Q,S){return!!(Q.type===S.type&&Q.key.isEqual(S.key)&&Q.precondition.isEqual(S.precondition)&&fieldTransformsAreEqual(Q.fieldTransforms,S.fieldTransforms))&&(0===Q.type?Q.value.isEqual(S.value):1!==Q.type||Q.data.isEqual(S.data)&&Q.fieldMask.isEqual(S.fieldMask))}let SetMutation=class SetMutation extends Mutation{constructor(Q,S,R,N=[]){super(),this.key=Q,this.value=S,this.precondition=R,this.fieldTransforms=N,this.type=0}getFieldMask(){return null}};function setMutationApplyToRemoteDocument(Q,S,R){let N=Q.value.clone(),M=serverTransformResults(Q.fieldTransforms,S,R.transformResults);N.setAll(M),S.convertToFoundDocument(R.version,N).setHasCommittedMutations()}function setMutationApplyToLocalView(Q,S,R,N){if(!preconditionIsValidForDocument(Q.precondition,S))return R;let M=Q.value.clone(),L=localTransformResults(Q.fieldTransforms,N,S);return M.setAll(L),S.convertToFoundDocument(S.version,M).setHasLocalMutations(),null}let PatchMutation=class PatchMutation extends Mutation{constructor(Q,S,R,N,M=[]){super(),this.key=Q,this.data=S,this.fieldMask=R,this.precondition=N,this.fieldTransforms=M,this.type=1}getFieldMask(){return this.fieldMask}};function patchMutationApplyToRemoteDocument(Q,S,R){if(!preconditionIsValidForDocument(Q.precondition,S)){S.convertToUnknownDocument(R.version);return}let N=serverTransformResults(Q.fieldTransforms,S,R.transformResults),M=S.data;M.setAll(getPatch(Q)),M.setAll(N),S.convertToFoundDocument(R.version,M).setHasCommittedMutations()}function patchMutationApplyToLocalView(Q,S,R,N){if(!preconditionIsValidForDocument(Q.precondition,S))return R;let M=localTransformResults(Q.fieldTransforms,N,S),L=S.data;return(L.setAll(getPatch(Q)),L.setAll(M),S.convertToFoundDocument(S.version,L).setHasLocalMutations(),null===R)?null:R.unionWith(Q.fieldMask.fields).unionWith(Q.fieldTransforms.map(Q=>Q.field))}function getPatch(Q){let S=new Map;return Q.fieldMask.fields.forEach(R=>{if(!R.isEmpty()){let N=Q.data.field(R);S.set(R,N)}}),S}function serverTransformResults(Q,S,R){let N=new Map;hardAssert(Q.length===R.length);for(let M=0;M<R.length;M++){let L=Q[M],U=L.transform,P=S.data.field(L.field);N.set(L.field,applyTransformOperationToRemoteDocument(U,P,R[M]))}return N}function localTransformResults(Q,S,R){let N=new Map;for(let M of Q){let Q=M.transform,L=R.data.field(M.field);N.set(M.field,applyTransformOperationToLocalView(Q,L,S))}return N}let DeleteMutation=class DeleteMutation extends Mutation{constructor(Q,S){super(),this.key=Q,this.precondition=S,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function deleteMutationApplyToRemoteDocument(Q,S,R){S.convertToNoDocument(R.version).setHasCommittedMutations()}function deleteMutationApplyToLocalView(Q,S,R){return preconditionIsValidForDocument(Q.precondition,S)?(S.convertToNoDocument(S.version).setHasLocalMutations(),null):R}let VerifyMutation=class VerifyMutation extends Mutation{constructor(Q,S){super(),this.key=Q,this.precondition=S,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MutationBatch=class MutationBatch{constructor(Q,S,R,N){this.batchId=Q,this.localWriteTime=S,this.baseMutations=R,this.mutations=N}applyToRemoteDocument(Q,S){let R=S.mutationResults;for(let S=0;S<this.mutations.length;S++){let N=this.mutations[S];if(N.key.isEqual(Q.key)){let M=R[S];mutationApplyToRemoteDocument(N,Q,M)}}}applyToLocalView(Q,S){for(let R of this.baseMutations)R.key.isEqual(Q.key)&&(S=mutationApplyToLocalView(R,Q,S,this.localWriteTime));for(let R of this.mutations)R.key.isEqual(Q.key)&&(S=mutationApplyToLocalView(R,Q,S,this.localWriteTime));return S}applyToLocalDocumentSet(Q,S){let R=newMutationMap();return this.mutations.forEach(N=>{let M=Q.get(N.key),L=M.overlayedDocument,U=this.applyToLocalView(L,M.mutatedFields);U=S.has(N.key)?null:U;let P=calculateOverlayMutation(L,U);null!==P&&R.set(N.key,P),L.isValidDocument()||L.convertToNoDocument(SnapshotVersion.min())}),R}keys(){return this.mutations.reduce((Q,S)=>Q.add(S.key),documentKeySet())}isEqual(Q){return this.batchId===Q.batchId&&arrayEquals(this.mutations,Q.mutations,(Q,S)=>mutationEquals(Q,S))&&arrayEquals(this.baseMutations,Q.baseMutations,(Q,S)=>mutationEquals(Q,S))}};let MutationBatchResult=class MutationBatchResult{constructor(Q,S,R,N){this.batch=Q,this.commitVersion=S,this.mutationResults=R,this.docVersions=N}static from(Q,S,R){hardAssert(Q.mutations.length===R.length);let N=documentVersionMap(),M=Q.mutations;for(let Q=0;Q<M.length;Q++)N=N.insert(M[Q].key,R[Q].version);return new MutationBatchResult(Q,S,R,N)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Overlay=class Overlay{constructor(Q,S){this.largestBatchId=Q,this.mutation=S}getKey(){return this.mutation.key}isEqual(Q){return null!==Q&&this.mutation===Q.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ExistenceFilter=class ExistenceFilter{constructor(Q,S){this.count=Q,this.unchangedNames=S}};function isPermanentError(Q){switch(Q){case ec.OK:return fail();case ec.CANCELLED:case ec.UNKNOWN:case ec.DEADLINE_EXCEEDED:case ec.RESOURCE_EXHAUSTED:case ec.INTERNAL:case ec.UNAVAILABLE:case ec.UNAUTHENTICATED:return!1;case ec.INVALID_ARGUMENT:case ec.NOT_FOUND:case ec.ALREADY_EXISTS:case ec.PERMISSION_DENIED:case ec.FAILED_PRECONDITION:case ec.ABORTED:case ec.OUT_OF_RANGE:case ec.UNIMPLEMENTED:case ec.DATA_LOSS:return!0;default:return fail()}}function isPermanentWriteError(Q){return isPermanentError(Q)&&Q!==ec.ABORTED}function mapCodeFromRpcCode(Q){if(void 0===Q)return logError("GRPC error has no .code"),ec.UNKNOWN;switch(Q){case L.OK:return ec.OK;case L.CANCELLED:return ec.CANCELLED;case L.UNKNOWN:return ec.UNKNOWN;case L.DEADLINE_EXCEEDED:return ec.DEADLINE_EXCEEDED;case L.RESOURCE_EXHAUSTED:return ec.RESOURCE_EXHAUSTED;case L.INTERNAL:return ec.INTERNAL;case L.UNAVAILABLE:return ec.UNAVAILABLE;case L.UNAUTHENTICATED:return ec.UNAUTHENTICATED;case L.INVALID_ARGUMENT:return ec.INVALID_ARGUMENT;case L.NOT_FOUND:return ec.NOT_FOUND;case L.ALREADY_EXISTS:return ec.ALREADY_EXISTS;case L.PERMISSION_DENIED:return ec.PERMISSION_DENIED;case L.FAILED_PRECONDITION:return ec.FAILED_PRECONDITION;case L.ABORTED:return ec.ABORTED;case L.OUT_OF_RANGE:return ec.OUT_OF_RANGE;case L.UNIMPLEMENTED:return ec.UNIMPLEMENTED;case L.DATA_LOSS:return ec.DATA_LOSS;default:return fail()}}!function(Q){Q[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS"}(L||(L={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Base64DecodeError=class Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tX=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newTextEncoder(){return new K.TextEncoder}function newTextDecoder(){return new TextDecoder("utf-8")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tZ=new N([4294967295,4294967295],0);function getMd5HashValue(Q){let S=newTextEncoder().encode(Q),R=new M;return R.update(S),new Uint8Array(R.digest())}function get64BitUints(Q){let S=new DataView(Q.buffer),R=S.getUint32(0,!0),M=S.getUint32(4,!0),L=S.getUint32(8,!0),U=S.getUint32(12,!0),P=new N([R,M],0),Y=new N([L,U],0);return[P,Y]}let BloomFilter=class BloomFilter{constructor(Q,S,R){if(this.bitmap=Q,this.padding=S,this.hashCount=R,S<0||S>=8)throw new BloomFilterError(`Invalid padding: ${S}`);if(R<0||Q.length>0&&0===this.hashCount)throw new BloomFilterError(`Invalid hash count: ${R}`);if(0===Q.length&&0!==S)throw new BloomFilterError(`Invalid padding when bitmap length is 0: ${S}`);this.bitCount=8*Q.length-S,this.bitCountInInteger=N.fromNumber(this.bitCount)}getBitIndex(Q,S,R){let M=Q.add(S.multiply(N.fromNumber(R)));return 1===M.compare(tZ)&&(M=new N([M.getBits(0),M.getBits(1)],0)),M.modulo(this.bitCountInInteger).toNumber()}isBitSet(Q){let S=this.bitmap[Math.floor(Q/8)],R=Q%8;return(S&1<<R)!=0}mightContain(Q){if(0===this.bitCount)return!1;let S=getMd5HashValue(Q),[R,N]=get64BitUints(S);for(let Q=0;Q<this.hashCount;Q++){let S=this.getBitIndex(R,N,Q);if(!this.isBitSet(S))return!1}return!0}static create(Q,S,R){let N=Q%8==0?0:8-Q%8,M=new Uint8Array(Math.ceil(Q/8)),L=new BloomFilter(M,N,S);return R.forEach(Q=>L.insert(Q)),L}insert(Q){if(0===this.bitCount)return;let S=getMd5HashValue(Q),[R,N]=get64BitUints(S);for(let Q=0;Q<this.hashCount;Q++){let S=this.getBitIndex(R,N,Q);this.setBit(S)}}setBit(Q){let S=Math.floor(Q/8),R=Q%8;this.bitmap[S]|=1<<R}};let BloomFilterError=class BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RemoteEvent=class RemoteEvent{constructor(Q,S,R,N,M){this.snapshotVersion=Q,this.targetChanges=S,this.targetMismatches=R,this.documentUpdates=N,this.resolvedLimboDocuments=M}static createSynthesizedRemoteEventForCurrentChange(Q,S,R){let N=new Map;return N.set(Q,TargetChange.createSynthesizedTargetChangeForCurrentChange(Q,S,R)),new RemoteEvent(SnapshotVersion.min(),N,new SortedMap(primitiveComparator),mutableDocumentMap(),documentKeySet())}};let TargetChange=class TargetChange{constructor(Q,S,R,N,M){this.resumeToken=Q,this.current=S,this.addedDocuments=R,this.modifiedDocuments=N,this.removedDocuments=M}static createSynthesizedTargetChangeForCurrentChange(Q,S,R){return new TargetChange(R,S,documentKeySet(),documentKeySet(),documentKeySet())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentWatchChange=class DocumentWatchChange{constructor(Q,S,R,N){this.updatedTargetIds=Q,this.removedTargetIds=S,this.key=R,this.newDoc=N}};let ExistenceFilterChange=class ExistenceFilterChange{constructor(Q,S){this.targetId=Q,this.existenceFilter=S}};let WatchTargetChange=class WatchTargetChange{constructor(Q,S,R=ByteString.EMPTY_BYTE_STRING,N=null){this.state=Q,this.targetIds=S,this.resumeToken=R,this.cause=N}};let TargetState=class TargetState{constructor(){this.pendingResponses=0,this.documentChanges=snapshotChangesMap(),this._resumeToken=ByteString.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(Q){Q.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=Q)}toTargetChange(){let Q=documentKeySet(),S=documentKeySet(),R=documentKeySet();return this.documentChanges.forEach((N,M)=>{switch(M){case 0:Q=Q.add(N);break;case 2:S=S.add(N);break;case 1:R=R.add(N);break;default:fail()}}),new TargetChange(this._resumeToken,this._current,Q,S,R)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=snapshotChangesMap()}addDocumentChange(Q,S){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(Q,S)}removeDocumentChange(Q){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(Q)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,hardAssert(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}};let t$="WatchChangeAggregator";let WatchChangeAggregator=class WatchChangeAggregator{constructor(Q){this.metadataProvider=Q,this.targetStates=new Map,this.pendingDocumentUpdates=mutableDocumentMap(),this.pendingDocumentTargetMapping=documentTargetMap(),this.pendingTargetResets=new SortedMap(primitiveComparator)}handleDocumentChange(Q){for(let S of Q.updatedTargetIds)Q.newDoc&&Q.newDoc.isFoundDocument()?this.addDocumentToTarget(S,Q.newDoc):this.removeDocumentFromTarget(S,Q.key,Q.newDoc);for(let S of Q.removedTargetIds)this.removeDocumentFromTarget(S,Q.key,Q.newDoc)}handleTargetChange(Q){this.forEachTarget(Q,S=>{let R=this.ensureTargetState(S);switch(Q.state){case 0:this.isActiveTarget(S)&&R.updateResumeToken(Q.resumeToken);break;case 1:R.recordTargetResponse(),R.isPending||R.clearPendingChanges(),R.updateResumeToken(Q.resumeToken);break;case 2:R.recordTargetResponse(),R.isPending||this.removeTarget(S);break;case 3:this.isActiveTarget(S)&&(R.markCurrent(),R.updateResumeToken(Q.resumeToken));break;case 4:this.isActiveTarget(S)&&(this.resetTarget(S),R.updateResumeToken(Q.resumeToken));break;default:fail()}})}forEachTarget(Q,S){Q.targetIds.length>0?Q.targetIds.forEach(S):this.targetStates.forEach((Q,R)=>{this.isActiveTarget(R)&&S(R)})}handleExistenceFilter(Q){let S=Q.targetId,R=Q.existenceFilter.count,N=this.targetDataForActiveTarget(S);if(N){let M=N.target;if(targetIsDocumentTarget(M)){if(0===R){let Q=new DocumentKey(M.path);this.removeDocumentFromTarget(S,Q,MutableDocument.newNoDocument(Q,SnapshotVersion.min()))}else hardAssert(1===R)}else{let N=this.getCurrentDocumentCountForTarget(S);if(N!==R){let R=this.parseBloomFilter(Q),M=R?this.applyBloomFilter(R,Q,N):1;if(0!==M){this.resetTarget(S);let Q=2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(S,Q)}null==tX||tX.notifyOnExistenceFilterMismatch(createExistenceFilterMismatchInfoForTestingHooks(N,Q.existenceFilter,this.metadataProvider.getDatabaseId(),R,M))}}}}parseBloomFilter(Q){let S,R;let N=Q.existenceFilter.unchangedNames;if(!N||!N.bits)return null;let{bits:{bitmap:M="",padding:L=0},hashCount:U=0}=N;try{S=normalizeByteString(M).toUint8Array()}catch(Q){if(Q instanceof Base64DecodeError)return logWarn("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Q}try{R=new BloomFilter(S,L,U)}catch(Q){return Q instanceof BloomFilterError?logWarn("BloomFilter error: ",Q):logWarn("Applying bloom filter failed: ",Q),null}return 0===R.bitCount?null:R}applyBloomFilter(Q,S,R){let N=S.existenceFilter.count,M=this.filterRemovedDocuments(Q,S.targetId);return N===R-M?0:2}filterRemovedDocuments(Q,S){let R=this.metadataProvider.getRemoteKeysForTarget(S),N=0;return R.forEach(R=>{let M=this.metadataProvider.getDatabaseId(),L=`projects/${M.projectId}/databases/${M.database}/documents/${R.path.canonicalString()}`;!Q.mightContain(L)&&(this.removeDocumentFromTarget(S,R,null),N++)}),N}createRemoteEvent(Q){let S=new Map;this.targetStates.forEach((R,N)=>{let M=this.targetDataForActiveTarget(N);if(M){if(R.current&&targetIsDocumentTarget(M.target)){let S=new DocumentKey(M.target.path);null!==this.pendingDocumentUpdates.get(S)||this.targetContainsDocument(N,S)||this.removeDocumentFromTarget(N,S,MutableDocument.newNoDocument(S,Q))}R.hasPendingChanges&&(S.set(N,R.toTargetChange()),R.clearPendingChanges())}});let R=documentKeySet();this.pendingDocumentTargetMapping.forEach((Q,S)=>{let N=!0;S.forEachWhile(Q=>{let S=this.targetDataForActiveTarget(Q);return!S||"TargetPurposeLimboResolution"===S.purpose||(N=!1,!1)}),N&&(R=R.add(Q))}),this.pendingDocumentUpdates.forEach((S,R)=>R.setReadTime(Q));let N=new RemoteEvent(Q,S,this.pendingTargetResets,this.pendingDocumentUpdates,R);return this.pendingDocumentUpdates=mutableDocumentMap(),this.pendingDocumentTargetMapping=documentTargetMap(),this.pendingTargetResets=new SortedMap(primitiveComparator),N}addDocumentToTarget(Q,S){if(!this.isActiveTarget(Q))return;let R=this.targetContainsDocument(Q,S.key)?2:0,N=this.ensureTargetState(Q);N.addDocumentChange(S.key,R),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(S.key,S),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(S.key,this.ensureDocumentTargetMapping(S.key).add(Q))}removeDocumentFromTarget(Q,S,R){if(!this.isActiveTarget(Q))return;let N=this.ensureTargetState(Q);this.targetContainsDocument(Q,S)?N.addDocumentChange(S,1):N.removeDocumentChange(S),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(S,this.ensureDocumentTargetMapping(S).delete(Q)),R&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(S,R))}removeTarget(Q){this.targetStates.delete(Q)}getCurrentDocumentCountForTarget(Q){let S=this.ensureTargetState(Q),R=S.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(Q).size+R.addedDocuments.size-R.removedDocuments.size}recordPendingTargetRequest(Q){let S=this.ensureTargetState(Q);S.recordPendingTargetRequest()}ensureTargetState(Q){let S=this.targetStates.get(Q);return S||(S=new TargetState,this.targetStates.set(Q,S)),S}ensureDocumentTargetMapping(Q){let S=this.pendingDocumentTargetMapping.get(Q);return S||(S=new SortedSet(primitiveComparator),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(Q,S)),S}isActiveTarget(Q){let S=null!==this.targetDataForActiveTarget(Q);return S||logDebug(t$,"Detected inactive target",Q),S}targetDataForActiveTarget(Q){let S=this.targetStates.get(Q);return S&&S.isPending?null:this.metadataProvider.getTargetDataForTarget(Q)}resetTarget(Q){this.targetStates.set(Q,new TargetState);let S=this.metadataProvider.getRemoteKeysForTarget(Q);S.forEach(S=>{this.removeDocumentFromTarget(Q,S,null)})}targetContainsDocument(Q,S){let R=this.metadataProvider.getRemoteKeysForTarget(Q);return R.has(S)}};function documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}function createExistenceFilterMismatchInfoForTestingHooks(Q,S,R,N,M){var L,U,P,Y,W,K;let X={localCacheCount:Q,existenceFilterCount:S.count,databaseId:R.database,projectId:R.projectId},Z=S.unchangedNames;return Z&&(X.bloomFilter={applied:0===M,hashCount:null!==(L=null==Z?void 0:Z.hashCount)&&void 0!==L?L:0,bitmapLength:null!==(Y=null===(P=null===(U=null==Z?void 0:Z.bits)||void 0===U?void 0:U.bitmap)||void 0===P?void 0:P.length)&&void 0!==Y?Y:0,padding:null!==(K=null===(W=null==Z?void 0:Z.bits)||void 0===W?void 0:W.padding)&&void 0!==K?K:0,mightContain:Q=>{var S;return null!==(S=null==N?void 0:N.mightContain(Q))&&void 0!==S&&S}}),X}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0=(()=>{let Q={};return Q.asc="ASCENDING",Q.desc="DESCENDING",Q})(),t1=(()=>{let Q={};return Q["<"]="LESS_THAN",Q["<="]="LESS_THAN_OR_EQUAL",Q[">"]="GREATER_THAN",Q[">="]="GREATER_THAN_OR_EQUAL",Q["=="]="EQUAL",Q["!="]="NOT_EQUAL",Q["array-contains"]="ARRAY_CONTAINS",Q.in="IN",Q["not-in"]="NOT_IN",Q["array-contains-any"]="ARRAY_CONTAINS_ANY",Q})(),t2=(()=>{let Q={};return Q.and="AND",Q.or="OR",Q})();let JsonProtoSerializer=class JsonProtoSerializer{constructor(Q,S){this.databaseId=Q,this.useProto3Json=S}};function fromRpcStatus(Q){let S=void 0===Q.code?ec.UNKNOWN:mapCodeFromRpcCode(Q.code);return new FirestoreError(S,Q.message||"")}function toInt32Proto(Q,S){return Q.useProto3Json||isNullOrUndefined(S)?S:{value:S}}function fromInt32Proto(Q){let S;return isNullOrUndefined(S="object"==typeof Q?Q.value:Q)?null:S}function toTimestamp(Q,S){if(!Q.useProto3Json)return{seconds:""+S.seconds,nanos:S.nanoseconds};{let Q=new Date(1e3*S.seconds).toISOString(),R=Q.replace(/\.\d*/,"").replace("Z",""),N=("000000000"+S.nanoseconds).slice(-9);return`${R}.${N}Z`}}function fromTimestamp(Q){let S=normalizeTimestamp(Q);return new Timestamp(S.seconds,S.nanos)}function toBytes(Q,S){return Q.useProto3Json?S.toBase64():S.toUint8Array()}function fromBytes(Q,S){return Q.useProto3Json?(hardAssert(void 0===S||"string"==typeof S),ByteString.fromBase64String(S||"")):(hardAssert(void 0===S||S instanceof Buffer||S instanceof Uint8Array),ByteString.fromUint8Array(S||new Uint8Array))}function toVersion(Q,S){return toTimestamp(Q,S.toTimestamp())}function fromVersion(Q){return hardAssert(!!Q),SnapshotVersion.fromTimestamp(fromTimestamp(Q))}function toResourceName(Q,S){return toResourcePath(Q,S).canonicalString()}function toResourcePath(Q,S){let R=fullyQualifiedPrefixPath(Q).child("documents");return void 0===S?R:R.child(S)}function fromResourceName(Q){let S=ResourcePath.fromString(Q);return hardAssert(isValidResourceName(S)),S}function toName(Q,S){return toResourceName(Q.databaseId,S.path)}function fromName(Q,S){let R=fromResourceName(S);if(R.get(1)!==Q.databaseId.projectId)throw new FirestoreError(ec.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+R.get(1)+" vs "+Q.databaseId.projectId);if(R.get(3)!==Q.databaseId.database)throw new FirestoreError(ec.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+R.get(3)+" vs "+Q.databaseId.database);return new DocumentKey(extractLocalPathFromResourceName(R))}function toQueryPath(Q,S){return toResourceName(Q.databaseId,S)}function fromQueryPath(Q){let S=fromResourceName(Q);return 4===S.length?ResourcePath.emptyPath():extractLocalPathFromResourceName(S)}function getEncodedDatabaseId(Q){let S=new ResourcePath(["projects",Q.databaseId.projectId,"databases",Q.databaseId.database]);return S.canonicalString()}function fullyQualifiedPrefixPath(Q){return new ResourcePath(["projects",Q.projectId,"databases",Q.database])}function extractLocalPathFromResourceName(Q){return hardAssert(Q.length>4&&"documents"===Q.get(4)),Q.popFirst(5)}function toMutationDocument(Q,S,R){return{name:toName(Q,S),fields:R.value.mapValue.fields}}function toDocument(Q,S){return{name:toName(Q,S.key),fields:S.data.value.mapValue.fields,updateTime:toTimestamp(Q,S.version.toTimestamp()),createTime:toTimestamp(Q,S.createTime.toTimestamp())}}function fromDocument(Q,S,R){let N=fromName(Q,S.name),M=fromVersion(S.updateTime),L=S.createTime?fromVersion(S.createTime):SnapshotVersion.min(),U=new ObjectValue({mapValue:{fields:S.fields}}),P=MutableDocument.newFoundDocument(N,M,L,U);return R&&P.setHasCommittedMutations(),R?P.setHasCommittedMutations():P}function fromFound(Q,S){hardAssert(!!S.found),S.found.name,S.found.updateTime;let R=fromName(Q,S.found.name),N=fromVersion(S.found.updateTime),M=S.found.createTime?fromVersion(S.found.createTime):SnapshotVersion.min(),L=new ObjectValue({mapValue:{fields:S.found.fields}});return MutableDocument.newFoundDocument(R,N,M,L)}function fromMissing(Q,S){hardAssert(!!S.missing),hardAssert(!!S.readTime);let R=fromName(Q,S.missing),N=fromVersion(S.readTime);return MutableDocument.newNoDocument(R,N)}function fromBatchGetDocumentsResponse(Q,S){return"found"in S?fromFound(Q,S):"missing"in S?fromMissing(Q,S):fail()}function fromWatchChange(Q,S){let R;if("targetChange"in S){S.targetChange;let N=fromWatchTargetChangeState(S.targetChange.targetChangeType||"NO_CHANGE"),M=S.targetChange.targetIds||[],L=fromBytes(Q,S.targetChange.resumeToken),U=S.targetChange.cause,P=U&&fromRpcStatus(U);R=new WatchTargetChange(N,M,L,P||null)}else if("documentChange"in S){S.documentChange;let N=S.documentChange;N.document,N.document.name,N.document.updateTime;let M=fromName(Q,N.document.name),L=fromVersion(N.document.updateTime),U=N.document.createTime?fromVersion(N.document.createTime):SnapshotVersion.min(),P=new ObjectValue({mapValue:{fields:N.document.fields}}),Y=MutableDocument.newFoundDocument(M,L,U,P),W=N.targetIds||[],K=N.removedTargetIds||[];R=new DocumentWatchChange(W,K,Y.key,Y)}else if("documentDelete"in S){S.documentDelete;let N=S.documentDelete;N.document;let M=fromName(Q,N.document),L=N.readTime?fromVersion(N.readTime):SnapshotVersion.min(),U=MutableDocument.newNoDocument(M,L),P=N.removedTargetIds||[];R=new DocumentWatchChange([],P,U.key,U)}else if("documentRemove"in S){S.documentRemove;let N=S.documentRemove;N.document;let M=fromName(Q,N.document),L=N.removedTargetIds||[];R=new DocumentWatchChange([],L,M,null)}else{if(!("filter"in S))return fail();S.filter;let Q=S.filter;Q.targetId;let{count:N=0,unchangedNames:M}=Q,L=new ExistenceFilter(N,M),U=Q.targetId;R=new ExistenceFilterChange(U,L)}return R}function fromWatchTargetChangeState(Q){return"NO_CHANGE"===Q?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:fail()}function versionFromListenResponse(Q){if(!("targetChange"in Q))return SnapshotVersion.min();let S=Q.targetChange;return S.targetIds&&S.targetIds.length||!S.readTime?SnapshotVersion.min():fromVersion(S.readTime)}function toMutation(Q,S){let R;if(S instanceof SetMutation)R={update:toMutationDocument(Q,S.key,S.value)};else if(S instanceof DeleteMutation)R={delete:toName(Q,S.key)};else if(S instanceof PatchMutation)R={update:toMutationDocument(Q,S.key,S.data),updateMask:toDocumentMask(S.fieldMask)};else{if(!(S instanceof VerifyMutation))return fail();R={verify:toName(Q,S.key)}}return S.fieldTransforms.length>0&&(R.updateTransforms=S.fieldTransforms.map(S=>toFieldTransform(Q,S))),S.precondition.isNone||(R.currentDocument=toPrecondition(Q,S.precondition)),R}function fromMutation(Q,S){let R=S.currentDocument?fromPrecondition(S.currentDocument):Precondition.none(),N=S.updateTransforms?S.updateTransforms.map(S=>fromFieldTransform(Q,S)):[];if(S.update){S.update.name;let M=fromName(Q,S.update.name),L=new ObjectValue({mapValue:{fields:S.update.fields}});if(!S.updateMask)return new SetMutation(M,L,R,N);{let Q=fromDocumentMask(S.updateMask);return new PatchMutation(M,L,Q,R,N)}}if(S.delete){let N=fromName(Q,S.delete);return new DeleteMutation(N,R)}if(!S.verify)return fail();{let N=fromName(Q,S.verify);return new VerifyMutation(N,R)}}function toPrecondition(Q,S){return void 0!==S.updateTime?{updateTime:toVersion(Q,S.updateTime)}:void 0!==S.exists?{exists:S.exists}:fail()}function fromPrecondition(Q){return void 0!==Q.updateTime?Precondition.updateTime(fromVersion(Q.updateTime)):void 0!==Q.exists?Precondition.exists(Q.exists):Precondition.none()}function fromWriteResult(Q,S){let R=Q.updateTime?fromVersion(Q.updateTime):fromVersion(S);return R.isEqual(SnapshotVersion.min())&&(R=fromVersion(S)),new MutationResult(R,Q.transformResults||[])}function fromWriteResults(Q,S){return Q&&Q.length>0?(hardAssert(void 0!==S),Q.map(Q=>fromWriteResult(Q,S))):[]}function toFieldTransform(Q,S){let R=S.transform;if(R instanceof ServerTimestampTransform)return{fieldPath:S.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof ArrayUnionTransformOperation)return{fieldPath:S.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof ArrayRemoveTransformOperation)return{fieldPath:S.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof NumericIncrementTransformOperation)return{fieldPath:S.field.canonicalString(),increment:R.operand};throw fail()}function fromFieldTransform(Q,S){let R=null;if("setToServerValue"in S)hardAssert("REQUEST_TIME"===S.setToServerValue),R=new ServerTimestampTransform;else if("appendMissingElements"in S){let Q=S.appendMissingElements.values||[];R=new ArrayUnionTransformOperation(Q)}else if("removeAllFromArray"in S){let Q=S.removeAllFromArray.values||[];R=new ArrayRemoveTransformOperation(Q)}else"increment"in S?R=new NumericIncrementTransformOperation(Q,S.increment):fail();let N=FieldPath$1.fromServerFormat(S.fieldPath);return new FieldTransform(N,R)}function toDocumentsTarget(Q,S){return{documents:[toQueryPath(Q,S.path)]}}function fromDocumentsTarget(Q){let S=Q.documents.length;hardAssert(1===S);let R=Q.documents[0];return queryToTarget(newQueryForPath(fromQueryPath(R)))}function toQueryTarget(Q,S){let R;let N={structuredQuery:{}},M=S.path;null!==S.collectionGroup?(R=M,N.structuredQuery.from=[{collectionId:S.collectionGroup,allDescendants:!0}]):(R=M.popLast(),N.structuredQuery.from=[{collectionId:M.lastSegment()}]),N.parent=toQueryPath(Q,R);let L=toFilters(S.filters);L&&(N.structuredQuery.where=L);let U=toOrder(S.orderBy);U&&(N.structuredQuery.orderBy=U);let P=toInt32Proto(Q,S.limit);return null!==P&&(N.structuredQuery.limit=P),S.startAt&&(N.structuredQuery.startAt=toStartAtCursor(S.startAt)),S.endAt&&(N.structuredQuery.endAt=toEndAtCursor(S.endAt)),{queryTarget:N,parent:R}}function toRunAggregationQueryRequest(Q,S,R,N){let{queryTarget:M,parent:L}=toQueryTarget(Q,S),U={},P=[],Y=0;return R.forEach(Q=>{let S=N?Q.alias:`aggregate_${Y++}`;U[S]=Q.alias,"count"===Q.aggregateType?P.push({alias:S,count:{}}):"avg"===Q.aggregateType?P.push({alias:S,avg:{field:toFieldPathReference(Q.fieldPath)}}):"sum"===Q.aggregateType&&P.push({alias:S,sum:{field:toFieldPathReference(Q.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:P,structuredQuery:M.structuredQuery},parent:M.parent},aliasMap:U,parent:L}}function convertQueryTargetToQuery(Q){let S=fromQueryPath(Q.parent),R=Q.structuredQuery,N=R.from?R.from.length:0,M=null;if(N>0){hardAssert(1===N);let Q=R.from[0];Q.allDescendants?M=Q.collectionId:S=S.child(Q.collectionId)}let L=[];R.where&&(L=fromFilters(R.where));let U=[];R.orderBy&&(U=fromOrder(R.orderBy));let P=null;R.limit&&(P=fromInt32Proto(R.limit));let Y=null;R.startAt&&(Y=fromStartAtCursor(R.startAt));let W=null;return R.endAt&&(W=fromEndAtCursor(R.endAt)),newQuery(S,M,U,L,P,"F",Y,W)}function fromQueryTarget(Q){return queryToTarget(convertQueryTargetToQuery(Q))}function toListenRequestLabels(Q,S){let R=toLabel(S.purpose);return null==R?null:{"goog-listen-tags":R}}function toLabel(Q){switch(Q){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}function toTarget(Q,S){let R;let N=S.target;if((R=targetIsDocumentTarget(N)?{documents:toDocumentsTarget(Q,N)}:{query:toQueryTarget(Q,N).queryTarget}).targetId=S.targetId,S.resumeToken.approximateByteSize()>0){R.resumeToken=toBytes(Q,S.resumeToken);let N=toInt32Proto(Q,S.expectedCount);null!==N&&(R.expectedCount=N)}else if(S.snapshotVersion.compareTo(SnapshotVersion.min())>0){R.readTime=toTimestamp(Q,S.snapshotVersion.toTimestamp());let N=toInt32Proto(Q,S.expectedCount);null!==N&&(R.expectedCount=N)}return R}function toFilters(Q){if(0!==Q.length)return toFilter(CompositeFilter.create(Q,"and"))}function fromFilters(Q){let S=fromFilter(Q);return S instanceof CompositeFilter&&compositeFilterIsFlatConjunction(S)?S.getFilters():[S]}function fromFilter(Q){return void 0!==Q.unaryFilter?fromUnaryFilter(Q):void 0!==Q.fieldFilter?fromFieldFilter(Q):void 0!==Q.compositeFilter?fromCompositeFilter(Q):fail()}function toOrder(Q){if(0!==Q.length)return Q.map(Q=>toPropertyOrder(Q))}function fromOrder(Q){return Q.map(Q=>fromPropertyOrder(Q))}function toStartAtCursor(Q){return{before:Q.inclusive,values:Q.position}}function toEndAtCursor(Q){return{before:!Q.inclusive,values:Q.position}}function fromStartAtCursor(Q){let S=!!Q.before,R=Q.values||[];return new Bound(R,S)}function fromEndAtCursor(Q){let S=!Q.before,R=Q.values||[];return new Bound(R,S)}function toDirection(Q){return t0[Q]}function fromDirection(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function toOperatorName(Q){return t1[Q]}function toCompositeOperatorName(Q){return t2[Q]}function fromOperatorName(Q){switch(Q){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}function fromCompositeOperatorName(Q){switch(Q){case"AND":return"and";case"OR":return"or";default:return fail()}}function toFieldPathReference(Q){return{fieldPath:Q.canonicalString()}}function fromFieldPathReference(Q){return FieldPath$1.fromServerFormat(Q.fieldPath)}function toPropertyOrder(Q){return{field:toFieldPathReference(Q.field),direction:toDirection(Q.dir)}}function fromPropertyOrder(Q){return new OrderBy(fromFieldPathReference(Q.field),fromDirection(Q.direction))}function toFilter(Q){return Q instanceof FieldFilter?toUnaryOrFieldFilter(Q):Q instanceof CompositeFilter?toCompositeFilter(Q):fail()}function toCompositeFilter(Q){let S=Q.getFilters().map(Q=>toFilter(Q));return 1===S.length?S[0]:{compositeFilter:{op:toCompositeOperatorName(Q.op),filters:S}}}function toUnaryOrFieldFilter(Q){if("=="===Q.op){if(isNanValue(Q.value))return{unaryFilter:{field:toFieldPathReference(Q.field),op:"IS_NAN"}};if(isNullValue(Q.value))return{unaryFilter:{field:toFieldPathReference(Q.field),op:"IS_NULL"}}}else if("!="===Q.op){if(isNanValue(Q.value))return{unaryFilter:{field:toFieldPathReference(Q.field),op:"IS_NOT_NAN"}};if(isNullValue(Q.value))return{unaryFilter:{field:toFieldPathReference(Q.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:toFieldPathReference(Q.field),op:toOperatorName(Q.op),value:Q.value}}}function fromUnaryFilter(Q){switch(Q.unaryFilter.op){case"IS_NAN":let S=fromFieldPathReference(Q.unaryFilter.field);return FieldFilter.create(S,"==",{doubleValue:NaN});case"IS_NULL":let R=fromFieldPathReference(Q.unaryFilter.field);return FieldFilter.create(R,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let N=fromFieldPathReference(Q.unaryFilter.field);return FieldFilter.create(N,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let M=fromFieldPathReference(Q.unaryFilter.field);return FieldFilter.create(M,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}function fromFieldFilter(Q){return FieldFilter.create(fromFieldPathReference(Q.fieldFilter.field),fromOperatorName(Q.fieldFilter.op),Q.fieldFilter.value)}function fromCompositeFilter(Q){return CompositeFilter.create(Q.compositeFilter.filters.map(Q=>fromFilter(Q)),fromCompositeOperatorName(Q.compositeFilter.op))}function toDocumentMask(Q){let S=[];return Q.fields.forEach(Q=>S.push(Q.canonicalString())),{fieldPaths:S}}function fromDocumentMask(Q){let S=Q.fieldPaths||[];return new FieldMask(S.map(Q=>FieldPath$1.fromServerFormat(Q)))}function isValidResourceName(Q){return Q.length>=4&&"projects"===Q.get(0)&&"databases"===Q.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TargetData=class TargetData{constructor(Q,S,R,N,M=SnapshotVersion.min(),L=SnapshotVersion.min(),U=ByteString.EMPTY_BYTE_STRING,P=null){this.target=Q,this.targetId=S,this.purpose=R,this.sequenceNumber=N,this.snapshotVersion=M,this.lastLimboFreeSnapshotVersion=L,this.resumeToken=U,this.expectedCount=P}withSequenceNumber(Q){return new TargetData(this.target,this.targetId,this.purpose,Q,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(Q,S){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,S,this.lastLimboFreeSnapshotVersion,Q,null)}withExpectedCount(Q){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,Q)}withLastLimboFreeSnapshotVersion(Q){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,Q,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LocalSerializer=class LocalSerializer{constructor(Q){this.remoteSerializer=Q}};function fromDbRemoteDocument(Q,S){let R;if(S.document)R=fromDocument(Q.remoteSerializer,S.document,!!S.hasCommittedMutations);else if(S.noDocument){let Q=DocumentKey.fromSegments(S.noDocument.path),N=fromDbTimestamp(S.noDocument.readTime);R=MutableDocument.newNoDocument(Q,N),S.hasCommittedMutations&&R.setHasCommittedMutations()}else{if(!S.unknownDocument)return fail();let Q=DocumentKey.fromSegments(S.unknownDocument.path),N=fromDbTimestamp(S.unknownDocument.version);R=MutableDocument.newUnknownDocument(Q,N)}return S.readTime&&R.setReadTime(fromDbTimestampKey(S.readTime)),R}function toDbRemoteDocument(Q,S){let R=S.key,N={prefixPath:R.getCollectionPath().popLast().toArray(),collectionGroup:R.collectionGroup,documentId:R.path.lastSegment(),readTime:toDbTimestampKey(S.readTime),hasCommittedMutations:S.hasCommittedMutations};if(S.isFoundDocument())N.document=toDocument(Q.remoteSerializer,S);else if(S.isNoDocument())N.noDocument={path:R.path.toArray(),readTime:toDbTimestamp(S.version)};else{if(!S.isUnknownDocument())return fail();N.unknownDocument={path:R.path.toArray(),version:toDbTimestamp(S.version)}}return N}function toDbTimestampKey(Q){let S=Q.toTimestamp();return[S.seconds,S.nanoseconds]}function fromDbTimestampKey(Q){let S=new Timestamp(Q[0],Q[1]);return SnapshotVersion.fromTimestamp(S)}function toDbTimestamp(Q){let S=Q.toTimestamp();return{seconds:S.seconds,nanoseconds:S.nanoseconds}}function fromDbTimestamp(Q){let S=new Timestamp(Q.seconds,Q.nanoseconds);return SnapshotVersion.fromTimestamp(S)}function toDbMutationBatch(Q,S,R){let N=R.baseMutations.map(S=>toMutation(Q.remoteSerializer,S)),M=R.mutations.map(S=>toMutation(Q.remoteSerializer,S));return{userId:S,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:N,mutations:M}}function fromDbMutationBatch(Q,S){let R=(S.baseMutations||[]).map(S=>fromMutation(Q.remoteSerializer,S));for(let Q=0;Q<S.mutations.length-1;++Q){let R=S.mutations[Q],N=Q+1<S.mutations.length&&void 0!==S.mutations[Q+1].transform;if(N){let N=S.mutations[Q+1];R.updateTransforms=N.transform.fieldTransforms,S.mutations.splice(Q+1,1),++Q}}let N=S.mutations.map(S=>fromMutation(Q.remoteSerializer,S)),M=Timestamp.fromMillis(S.localWriteTimeMs);return new MutationBatch(S.batchId,M,R,N)}function fromDbTarget(Q){let S;let R=fromDbTimestamp(Q.readTime),N=void 0!==Q.lastLimboFreeSnapshotVersion?fromDbTimestamp(Q.lastLimboFreeSnapshotVersion):SnapshotVersion.min();return new TargetData(S=isDocumentQuery(Q.query)?fromDocumentsTarget(Q.query):fromQueryTarget(Q.query),Q.targetId,"TargetPurposeListen",Q.lastListenSequenceNumber,R,N,ByteString.fromBase64String(Q.resumeToken))}function toDbTarget(Q,S){let R;let N=toDbTimestamp(S.snapshotVersion),M=toDbTimestamp(S.lastLimboFreeSnapshotVersion);R=targetIsDocumentTarget(S.target)?toDocumentsTarget(Q.remoteSerializer,S.target):toQueryTarget(Q.remoteSerializer,S.target).queryTarget;let L=S.resumeToken.toBase64();return{targetId:S.targetId,canonicalId:canonifyTarget(S.target),readTime:N,resumeToken:L,lastListenSequenceNumber:S.sequenceNumber,lastLimboFreeSnapshotVersion:M,query:R}}function isDocumentQuery(Q){return void 0!==Q.documents}function fromDbBundle(Q){return{id:Q.bundleId,createTime:fromDbTimestamp(Q.createTime),version:Q.version}}function toDbBundle(Q){return{bundleId:Q.id,createTime:toDbTimestamp(fromVersion(Q.createTime)),version:Q.version}}function fromDbNamedQuery(Q){return{name:Q.name,query:fromBundledQuery(Q.bundledQuery),readTime:fromDbTimestamp(Q.readTime)}}function toDbNamedQuery(Q){return{name:Q.name,readTime:toDbTimestamp(fromVersion(Q.readTime)),bundledQuery:Q.bundledQuery}}function fromBundledQuery(Q){let S=convertQueryTargetToQuery({parent:Q.parent,structuredQuery:Q.structuredQuery});return"LAST"===Q.limitType?queryWithLimit(S,S.limit,"L"):S}function fromProtoNamedQuery(Q){return{name:Q.name,query:fromBundledQuery(Q.bundledQuery),readTime:fromVersion(Q.readTime)}}function fromBundleMetadata(Q){return{id:Q.id,version:Q.version,createTime:fromVersion(Q.createTime)}}function fromDbDocumentOverlay(Q,S){return new Overlay(S.largestBatchId,fromMutation(Q.remoteSerializer,S.overlayMutation))}function toDbDocumentOverlay(Q,S,R){let[N,M,L]=toDbDocumentOverlayKey(S,R.mutation.key);return{userId:S,collectionPath:M,documentId:L,collectionGroup:R.mutation.key.getCollectionGroup(),largestBatchId:R.largestBatchId,overlayMutation:toMutation(Q.remoteSerializer,R.mutation)}}function toDbDocumentOverlayKey(Q,S){let R=S.path.lastSegment(),N=encodeResourcePath(S.path.popLast());return[Q,N,R]}function toDbIndexConfiguration(Q){return{indexId:Q.indexId,collectionGroup:Q.collectionGroup,fields:Q.fields.map(Q=>[Q.fieldPath.canonicalString(),Q.kind])}}function fromDbIndexConfiguration(Q,S){let R=S?new IndexState(S.sequenceNumber,new IndexOffset(fromDbTimestamp(S.readTime),new DocumentKey(decodeResourcePath(S.documentKey)),S.largestBatchId)):IndexState.empty(),N=Q.fields.map(([Q,S])=>new IndexSegment(FieldPath$1.fromServerFormat(Q),S));return new FieldIndex(Q.indexId,Q.collectionGroup,N,R)}function toDbIndexState(Q,S,R,N){return{indexId:Q,uid:S,sequenceNumber:R,readTime:toDbTimestamp(N.readTime),documentKey:encodeResourcePath(N.documentKey.path),largestBatchId:N.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbBundleCache=class IndexedDbBundleCache{getBundleMetadata(Q,S){return bundlesStore(Q).get(S).next(Q=>{if(Q)return fromDbBundle(Q)})}saveBundleMetadata(Q,S){return bundlesStore(Q).put(toDbBundle(S))}getNamedQuery(Q,S){return namedQueriesStore(Q).get(S).next(Q=>{if(Q)return fromDbNamedQuery(Q)})}saveNamedQuery(Q,S){return namedQueriesStore(Q).put(toDbNamedQuery(S))}};function bundlesStore(Q){return getStore(Q,te)}function namedQueriesStore(Q){return getStore(Q,tr)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbDocumentOverlayCache=class IndexedDbDocumentOverlayCache{constructor(Q,S){this.serializer=Q,this.userId=S}static forUser(Q,S){let R=S.uid||"";return new IndexedDbDocumentOverlayCache(Q,R)}getOverlay(Q,S){return documentOverlayStore(Q).get(toDbDocumentOverlayKey(this.userId,S)).next(Q=>Q?fromDbDocumentOverlay(this.serializer,Q):null)}getOverlays(Q,S){let R=newOverlayMap();return PersistencePromise.forEach(S,S=>this.getOverlay(Q,S).next(Q=>{null!==Q&&R.set(S,Q)})).next(()=>R)}saveOverlays(Q,S,R){let N=[];return R.forEach((R,M)=>{let L=new Overlay(S,M);N.push(this.saveOverlay(Q,L))}),PersistencePromise.waitFor(N)}removeOverlaysForBatchId(Q,S,R){let N=new Set;S.forEach(Q=>N.add(encodeResourcePath(Q.getCollectionPath())));let M=[];return N.forEach(S=>{let N=IDBKeyRange.bound([this.userId,S,R],[this.userId,S,R+1],!1,!0);M.push(documentOverlayStore(Q).deleteAll(tI,N))}),PersistencePromise.waitFor(M)}getOverlaysForCollection(Q,S,R){let N=newOverlayMap(),M=encodeResourcePath(S),L=IDBKeyRange.bound([this.userId,M,R],[this.userId,M,Number.POSITIVE_INFINITY],!0);return documentOverlayStore(Q).loadAll(tI,L).next(Q=>{for(let S of Q){let Q=fromDbDocumentOverlay(this.serializer,S);N.set(Q.getKey(),Q)}return N})}getOverlaysForCollectionGroup(Q,S,R,N){let M;let L=newOverlayMap(),U=IDBKeyRange.bound([this.userId,S,R],[this.userId,S,Number.POSITIVE_INFINITY],!0);return documentOverlayStore(Q).iterate({index:ty,range:U},(Q,S,R)=>{let U=fromDbDocumentOverlay(this.serializer,S);L.size()<N||U.largestBatchId===M?(L.set(U.getKey(),U),M=U.largestBatchId):R.done()}).next(()=>L)}saveOverlay(Q,S){return documentOverlayStore(Q).put(toDbDocumentOverlay(this.serializer,this.userId,S))}};function documentOverlayStore(Q){return getStore(Q,tm)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t4=5,t9=10,t3=13,t8=15,t5=20,t6=25,t7=30,rt=37,rr=45,ri=50,rs=55,ro=60,ra=2;let FirestoreIndexValueWriter=class FirestoreIndexValueWriter{constructor(){}writeIndexValue(Q,S){this.writeIndexValueAux(Q,S),S.writeInfinity()}writeIndexValueAux(Q,S){if("nullValue"in Q)this.writeValueTypeLabel(S,t4);else if("booleanValue"in Q)this.writeValueTypeLabel(S,t9),S.writeNumber(Q.booleanValue?1:0);else if("integerValue"in Q)this.writeValueTypeLabel(S,t8),S.writeNumber(normalizeNumber(Q.integerValue));else if("doubleValue"in Q){let R=normalizeNumber(Q.doubleValue);isNaN(R)?this.writeValueTypeLabel(S,t3):(this.writeValueTypeLabel(S,t8),isNegativeZero(R)?S.writeNumber(0):S.writeNumber(R))}else if("timestampValue"in Q){let R=Q.timestampValue;this.writeValueTypeLabel(S,t5),"string"==typeof R&&(R=normalizeTimestamp(R)),S.writeString(`${R.seconds||""}`),S.writeNumber(R.nanos||0)}else if("stringValue"in Q)this.writeIndexString(Q.stringValue,S),this.writeTruncationMarker(S);else if("bytesValue"in Q)this.writeValueTypeLabel(S,t7),S.writeBytes(normalizeByteString(Q.bytesValue)),this.writeTruncationMarker(S);else if("referenceValue"in Q)this.writeIndexEntityRef(Q.referenceValue,S);else if("geoPointValue"in Q){let R=Q.geoPointValue;this.writeValueTypeLabel(S,rr),S.writeNumber(R.latitude||0),S.writeNumber(R.longitude||0)}else"mapValue"in Q?isMaxValue(Q)?this.writeValueTypeLabel(S,Number.MAX_SAFE_INTEGER):(this.writeIndexMap(Q.mapValue,S),this.writeTruncationMarker(S)):"arrayValue"in Q?(this.writeIndexArray(Q.arrayValue,S),this.writeTruncationMarker(S)):fail()}writeIndexString(Q,S){this.writeValueTypeLabel(S,t6),this.writeUnlabeledIndexString(Q,S)}writeUnlabeledIndexString(Q,S){S.writeString(Q)}writeIndexMap(Q,S){let R=Q.fields||{};for(let Q of(this.writeValueTypeLabel(S,rs),Object.keys(R)))this.writeIndexString(Q,S),this.writeIndexValueAux(R[Q],S)}writeIndexArray(Q,S){let R=Q.values||[];for(let Q of(this.writeValueTypeLabel(S,ri),R))this.writeIndexValueAux(Q,S)}writeIndexEntityRef(Q,S){this.writeValueTypeLabel(S,rt);let R=DocumentKey.fromName(Q).path;R.forEach(Q=>{this.writeValueTypeLabel(S,ro),this.writeUnlabeledIndexString(Q,S)})}writeValueTypeLabel(Q,S){Q.writeNumber(S)}writeTruncationMarker(Q){Q.writeNumber(ra)}};FirestoreIndexValueWriter.INSTANCE=new FirestoreIndexValueWriter;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rA="\uD800",rl="\uDBFF",rc=0,ru=255,rh=1,rd=255,rg=255,rp=0,rf=64,rE=8,rm=1024;function doubleToLongBits(Q){let S=new DataView(new ArrayBuffer(8));return S.setFloat64(0,Q,!1),new Uint8Array(S.buffer)}function numberOfLeadingZerosInByte(Q){if(0===Q)return 8;let S=0;return Q>>4==0&&(S+=4,Q<<=4),Q>>6==0&&(S+=2,Q<<=2),Q>>7==0&&(S+=1),S}function numberOfLeadingZeros(Q){let S=0;for(let R=0;R<8;++R){let N=numberOfLeadingZerosInByte(255&Q[R]);if(S+=N,8!==N)break}return S}function unsignedNumLength(Q){let S=rf-numberOfLeadingZeros(Q);return Math.ceil(S/rE)}let OrderedCodeWriter=class OrderedCodeWriter{constructor(){this.buffer=new Uint8Array(rm),this.position=0}writeBytesAscending(Q){let S=Q[Symbol.iterator](),R=S.next();for(;!R.done;)this.writeByteAscending(R.value),R=S.next();this.writeSeparatorAscending()}writeBytesDescending(Q){let S=Q[Symbol.iterator](),R=S.next();for(;!R.done;)this.writeByteDescending(R.value),R=S.next();this.writeSeparatorDescending()}writeUtf8Ascending(Q){for(let S of Q){let Q=S.charCodeAt(0);if(Q<128)this.writeByteAscending(Q);else if(Q<2048)this.writeByteAscending(960|Q>>>6),this.writeByteAscending(128|63&Q);else if(S<rA||rl<S)this.writeByteAscending(480|Q>>>12),this.writeByteAscending(128|63&Q>>>6),this.writeByteAscending(128|63&Q);else{let Q=S.codePointAt(0);this.writeByteAscending(240|Q>>>18),this.writeByteAscending(128|63&Q>>>12),this.writeByteAscending(128|63&Q>>>6),this.writeByteAscending(128|63&Q)}}this.writeSeparatorAscending()}writeUtf8Descending(Q){for(let S of Q){let Q=S.charCodeAt(0);if(Q<128)this.writeByteDescending(Q);else if(Q<2048)this.writeByteDescending(960|Q>>>6),this.writeByteDescending(128|63&Q);else if(S<rA||rl<S)this.writeByteDescending(480|Q>>>12),this.writeByteDescending(128|63&Q>>>6),this.writeByteDescending(128|63&Q);else{let Q=S.codePointAt(0);this.writeByteDescending(240|Q>>>18),this.writeByteDescending(128|63&Q>>>12),this.writeByteDescending(128|63&Q>>>6),this.writeByteDescending(128|63&Q)}}this.writeSeparatorDescending()}writeNumberAscending(Q){let S=this.toOrderedBits(Q),R=unsignedNumLength(S);this.ensureAvailable(1+R),this.buffer[this.position++]=255&R;for(let Q=S.length-R;Q<S.length;++Q)this.buffer[this.position++]=255&S[Q]}writeNumberDescending(Q){let S=this.toOrderedBits(Q),R=unsignedNumLength(S);this.ensureAvailable(1+R),this.buffer[this.position++]=~(255&R);for(let Q=S.length-R;Q<S.length;++Q)this.buffer[this.position++]=~(255&S[Q])}writeInfinityAscending(){this.writeEscapedByteAscending(rd),this.writeEscapedByteAscending(rg)}writeInfinityDescending(){this.writeEscapedByteDescending(rd),this.writeEscapedByteDescending(rg)}reset(){this.position=0}seed(Q){this.ensureAvailable(Q.length),this.buffer.set(Q,this.position),this.position+=Q.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(Q){let S=doubleToLongBits(Q),R=(128&S[0])!=0;S[0]^=R?255:128;for(let Q=1;Q<S.length;++Q)S[Q]^=R?255:0;return S}writeByteAscending(Q){let S=255&Q;S===rc?(this.writeEscapedByteAscending(rc),this.writeEscapedByteAscending(ru)):S===rd?(this.writeEscapedByteAscending(rd),this.writeEscapedByteAscending(rp)):this.writeEscapedByteAscending(S)}writeByteDescending(Q){let S=255&Q;S===rc?(this.writeEscapedByteDescending(rc),this.writeEscapedByteDescending(ru)):S===rd?(this.writeEscapedByteDescending(rd),this.writeEscapedByteDescending(rp)):this.writeEscapedByteDescending(Q)}writeSeparatorAscending(){this.writeEscapedByteAscending(rc),this.writeEscapedByteAscending(rh)}writeSeparatorDescending(){this.writeEscapedByteDescending(rc),this.writeEscapedByteDescending(rh)}writeEscapedByteAscending(Q){this.ensureAvailable(1),this.buffer[this.position++]=Q}writeEscapedByteDescending(Q){this.ensureAvailable(1),this.buffer[this.position++]=~Q}ensureAvailable(Q){let S=Q+this.position;if(S<=this.buffer.length)return;let R=2*this.buffer.length;R<S&&(R=S);let N=new Uint8Array(R);N.set(this.buffer),this.buffer=N}};let AscendingIndexByteEncoder=class AscendingIndexByteEncoder{constructor(Q){this.orderedCode=Q}writeBytes(Q){this.orderedCode.writeBytesAscending(Q)}writeString(Q){this.orderedCode.writeUtf8Ascending(Q)}writeNumber(Q){this.orderedCode.writeNumberAscending(Q)}writeInfinity(){this.orderedCode.writeInfinityAscending()}};let DescendingIndexByteEncoder=class DescendingIndexByteEncoder{constructor(Q){this.orderedCode=Q}writeBytes(Q){this.orderedCode.writeBytesDescending(Q)}writeString(Q){this.orderedCode.writeUtf8Descending(Q)}writeNumber(Q){this.orderedCode.writeNumberDescending(Q)}writeInfinity(){this.orderedCode.writeInfinityDescending()}};let IndexByteEncoder=class IndexByteEncoder{constructor(){this.orderedCode=new OrderedCodeWriter,this.ascending=new AscendingIndexByteEncoder(this.orderedCode),this.descending=new DescendingIndexByteEncoder(this.orderedCode)}seed(Q){this.orderedCode.seed(Q)}forKind(Q){return 0===Q?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexEntry=class IndexEntry{constructor(Q,S,R,N){this.indexId=Q,this.documentKey=S,this.arrayValue=R,this.directionalValue=N}successor(){let Q=this.directionalValue.length,S=0===Q||255===this.directionalValue[Q-1]?Q+1:Q,R=new Uint8Array(S);return R.set(this.directionalValue,0),S!==Q?R.set([0],this.directionalValue.length):++R[R.length-1],new IndexEntry(this.indexId,this.documentKey,this.arrayValue,R)}};function indexEntryComparator(Q,S){let R=Q.indexId-S.indexId;return 0!==R||0!==(R=compareByteArrays(Q.arrayValue,S.arrayValue))||0!==(R=compareByteArrays(Q.directionalValue,S.directionalValue))?R:DocumentKey.comparator(Q.documentKey,S.documentKey)}function compareByteArrays(Q,S){for(let R=0;R<Q.length&&R<S.length;++R){let N=Q[R]-S[R];if(0!==N)return N}return Q.length-S.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TargetIndexMatcher=class TargetIndexMatcher{constructor(Q){for(let S of(this.inequalityFilters=new SortedSet((Q,S)=>FieldPath$1.comparator(Q.field,S.field)),this.collectionId=null!=Q.collectionGroup?Q.collectionGroup:Q.path.lastSegment(),this.orderBys=Q.orderBy,this.equalityFilters=[],Q.filters)){let Q=S;Q.isInequality()?this.inequalityFilters=this.inequalityFilters.add(Q):this.equalityFilters.push(Q)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(Q){if(hardAssert(Q.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let S=fieldIndexGetArraySegment(Q);if(void 0!==S&&!this.hasMatchingEqualityFilter(S))return!1;let R=fieldIndexGetDirectionalSegments(Q),N=new Set,M=0,L=0;for(;M<R.length;++M)if(this.hasMatchingEqualityFilter(R[M]))N=N.add(R[M].fieldPath.canonicalString());else break;if(M===R.length)return!0;if(this.inequalityFilters.size>0){let Q=this.inequalityFilters.getIterator().getNext();if(!N.has(Q.field.canonicalString())){let S=R[M];if(!this.matchesFilter(Q,S)||!this.matchesOrderBy(this.orderBys[L++],S))return!1}++M}for(;M<R.length;++M){let Q=R[M];if(L>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[L++],Q))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let Q=new SortedSet(FieldPath$1.comparator),S=[];for(let R of this.equalityFilters){if(R.field.isKeyField())continue;let N="array-contains"===R.op||"array-contains-any"===R.op;if(N)S.push(new IndexSegment(R.field,2));else{if(Q.has(R.field))continue;Q=Q.add(R.field),S.push(new IndexSegment(R.field,0))}}for(let R of this.orderBys)R.field.isKeyField()||Q.has(R.field)||(Q=Q.add(R.field),S.push(new IndexSegment(R.field,"asc"===R.dir?0:1)));return new FieldIndex(FieldIndex.UNKNOWN_ID,this.collectionId,S,IndexState.empty())}hasMatchingEqualityFilter(Q){for(let S of this.equalityFilters)if(this.matchesFilter(S,Q))return!0;return!1}matchesFilter(Q,S){if(void 0===Q||!Q.field.isEqual(S.fieldPath))return!1;let R="array-contains"===Q.op||"array-contains-any"===Q.op;return 2===S.kind===R}matchesOrderBy(Q,S){return!!Q.field.isEqual(S.fieldPath)&&(0===S.kind&&"asc"===Q.dir||1===S.kind&&"desc"===Q.dir)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function computeInExpansion(Q){var S,R;if(hardAssert(Q instanceof FieldFilter||Q instanceof CompositeFilter),Q instanceof FieldFilter){if(!(Q instanceof InFilter))return Q;{let N=(null===(R=null===(S=Q.value.arrayValue)||void 0===S?void 0:S.values)||void 0===R?void 0:R.map(S=>FieldFilter.create(Q.field,"==",S)))||[];return CompositeFilter.create(N,"or")}}let N=Q.filters.map(Q=>computeInExpansion(Q));return CompositeFilter.create(N,Q.op)}function getDnfTerms(Q){if(0===Q.getFilters().length)return[];let S=computeDistributedNormalForm(computeInExpansion(Q));return(hardAssert(isDisjunctiveNormalForm(S)),isSingleFieldFilter(S)||isFlatConjunction(S))?[S]:S.getFilters()}function isSingleFieldFilter(Q){return Q instanceof FieldFilter}function isFlatConjunction(Q){return Q instanceof CompositeFilter&&compositeFilterIsFlatConjunction(Q)}function isDisjunctiveNormalForm(Q){return isSingleFieldFilter(Q)||isFlatConjunction(Q)||isDisjunctionOfFieldFiltersAndFlatConjunctions(Q)}function isDisjunctionOfFieldFiltersAndFlatConjunctions(Q){if(Q instanceof CompositeFilter&&compositeFilterIsDisjunction(Q)){for(let S of Q.getFilters())if(!isSingleFieldFilter(S)&&!isFlatConjunction(S))return!1;return!0}return!1}function computeDistributedNormalForm(Q){if(hardAssert(Q instanceof FieldFilter||Q instanceof CompositeFilter),Q instanceof FieldFilter)return Q;if(1===Q.filters.length)return computeDistributedNormalForm(Q.filters[0]);let S=Q.filters.map(Q=>computeDistributedNormalForm(Q)),R=CompositeFilter.create(S,Q.op);return isDisjunctiveNormalForm(R=applyAssociation(R))?R:(hardAssert(R instanceof CompositeFilter),hardAssert(compositeFilterIsConjunction(R)),hardAssert(R.filters.length>1),R.filters.reduce((Q,S)=>applyDistribution(Q,S)))}function applyDistribution(Q,S){let R;return hardAssert(Q instanceof FieldFilter||Q instanceof CompositeFilter),hardAssert(S instanceof FieldFilter||S instanceof CompositeFilter),applyAssociation(R=Q instanceof FieldFilter?S instanceof FieldFilter?applyDistributionFieldFilters(Q,S):applyDistributionFieldAndCompositeFilters(Q,S):S instanceof FieldFilter?applyDistributionFieldAndCompositeFilters(S,Q):applyDistributionCompositeFilters(Q,S))}function applyDistributionFieldFilters(Q,S){return CompositeFilter.create([Q,S],"and")}function applyDistributionCompositeFilters(Q,S){if(hardAssert(Q.filters.length>0&&S.filters.length>0),compositeFilterIsConjunction(Q)&&compositeFilterIsConjunction(S))return compositeFilterWithAddedFilters(Q,S.getFilters());let R=compositeFilterIsDisjunction(Q)?Q:S,N=compositeFilterIsDisjunction(Q)?S:Q,M=R.filters.map(Q=>applyDistribution(Q,N));return CompositeFilter.create(M,"or")}function applyDistributionFieldAndCompositeFilters(Q,S){if(compositeFilterIsConjunction(S))return compositeFilterWithAddedFilters(S,Q.getFilters());{let R=S.filters.map(S=>applyDistribution(Q,S));return CompositeFilter.create(R,"or")}}function applyAssociation(Q){if(hardAssert(Q instanceof FieldFilter||Q instanceof CompositeFilter),Q instanceof FieldFilter)return Q;let S=Q.getFilters();if(1===S.length)return applyAssociation(S[0]);if(compositeFilterIsFlat(Q))return Q;let R=S.map(Q=>applyAssociation(Q)),N=[];return(R.forEach(S=>{S instanceof FieldFilter?N.push(S):S instanceof CompositeFilter&&(S.op===Q.op?N.push(...S.filters):N.push(S))}),1===N.length)?N[0]:CompositeFilter.create(N,Q.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryIndexManager=class MemoryIndexManager{constructor(){this.collectionParentIndex=new MemoryCollectionParentIndex}addToCollectionParentIndex(Q,S){return this.collectionParentIndex.add(S),PersistencePromise.resolve()}getCollectionParents(Q,S){return PersistencePromise.resolve(this.collectionParentIndex.getEntries(S))}addFieldIndex(Q,S){return PersistencePromise.resolve()}deleteFieldIndex(Q,S){return PersistencePromise.resolve()}deleteAllFieldIndexes(Q){return PersistencePromise.resolve()}createTargetIndexes(Q,S){return PersistencePromise.resolve()}getDocumentsMatchingTarget(Q,S){return PersistencePromise.resolve(null)}getIndexType(Q,S){return PersistencePromise.resolve(0)}getFieldIndexes(Q,S){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(Q){return PersistencePromise.resolve(null)}getMinOffset(Q,S){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(Q,S){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(Q,S,R){return PersistencePromise.resolve()}updateIndexEntries(Q,S){return PersistencePromise.resolve()}};let MemoryCollectionParentIndex=class MemoryCollectionParentIndex{constructor(){this.index={}}add(Q){let S=Q.lastSegment(),R=Q.popLast(),N=this.index[S]||new SortedSet(ResourcePath.comparator),M=!N.has(R);return this.index[S]=N.add(R),M}has(Q){let S=Q.lastSegment(),R=Q.popLast(),N=this.index[S];return N&&N.has(R)}getEntries(Q){let S=this.index[Q]||new SortedSet(ResourcePath.comparator);return S.toArray()}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rC="IndexedDbIndexManager",rI=new Uint8Array(0);let IndexedDbIndexManager=class IndexedDbIndexManager{constructor(Q,S){this.databaseId=S,this.collectionParentsCache=new MemoryCollectionParentIndex,this.targetToDnfSubTargets=new ObjectMap(Q=>canonifyTarget(Q),(Q,S)=>targetEquals(Q,S)),this.uid=Q.uid||""}addToCollectionParentIndex(Q,S){if(!this.collectionParentsCache.has(S)){let R=S.lastSegment(),N=S.popLast();Q.addOnCommittedListener(()=>{this.collectionParentsCache.add(S)});let M={collectionId:R,parent:encodeResourcePath(N)};return collectionParentsStore(Q).put(M)}return PersistencePromise.resolve()}getCollectionParents(Q,S){let R=[],N=IDBKeyRange.bound([S,""],[immediateSuccessor(S),""],!1,!0);return collectionParentsStore(Q).loadAll(N).next(Q=>{for(let N of Q){if(N.collectionId!==S)break;R.push(decodeResourcePath(N.parent))}return R})}addFieldIndex(Q,S){let R=indexConfigurationStore(Q),N=toDbIndexConfiguration(S);delete N.indexId;let M=R.add(N);if(!S.indexState)return M.next();{let R=indexStateStore(Q);return M.next(Q=>{R.put(toDbIndexState(Q,this.uid,S.indexState.sequenceNumber,S.indexState.offset))})}}deleteFieldIndex(Q,S){let R=indexConfigurationStore(Q),N=indexStateStore(Q),M=indexEntriesStore(Q);return R.delete(S.indexId).next(()=>N.delete(IDBKeyRange.bound([S.indexId],[S.indexId+1],!1,!0))).next(()=>M.delete(IDBKeyRange.bound([S.indexId],[S.indexId+1],!1,!0)))}deleteAllFieldIndexes(Q){let S=indexConfigurationStore(Q),R=indexEntriesStore(Q),N=indexStateStore(Q);return S.deleteAll().next(()=>R.deleteAll()).next(()=>N.deleteAll())}createTargetIndexes(Q,S){return PersistencePromise.forEach(this.getSubTargets(S),S=>this.getIndexType(Q,S).next(R=>{if(0===R||1===R){let R=new TargetIndexMatcher(S),N=R.buildTargetIndex();if(null!=N)return this.addFieldIndex(Q,N)}}))}getDocumentsMatchingTarget(Q,S){let R=indexEntriesStore(Q),N=!0,M=new Map;return PersistencePromise.forEach(this.getSubTargets(S),S=>this.getFieldIndex(Q,S).next(Q=>{N&&(N=!!Q),M.set(S,Q)})).next(()=>{if(!N)return PersistencePromise.resolve(null);{let Q=documentKeySet(),N=[];return PersistencePromise.forEach(M,(M,L)=>{logDebug(rC,`Using index ${fieldIndexToString(M)} to execute ${canonifyTarget(S)}`);let U=targetGetArrayValues(L,M),P=targetGetNotInValues(L,M),Y=targetGetLowerBound(L,M),W=targetGetUpperBound(L,M),K=this.encodeBound(M,L,Y),X=this.encodeBound(M,L,W),Z=this.encodeValues(M,L,P),$=this.generateIndexRanges(M.indexId,U,K,Y.inclusive,X,W.inclusive,Z);return PersistencePromise.forEach($,M=>R.loadFirst(M,S.limit).next(S=>{S.forEach(S=>{let R=DocumentKey.fromSegments(S.documentKey);Q.has(R)||(Q=Q.add(R),N.push(R))})}))}).next(()=>N)}})}getSubTargets(Q){let S=this.targetToDnfSubTargets.get(Q);if(S)return S;if(0===Q.filters.length)S=[Q];else{let R=getDnfTerms(CompositeFilter.create(Q.filters,"and"));S=R.map(S=>newTarget(Q.path,Q.collectionGroup,Q.orderBy,S.getFilters(),Q.limit,Q.startAt,Q.endAt))}return this.targetToDnfSubTargets.set(Q,S),S}generateIndexRanges(Q,S,R,N,M,L,U){let P=(null!=S?S.length:1)*Math.max(R.length,M.length),Y=P/(null!=S?S.length:1),W=[];for(let K=0;K<P;++K){let P=S?this.encodeSingleElement(S[K/Y]):rI,X=this.generateLowerBound(Q,P,R[K%Y],N),Z=this.generateUpperBound(Q,P,M[K%Y],L),$=U.map(S=>this.generateLowerBound(Q,P,S,!0));W.push(...this.createRange(X,Z,$))}return W}generateLowerBound(Q,S,R,N){let M=new IndexEntry(Q,DocumentKey.empty(),S,R);return N?M:M.successor()}generateUpperBound(Q,S,R,N){let M=new IndexEntry(Q,DocumentKey.empty(),S,R);return N?M.successor():M}getFieldIndex(Q,S){let R=new TargetIndexMatcher(S),N=null!=S.collectionGroup?S.collectionGroup:S.path.lastSegment();return this.getFieldIndexes(Q,N).next(Q=>{let S=null;for(let N of Q){let Q=R.servedByIndex(N);Q&&(!S||N.fields.length>S.fields.length)&&(S=N)}return S})}getIndexType(Q,S){let R=2,N=this.getSubTargets(S);return PersistencePromise.forEach(N,S=>this.getFieldIndex(Q,S).next(Q=>{Q?0!==R&&Q.fields.length<targetGetSegmentCount(S)&&(R=1):R=0})).next(()=>targetHasLimit(S)&&N.length>1&&2===R?1:R)}encodeDirectionalElements(Q,S){let R=new IndexByteEncoder;for(let N of fieldIndexGetDirectionalSegments(Q)){let Q=S.data.field(N.fieldPath);if(null==Q)return null;let M=R.forKind(N.kind);FirestoreIndexValueWriter.INSTANCE.writeIndexValue(Q,M)}return R.encodedBytes()}encodeSingleElement(Q){let S=new IndexByteEncoder;return FirestoreIndexValueWriter.INSTANCE.writeIndexValue(Q,S.forKind(0)),S.encodedBytes()}encodeDirectionalKey(Q,S){let R=new IndexByteEncoder;return FirestoreIndexValueWriter.INSTANCE.writeIndexValue(refValue(this.databaseId,S),R.forKind(fieldIndexGetKeyOrder(Q))),R.encodedBytes()}encodeValues(Q,S,R){if(null===R)return[];let N=[];N.push(new IndexByteEncoder);let M=0;for(let L of fieldIndexGetDirectionalSegments(Q)){let Q=R[M++];for(let R of N)if(this.isInFilter(S,L.fieldPath)&&isArray(Q))N=this.expandIndexValues(N,L,Q);else{let S=R.forKind(L.kind);FirestoreIndexValueWriter.INSTANCE.writeIndexValue(Q,S)}}return this.getEncodedBytes(N)}encodeBound(Q,S,R){return this.encodeValues(Q,S,R.position)}getEncodedBytes(Q){let S=[];for(let R=0;R<Q.length;++R)S[R]=Q[R].encodedBytes();return S}expandIndexValues(Q,S,R){let N=[...Q],M=[];for(let Q of R.arrayValue.values||[])for(let R of N){let N=new IndexByteEncoder;N.seed(R.encodedBytes()),FirestoreIndexValueWriter.INSTANCE.writeIndexValue(Q,N.forKind(S.kind)),M.push(N)}return M}isInFilter(Q,S){return!!Q.filters.find(Q=>Q instanceof FieldFilter&&Q.field.isEqual(S)&&("in"===Q.op||"not-in"===Q.op))}getFieldIndexes(Q,S){let R=indexConfigurationStore(Q),N=indexStateStore(Q);return(S?R.loadAll(tA,IDBKeyRange.bound(S,S)):R.loadAll()).next(Q=>{let S=[];return PersistencePromise.forEach(Q,Q=>N.get([Q.indexId,this.uid]).next(R=>{S.push(fromDbIndexConfiguration(Q,R))})).next(()=>S)})}getNextCollectionGroupToUpdate(Q){return this.getFieldIndexes(Q).next(Q=>0===Q.length?null:(Q.sort((Q,S)=>{let R=Q.indexState.sequenceNumber-S.indexState.sequenceNumber;return 0!==R?R:primitiveComparator(Q.collectionGroup,S.collectionGroup)}),Q[0].collectionGroup))}updateCollectionGroup(Q,S,R){let N=indexConfigurationStore(Q),M=indexStateStore(Q);return this.getNextSequenceNumber(Q).next(Q=>N.loadAll(tA,IDBKeyRange.bound(S,S)).next(S=>PersistencePromise.forEach(S,S=>M.put(toDbIndexState(S.indexId,this.uid,Q,R)))))}updateIndexEntries(Q,S){let R=new Map;return PersistencePromise.forEach(S,(S,N)=>{let M=R.get(S.collectionGroup),L=M?PersistencePromise.resolve(M):this.getFieldIndexes(Q,S.collectionGroup);return L.next(M=>(R.set(S.collectionGroup,M),PersistencePromise.forEach(M,R=>this.getExistingIndexEntries(Q,S,R).next(S=>{let M=this.computeIndexEntries(N,R);return S.isEqual(M)?PersistencePromise.resolve():this.updateEntries(Q,N,R,S,M)}))))})}addIndexEntry(Q,S,R,N){let M=indexEntriesStore(Q);return M.put({indexId:N.indexId,uid:this.uid,arrayValue:N.arrayValue,directionalValue:N.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(R,S.key),documentKey:S.key.path.toArray()})}deleteIndexEntry(Q,S,R,N){let M=indexEntriesStore(Q);return M.delete([N.indexId,this.uid,N.arrayValue,N.directionalValue,this.encodeDirectionalKey(R,S.key),S.key.path.toArray()])}getExistingIndexEntries(Q,S,R){let N=indexEntriesStore(Q),M=new SortedSet(indexEntryComparator);return N.iterate({index:tf,range:IDBKeyRange.only([R.indexId,this.uid,this.encodeDirectionalKey(R,S)])},(Q,N)=>{M=M.add(new IndexEntry(R.indexId,S,N.arrayValue,N.directionalValue))}).next(()=>M)}computeIndexEntries(Q,S){let R=new SortedSet(indexEntryComparator),N=this.encodeDirectionalElements(S,Q);if(null==N)return R;let M=fieldIndexGetArraySegment(S);if(null!=M){let L=Q.data.field(M.fieldPath);if(isArray(L))for(let M of L.arrayValue.values||[])R=R.add(new IndexEntry(S.indexId,Q.key,this.encodeSingleElement(M),N))}else R=R.add(new IndexEntry(S.indexId,Q.key,rI,N));return R}updateEntries(Q,S,R,N,M){logDebug(rC,"Updating index entries for document '%s'",S.key);let L=[];return diffSortedSets(N,M,indexEntryComparator,N=>{L.push(this.addIndexEntry(Q,S,R,N))},N=>{L.push(this.deleteIndexEntry(Q,S,R,N))}),PersistencePromise.waitFor(L)}getNextSequenceNumber(Q){let S=1,R=indexStateStore(Q);return R.iterate({index:th,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(Q,R,N)=>{N.done(),S=R.sequenceNumber+1}).next(()=>S)}createRange(Q,S,R){R=R.sort((Q,S)=>indexEntryComparator(Q,S)).filter((Q,S,R)=>!S||0!==indexEntryComparator(Q,R[S-1]));let N=[];for(let M of(N.push(Q),R)){let R=indexEntryComparator(M,Q),L=indexEntryComparator(M,S);if(0===R)N[0]=Q.successor();else if(R>0&&L<0)N.push(M),N.push(M.successor());else if(L>0)break}N.push(S);let M=[];for(let Q=0;Q<N.length;Q+=2){if(this.isRangeMatchable(N[Q],N[Q+1]))return[];let S=[N[Q].indexId,this.uid,N[Q].arrayValue,N[Q].directionalValue,rI,[]],R=[N[Q+1].indexId,this.uid,N[Q+1].arrayValue,N[Q+1].directionalValue,rI,[]];M.push(IDBKeyRange.bound(S,R))}return M}isRangeMatchable(Q,S){return indexEntryComparator(Q,S)>0}getMinOffsetFromCollectionGroup(Q,S){return this.getFieldIndexes(Q,S).next(getMinOffsetFromFieldIndexes)}getMinOffset(Q,S){return PersistencePromise.mapArray(this.getSubTargets(S),S=>this.getFieldIndex(Q,S).next(Q=>Q||fail())).next(getMinOffsetFromFieldIndexes)}};function collectionParentsStore(Q){return getStore(Q,e8)}function indexEntriesStore(Q){return getStore(Q,tg)}function indexConfigurationStore(Q){return getStore(Q,ts)}function indexStateStore(Q){return getStore(Q,tc)}function getMinOffsetFromFieldIndexes(Q){hardAssert(0!==Q.length);let S=Q[0].indexState.offset,R=S.largestBatchId;for(let N=1;N<Q.length;N++){let M=Q[N].indexState.offset;0>indexOffsetComparator(M,S)&&(S=M),R<M.largestBatchId&&(R=M.largestBatchId)}return new IndexOffset(S.readTime,S.documentKey,R)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function removeMutationBatch(Q,S,R){let N=Q.store(eL),M=Q.store(eP),L=[],U=IDBKeyRange.only(R.batchId),P=0,Y=N.iterate({range:U},(Q,S,R)=>(P++,R.delete()));L.push(Y.next(()=>{hardAssert(1===P)}));let W=[];for(let Q of R.mutations){let N=newDbDocumentMutationKey(S,Q.key.path,R.batchId);L.push(M.delete(N)),W.push(Q.key)}return PersistencePromise.waitFor(L).next(()=>W)}function dbDocumentSize(Q){let S;if(!Q)return 0;if(Q.document)S=Q.document;else if(Q.unknownDocument)S=Q.unknownDocument;else if(Q.noDocument)S=Q.noDocument;else throw fail();return JSON.stringify(S).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbMutationQueue=class IndexedDbMutationQueue{constructor(Q,S,R,N){this.userId=Q,this.serializer=S,this.indexManager=R,this.referenceDelegate=N,this.documentKeysByBatchId={}}static forUser(Q,S,R,N){hardAssert(""!==Q.uid);let M=Q.isAuthenticated()?Q.uid:"";return new IndexedDbMutationQueue(M,S,R,N)}checkEmpty(Q){let S=!0,R=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mutationsStore(Q).iterate({index:e_,range:R},(Q,R,N)=>{S=!1,N.done()}).next(()=>S)}addMutationBatch(Q,S,R,N){let M=documentMutationsStore(Q),L=mutationsStore(Q);return L.add({}).next(U=>{hardAssert("number"==typeof U);let P=new MutationBatch(U,S,R,N),Y=toDbMutationBatch(this.serializer,this.userId,P),W=[],K=new SortedSet((Q,S)=>primitiveComparator(Q.canonicalString(),S.canonicalString()));for(let Q of N){let S=newDbDocumentMutationKey(this.userId,Q.key.path,U);K=K.add(Q.key.path.popLast()),W.push(L.put(Y)),W.push(M.put(S,eO))}return K.forEach(S=>{W.push(this.indexManager.addToCollectionParentIndex(Q,S))}),Q.addOnCommittedListener(()=>{this.documentKeysByBatchId[U]=P.keys()}),PersistencePromise.waitFor(W).next(()=>P)})}lookupMutationBatch(Q,S){return mutationsStore(Q).get(S).next(Q=>Q?(hardAssert(Q.userId===this.userId),fromDbMutationBatch(this.serializer,Q)):null)}lookupMutationKeys(Q,S){return this.documentKeysByBatchId[S]?PersistencePromise.resolve(this.documentKeysByBatchId[S]):this.lookupMutationBatch(Q,S).next(Q=>{if(!Q)return null;{let R=Q.keys();return this.documentKeysByBatchId[S]=R,R}})}getNextMutationBatchAfterBatchId(Q,S){let R=S+1,N=IDBKeyRange.lowerBound([this.userId,R]),M=null;return mutationsStore(Q).iterate({index:e_,range:N},(Q,S,N)=>{S.userId===this.userId&&(hardAssert(S.batchId>=R),M=fromDbMutationBatch(this.serializer,S)),N.done()}).next(()=>M)}getHighestUnacknowledgedBatchId(Q){let S=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),R=tG;return mutationsStore(Q).iterate({index:e_,range:S,reverse:!0},(Q,S,N)=>{R=S.batchId,N.done()}).next(()=>R)}getAllMutationBatches(Q){let S=IDBKeyRange.bound([this.userId,tG],[this.userId,Number.POSITIVE_INFINITY]);return mutationsStore(Q).loadAll(e_,S).next(Q=>Q.map(Q=>fromDbMutationBatch(this.serializer,Q)))}getAllMutationBatchesAffectingDocumentKey(Q,S){let R=newDbDocumentMutationPrefixForPath(this.userId,S.path),N=IDBKeyRange.lowerBound(R),M=[];return documentMutationsStore(Q).iterate({range:N},(R,N,L)=>{let[U,P,Y]=R,W=decodeResourcePath(P);if(U!==this.userId||!S.path.isEqual(W)){L.done();return}return mutationsStore(Q).get(Y).next(Q=>{if(!Q)throw fail();hardAssert(Q.userId===this.userId),M.push(fromDbMutationBatch(this.serializer,Q))})}).next(()=>M)}getAllMutationBatchesAffectingDocumentKeys(Q,S){let R=new SortedSet(primitiveComparator),N=[];return S.forEach(S=>{let M=newDbDocumentMutationPrefixForPath(this.userId,S.path),L=IDBKeyRange.lowerBound(M),U=documentMutationsStore(Q).iterate({range:L},(Q,N,M)=>{let[L,U,P]=Q,Y=decodeResourcePath(U);if(L!==this.userId||!S.path.isEqual(Y)){M.done();return}R=R.add(P)});N.push(U)}),PersistencePromise.waitFor(N).next(()=>this.lookupMutationBatches(Q,R))}getAllMutationBatchesAffectingQuery(Q,S){let R=S.path,N=R.length+1,M=newDbDocumentMutationPrefixForPath(this.userId,R),L=IDBKeyRange.lowerBound(M),U=new SortedSet(primitiveComparator);return documentMutationsStore(Q).iterate({range:L},(Q,S,M)=>{let[L,P,Y]=Q,W=decodeResourcePath(P);if(L!==this.userId||!R.isPrefixOf(W)){M.done();return}W.length===N&&(U=U.add(Y))}).next(()=>this.lookupMutationBatches(Q,U))}lookupMutationBatches(Q,S){let R=[],N=[];return S.forEach(S=>{N.push(mutationsStore(Q).get(S).next(Q=>{if(null===Q)throw fail();hardAssert(Q.userId===this.userId),R.push(fromDbMutationBatch(this.serializer,Q))}))}),PersistencePromise.waitFor(N).next(()=>R)}removeMutationBatch(Q,S){return removeMutationBatch(Q.simpleDbTransaction,this.userId,S).next(R=>(Q.addOnCommittedListener(()=>{this.removeCachedMutationKeys(S.batchId)}),PersistencePromise.forEach(R,S=>this.referenceDelegate.markPotentiallyOrphaned(Q,S))))}removeCachedMutationKeys(Q){delete this.documentKeysByBatchId[Q]}performConsistencyCheck(Q){return this.checkEmpty(Q).next(S=>{if(!S)return PersistencePromise.resolve();let R=IDBKeyRange.lowerBound(newDbDocumentMutationPrefixForUser(this.userId)),N=[];return documentMutationsStore(Q).iterate({range:R},(Q,S,R)=>{let M=Q[0];if(M!==this.userId){R.done();return}{let S=decodeResourcePath(Q[1]);N.push(S)}}).next(()=>{hardAssert(0===N.length)})})}containsKey(Q,S){return mutationQueueContainsKey(Q,this.userId,S)}getMutationQueueMetadata(Q){return mutationQueuesStore(Q).get(this.userId).next(Q=>Q||{userId:this.userId,lastAcknowledgedBatchId:tG,lastStreamToken:""})}};function mutationQueueContainsKey(Q,S,R){let N=newDbDocumentMutationPrefixForPath(S,R.path),M=N[1],L=IDBKeyRange.lowerBound(N),U=!1;return documentMutationsStore(Q).iterate({range:L,keysOnly:!0},(Q,R,N)=>{let[L,P,Y]=Q;L===S&&P===M&&(U=!0),N.done()}).next(()=>U)}function mutationQueuesContainKey(Q,S){let R=!1;return mutationQueuesStore(Q).iterateSerial(N=>mutationQueueContainsKey(Q,N,S).next(Q=>(Q&&(R=!0),PersistencePromise.resolve(!Q)))).next(()=>R)}function mutationsStore(Q){return getStore(Q,eL)}function documentMutationsStore(Q){return getStore(Q,eP)}function mutationQueuesStore(Q){return getStore(Q,eF)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rB=2;let TargetIdGenerator=class TargetIdGenerator{constructor(Q){this.lastId=Q}next(){return this.lastId+=rB,this.lastId}static forTargetCache(){return new TargetIdGenerator(2-rB)}static forSyncEngine(){return new TargetIdGenerator(1-rB)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbTargetCache=class IndexedDbTargetCache{constructor(Q,S){this.referenceDelegate=Q,this.serializer=S}allocateTargetId(Q){return this.retrieveMetadata(Q).next(S=>{let R=new TargetIdGenerator(S.highestTargetId);return S.highestTargetId=R.next(),this.saveMetadata(Q,S).next(()=>S.highestTargetId)})}getLastRemoteSnapshotVersion(Q){return this.retrieveMetadata(Q).next(Q=>SnapshotVersion.fromTimestamp(new Timestamp(Q.lastRemoteSnapshotVersion.seconds,Q.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(Q){return this.retrieveMetadata(Q).next(Q=>Q.highestListenSequenceNumber)}setTargetsMetadata(Q,S,R){return this.retrieveMetadata(Q).next(N=>(N.highestListenSequenceNumber=S,R&&(N.lastRemoteSnapshotVersion=R.toTimestamp()),S>N.highestListenSequenceNumber&&(N.highestListenSequenceNumber=S),this.saveMetadata(Q,N)))}addTargetData(Q,S){return this.saveTargetData(Q,S).next(()=>this.retrieveMetadata(Q).next(R=>(R.targetCount+=1,this.updateMetadataFromTargetData(S,R),this.saveMetadata(Q,R))))}updateTargetData(Q,S){return this.saveTargetData(Q,S)}removeTargetData(Q,S){return this.removeMatchingKeysForTargetId(Q,S.targetId).next(()=>targetsStore(Q).delete(S.targetId)).next(()=>this.retrieveMetadata(Q)).next(S=>(hardAssert(S.targetCount>0),S.targetCount-=1,this.saveMetadata(Q,S)))}removeTargets(Q,S,R){let N=0,M=[];return targetsStore(Q).iterate((L,U)=>{let P=fromDbTarget(U);P.sequenceNumber<=S&&null===R.get(P.targetId)&&(N++,M.push(this.removeTargetData(Q,P)))}).next(()=>PersistencePromise.waitFor(M)).next(()=>N)}forEachTarget(Q,S){return targetsStore(Q).iterate((Q,R)=>{let N=fromDbTarget(R);S(N)})}retrieveMetadata(Q){return globalTargetStore(Q).get(e9).next(Q=>(hardAssert(null!==Q),Q))}saveMetadata(Q,S){return globalTargetStore(Q).put(e9,S)}saveTargetData(Q,S){return targetsStore(Q).put(toDbTarget(this.serializer,S))}updateMetadataFromTargetData(Q,S){let R=!1;return Q.targetId>S.highestTargetId&&(S.highestTargetId=Q.targetId,R=!0),Q.sequenceNumber>S.highestListenSequenceNumber&&(S.highestListenSequenceNumber=Q.sequenceNumber,R=!0),R}getTargetCount(Q){return this.retrieveMetadata(Q).next(Q=>Q.targetCount)}getTargetData(Q,S){let R=canonifyTarget(S),N=IDBKeyRange.bound([R,Number.NEGATIVE_INFINITY],[R,Number.POSITIVE_INFINITY]),M=null;return targetsStore(Q).iterate({range:N,index:eZ},(Q,R,N)=>{let L=fromDbTarget(R);targetEquals(S,L.target)&&(M=L,N.done())}).next(()=>M)}addMatchingKeys(Q,S,R){let N=[],M=documentTargetStore(Q);return S.forEach(S=>{let L=encodeResourcePath(S.path);N.push(M.put({targetId:R,path:L})),N.push(this.referenceDelegate.addReference(Q,R,S))}),PersistencePromise.waitFor(N)}removeMatchingKeys(Q,S,R){let N=documentTargetStore(Q);return PersistencePromise.forEach(S,S=>{let M=encodeResourcePath(S.path);return PersistencePromise.waitFor([N.delete([R,M]),this.referenceDelegate.removeReference(Q,R,S)])})}removeMatchingKeysForTargetId(Q,S){let R=documentTargetStore(Q),N=IDBKeyRange.bound([S],[S+1],!1,!0);return R.delete(N)}getMatchingKeysForTargetId(Q,S){let R=IDBKeyRange.bound([S],[S+1],!1,!0),N=documentTargetStore(Q),M=documentKeySet();return N.iterate({range:R,keysOnly:!0},(Q,S,R)=>{let N=decodeResourcePath(Q[1]),L=new DocumentKey(N);M=M.add(L)}).next(()=>M)}containsKey(Q,S){let R=encodeResourcePath(S.path),N=IDBKeyRange.bound([R],[immediateSuccessor(R)],!1,!0),M=0;return documentTargetStore(Q).iterate({index:e2,keysOnly:!0,range:N},([Q,S],R,N)=>{0!==Q&&(M++,N.done())}).next(()=>M>0)}getTargetDataForTarget(Q,S){return targetsStore(Q).get(S).next(Q=>Q?fromDbTarget(Q):null)}};function targetsStore(Q){return getStore(Q,eK)}function globalTargetStore(Q){return getStore(Q,e3)}function documentTargetStore(Q){return getStore(Q,e0)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rQ=-1,rS=41943040;let LruParams=class LruParams{constructor(Q,S,R){this.cacheSizeCollectionThreshold=Q,this.percentileToCollect=S,this.maximumSequenceNumbersToCollect=R}static withCacheSize(Q){return new LruParams(Q,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(rS,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(rQ,0,0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rb="LruGarbageCollector",rw=1048576,rv=null,rD=null;function bufferEntryComparator([Q,S],[R,N]){let M=primitiveComparator(Q,R);return 0===M?primitiveComparator(S,N):M}let RollingSequenceNumberBuffer=class RollingSequenceNumberBuffer{constructor(Q){this.maxElements=Q,this.buffer=new SortedSet(bufferEntryComparator),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(Q){let S=[Q,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(S);else{let Q=this.buffer.last();0>bufferEntryComparator(S,Q)&&(this.buffer=this.buffer.delete(Q).add(S))}}get maxValue(){return this.buffer.last()[0]}};let LruScheduler=class LruScheduler{constructor(Q,S,R){this.garbageCollector=Q,this.asyncQueue=S,this.localStore=R,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==rQ&&this.scheduleGC(rv)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(Q){logDebug(rb,`Garbage collection scheduled in ${Q}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",Q,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(Q){isIndexedDbTransactionError(Q)?logDebug(rb,"Ignoring IndexedDB error during garbage collection: ",Q):await ignoreIfPrimaryLeaseLoss(Q)}await this.scheduleGC(rD)})}};let LruGarbageCollectorImpl=class LruGarbageCollectorImpl{constructor(Q,S){this.delegate=Q,this.params=S}calculateTargetCount(Q,S){return this.delegate.getSequenceNumberCount(Q).next(Q=>Math.floor(S/100*Q))}nthSequenceNumber(Q,S){if(0===S)return PersistencePromise.resolve(ListenSequence.INVALID);let R=new RollingSequenceNumberBuffer(S);return this.delegate.forEachTarget(Q,Q=>R.addElement(Q.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(Q,Q=>R.addElement(Q))).next(()=>R.maxValue)}removeTargets(Q,S,R){return this.delegate.removeTargets(Q,S,R)}removeOrphanedDocuments(Q,S){return this.delegate.removeOrphanedDocuments(Q,S)}collect(Q,S){return this.params.cacheSizeCollectionThreshold===rQ?(logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(ry)):this.getCacheSize(Q).next(R=>R<this.params.cacheSizeCollectionThreshold?(logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${R} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ry):this.runGarbageCollection(Q,S))}getCacheSize(Q){return this.delegate.getCacheSize(Q)}runGarbageCollection(Q,S){let R,N,M,L,U,P,Y;let W=Date.now();return this.calculateTargetCount(Q,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),N=this.params.maximumSequenceNumbersToCollect):N=S,L=Date.now(),this.nthSequenceNumber(Q,N))).next(N=>(R=N,U=Date.now(),this.removeTargets(Q,R,S))).next(S=>(M=S,P=Date.now(),this.removeOrphanedDocuments(Q,R))).next(Q=>{if(Y=Date.now(),getLogLevel()<=LogLevel.DEBUG){let S=`LRU Garbage Collection
	Counted targets in ${L-W}ms
	Determined least recently used ${N} in ${U-L}ms
	Removed ${M} targets in ${P-U}ms
	Removed ${Q} documents in ${Y-P}ms
Total Duration: ${Y-W}ms`;logDebug("LruGarbageCollector",S)}return PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:N,targetsRemoved:M,documentsRemoved:Q})})}};function newLruGarbageCollector(Q,S){return new LruGarbageCollectorImpl(Q,S)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbLruDelegateImpl=class IndexedDbLruDelegateImpl{constructor(Q,S){this.db=Q,this.garbageCollector=newLruGarbageCollector(this,S)}getSequenceNumberCount(Q){let S=this.orphanedDocumentCount(Q),R=this.db.getTargetCache().getTargetCount(Q);return R.next(Q=>S.next(S=>Q+S))}orphanedDocumentCount(Q){let S=0;return this.forEachOrphanedDocumentSequenceNumber(Q,Q=>{S++}).next(()=>S)}forEachTarget(Q,S){return this.db.getTargetCache().forEachTarget(Q,S)}forEachOrphanedDocumentSequenceNumber(Q,S){return this.forEachOrphanedDocument(Q,(Q,R)=>S(R))}addReference(Q,S,R){return writeSentinelKey(Q,R)}removeReference(Q,S,R){return writeSentinelKey(Q,R)}removeTargets(Q,S,R){return this.db.getTargetCache().removeTargets(Q,S,R)}markPotentiallyOrphaned(Q,S){return writeSentinelKey(Q,S)}isPinned(Q,S){return mutationQueuesContainKey(Q,S)}removeOrphanedDocuments(Q,S){let R=this.db.getRemoteDocumentCache(),N=R.newChangeBuffer(),M=[],L=0,U=this.forEachOrphanedDocument(Q,(R,U)=>{if(U<=S){let S=this.isPinned(Q,R).next(S=>{if(!S)return L++,N.getEntry(Q,R).next(()=>(N.removeEntry(R,SnapshotVersion.min()),documentTargetStore(Q).delete(sentinelKey$1(R))))});M.push(S)}});return U.next(()=>PersistencePromise.waitFor(M)).next(()=>N.apply(Q)).next(()=>L)}removeTarget(Q,S){let R=S.withSequenceNumber(Q.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(Q,R)}updateLimboDocument(Q,S){return writeSentinelKey(Q,S)}forEachOrphanedDocument(Q,S){let R;let N=documentTargetStore(Q),M=ListenSequence.INVALID;return N.iterate({index:e2},([Q,N],{path:L,sequenceNumber:U})=>{0===Q?(M!==ListenSequence.INVALID&&S(new DocumentKey(decodeResourcePath(R)),M),M=U,R=L):M=ListenSequence.INVALID}).next(()=>{M!==ListenSequence.INVALID&&S(new DocumentKey(decodeResourcePath(R)),M)})}getCacheSize(Q){return this.db.getRemoteDocumentCache().getSize(Q)}};function sentinelKey$1(Q){return[0,encodeResourcePath(Q.path)]}function sentinelRow(Q,S){return{targetId:0,path:encodeResourcePath(Q.path),sequenceNumber:S}}function writeSentinelKey(Q,S){return documentTargetStore(Q).put(sentinelRow(S,Q.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RemoteDocumentChangeBuffer=class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(Q=>Q.toString(),(Q,S)=>Q.isEqual(S)),this.changesApplied=!1}addEntry(Q){this.assertNotApplied(),this.changes.set(Q.key,Q)}removeEntry(Q,S){this.assertNotApplied(),this.changes.set(Q,MutableDocument.newInvalidDocument(Q).setReadTime(S))}getEntry(Q,S){this.assertNotApplied();let R=this.changes.get(S);return void 0!==R?PersistencePromise.resolve(R):this.getFromCache(Q,S)}getEntries(Q,S){return this.getAllFromCache(Q,S)}apply(Q){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(Q)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbRemoteDocumentCacheImpl=class IndexedDbRemoteDocumentCacheImpl{constructor(Q){this.serializer=Q}setIndexManager(Q){this.indexManager=Q}addEntry(Q,S,R){let N=remoteDocumentsStore(Q);return N.put(R)}removeEntry(Q,S,R){let N=remoteDocumentsStore(Q);return N.delete(dbReadTimeKey(S,R))}updateMetadata(Q,S){return this.getMetadata(Q).next(R=>(R.byteSize+=S,this.setMetadata(Q,R)))}getEntry(Q,S){let R=MutableDocument.newInvalidDocument(S);return remoteDocumentsStore(Q).iterate({index:eH,range:IDBKeyRange.only(dbKey(S))},(Q,N)=>{R=this.maybeDecodeDocument(S,N)}).next(()=>R)}getSizedEntry(Q,S){let R={size:0,document:MutableDocument.newInvalidDocument(S)};return remoteDocumentsStore(Q).iterate({index:eH,range:IDBKeyRange.only(dbKey(S))},(Q,N)=>{R={document:this.maybeDecodeDocument(S,N),size:dbDocumentSize(N)}}).next(()=>R)}getEntries(Q,S){let R=mutableDocumentMap();return this.forEachDbEntry(Q,S,(Q,S)=>{let N=this.maybeDecodeDocument(Q,S);R=R.insert(Q,N)}).next(()=>R)}getSizedEntries(Q,S){let R=mutableDocumentMap(),N=new SortedMap(DocumentKey.comparator);return this.forEachDbEntry(Q,S,(Q,S)=>{let M=this.maybeDecodeDocument(Q,S);R=R.insert(Q,M),N=N.insert(Q,dbDocumentSize(S))}).next(()=>({documents:R,sizeMap:N}))}forEachDbEntry(Q,S,R){if(S.isEmpty())return PersistencePromise.resolve();let N=new SortedSet(dbKeyComparator);S.forEach(Q=>N=N.add(Q));let M=IDBKeyRange.bound(dbKey(N.first()),dbKey(N.last())),L=N.getIterator(),U=L.getNext();return remoteDocumentsStore(Q).iterate({index:eH,range:M},(Q,S,N)=>{let M=DocumentKey.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;U&&0>dbKeyComparator(U,M);)R(U,null),U=L.getNext();U&&U.isEqual(M)&&(R(U,S),U=L.hasNext()?L.getNext():null),U?N.skip(dbKey(U)):N.done()}).next(()=>{for(;U;)R(U,null),U=L.hasNext()?L.getNext():null})}getDocumentsMatchingQuery(Q,S,R,N,M){let L=S.path,U=[L.popLast().toArray(),L.lastSegment(),toDbTimestampKey(R.readTime),R.documentKey.path.isEmpty()?"":R.documentKey.path.lastSegment()],P=[L.popLast().toArray(),L.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return remoteDocumentsStore(Q).loadAll(IDBKeyRange.bound(U,P,!0)).next(Q=>{null==M||M.incrementDocumentReadCount(Q.length);let R=mutableDocumentMap();for(let M of Q){let Q=this.maybeDecodeDocument(DocumentKey.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);Q.isFoundDocument()&&(queryMatches(S,Q)||N.has(Q.key))&&(R=R.insert(Q.key,Q))}return R})}getAllFromCollectionGroup(Q,S,R,N){let M=mutableDocumentMap(),L=dbCollectionGroupKey(S,R),U=dbCollectionGroupKey(S,IndexOffset.max());return remoteDocumentsStore(Q).iterate({index:eJ,range:IDBKeyRange.bound(L,U,!0)},(Q,S,R)=>{let L=this.maybeDecodeDocument(DocumentKey.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);(M=M.insert(L.key,L)).size===N&&R.done()}).next(()=>M)}newChangeBuffer(Q){return new IndexedDbRemoteDocumentChangeBuffer(this,!!Q&&Q.trackRemovals)}getSize(Q){return this.getMetadata(Q).next(Q=>Q.byteSize)}getMetadata(Q){return documentGlobalStore(Q).get(ez).next(Q=>(hardAssert(!!Q),Q))}setMetadata(Q,S){return documentGlobalStore(Q).put(ez,S)}maybeDecodeDocument(Q,S){if(S){let Q=fromDbRemoteDocument(this.serializer,S),R=Q.isNoDocument()&&Q.version.isEqual(SnapshotVersion.min());if(!R)return Q}return MutableDocument.newInvalidDocument(Q)}};function newIndexedDbRemoteDocumentCache(Q){return new IndexedDbRemoteDocumentCacheImpl(Q)}let IndexedDbRemoteDocumentChangeBuffer=class IndexedDbRemoteDocumentChangeBuffer extends null{constructor(Q,S){super(),this.documentCache=Q,this.trackRemovals=S,this.documentStates=new ObjectMap(Q=>Q.toString(),(Q,S)=>Q.isEqual(S))}applyChanges(Q){let S=[],R=0,N=new SortedSet((Q,S)=>primitiveComparator(Q.canonicalString(),S.canonicalString()));return this.changes.forEach((M,L)=>{let U=this.documentStates.get(M);if(S.push(this.documentCache.removeEntry(Q,M,U.readTime)),L.isValidDocument()){let P=toDbRemoteDocument(this.documentCache.serializer,L);N=N.add(M.path.popLast());let Y=dbDocumentSize(P);R+=Y-U.size,S.push(this.documentCache.addEntry(Q,M,P))}else if(R-=U.size,this.trackRemovals){let R=toDbRemoteDocument(this.documentCache.serializer,L.convertToNoDocument(SnapshotVersion.min()));S.push(this.documentCache.addEntry(Q,M,R))}}),N.forEach(R=>{S.push(this.documentCache.indexManager.addToCollectionParentIndex(Q,R))}),S.push(this.documentCache.updateMetadata(Q,R)),PersistencePromise.waitFor(S)}getFromCache(Q,S){return this.documentCache.getSizedEntry(Q,S).next(Q=>(this.documentStates.set(S,{size:Q.size,readTime:Q.document.readTime}),Q.document))}getAllFromCache(Q,S){return this.documentCache.getSizedEntries(Q,S).next(({documents:Q,sizeMap:S})=>(S.forEach((S,R)=>{this.documentStates.set(S,{size:R,readTime:Q.get(S).readTime})}),Q))}};function documentGlobalStore(Q){return getStore(Q,ej)}function remoteDocumentsStore(Q){return getStore(Q,eV)}function dbKey(Q){let S=Q.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],S[S.length-1]]}function dbReadTimeKey(Q,S){let R=Q.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],toDbTimestampKey(S),R[R.length-1]]}function dbCollectionGroupKey(Q,S){let R=S.documentKey.path.toArray();return[Q,toDbTimestampKey(S.readTime),R.slice(0,R.length-2),R.length>0?R[R.length-1]:""]}function dbKeyComparator(Q,S){let R=Q.path.toArray(),N=S.path.toArray(),M=0;for(let Q=0;Q<R.length-2&&Q<N.length-2;++Q)if(M=primitiveComparator(R[Q],N[Q]))return M;return(M=primitiveComparator(R.length,N.length))||(M=primitiveComparator(R[R.length-2],N[N.length-2]))?M:primitiveComparator(R[R.length-1],N[N.length-1])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rR=16;/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OverlayedDocument=class OverlayedDocument{constructor(Q,S){this.overlayedDocument=Q,this.mutatedFields=S}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LocalDocumentsView=class LocalDocumentsView{constructor(Q,S,R,N){this.remoteDocumentCache=Q,this.mutationQueue=S,this.documentOverlayCache=R,this.indexManager=N}getDocument(Q,S){let R=null;return this.documentOverlayCache.getOverlay(Q,S).next(N=>(R=N,this.remoteDocumentCache.getEntry(Q,S))).next(Q=>(null!==R&&mutationApplyToLocalView(R.mutation,Q,FieldMask.empty(),Timestamp.now()),Q))}getDocuments(Q,S){return this.remoteDocumentCache.getEntries(Q,S).next(S=>this.getLocalViewOfDocuments(Q,S,documentKeySet()).next(()=>S))}getLocalViewOfDocuments(Q,S,R=documentKeySet()){let N=newOverlayMap();return this.populateOverlays(Q,N,S).next(()=>this.computeViews(Q,S,N,R).next(Q=>{let S=documentMap();return Q.forEach((Q,R)=>{S=S.insert(Q,R.overlayedDocument)}),S}))}getOverlayedDocuments(Q,S){let R=newOverlayMap();return this.populateOverlays(Q,R,S).next(()=>this.computeViews(Q,S,R,documentKeySet()))}populateOverlays(Q,S,R){let N=[];return R.forEach(Q=>{S.has(Q)||N.push(Q)}),this.documentOverlayCache.getOverlays(Q,N).next(Q=>{Q.forEach((Q,R)=>{S.set(Q,R)})})}computeViews(Q,S,R,N){let M=mutableDocumentMap(),L=newDocumentKeyMap(),U=newOverlayedDocumentMap();return S.forEach((Q,S)=>{let U=R.get(S.key);N.has(S.key)&&(void 0===U||U.mutation instanceof PatchMutation)?M=M.insert(S.key,S):void 0!==U?(L.set(S.key,U.mutation.getFieldMask()),mutationApplyToLocalView(U.mutation,S,U.mutation.getFieldMask(),Timestamp.now())):L.set(S.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(Q,M).next(Q=>(Q.forEach((Q,S)=>L.set(Q,S)),S.forEach((Q,S)=>{var R;return U.set(Q,new OverlayedDocument(S,null!==(R=L.get(Q))&&void 0!==R?R:null))}),U))}recalculateAndSaveOverlays(Q,S){let R=newDocumentKeyMap(),N=new SortedMap((Q,S)=>Q-S),M=documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(Q,S).next(Q=>{for(let M of Q)M.keys().forEach(Q=>{let L=S.get(Q);if(null===L)return;let U=R.get(Q)||FieldMask.empty();U=M.applyToLocalView(L,U),R.set(Q,U);let P=(N.get(M.batchId)||documentKeySet()).add(Q);N=N.insert(M.batchId,P)})}).next(()=>{let L=[],U=N.getReverseIterator();for(;U.hasNext();){let N=U.getNext(),P=N.key,Y=N.value,W=newMutationMap();Y.forEach(Q=>{if(!M.has(Q)){let N=calculateOverlayMutation(S.get(Q),R.get(Q));null!==N&&W.set(Q,N),M=M.add(Q)}}),L.push(this.documentOverlayCache.saveOverlays(Q,P,W))}return PersistencePromise.waitFor(L)}).next(()=>R)}recalculateAndSaveOverlaysForDocumentKeys(Q,S){return this.remoteDocumentCache.getEntries(Q,S).next(S=>this.recalculateAndSaveOverlays(Q,S))}getDocumentsMatchingQuery(Q,S,R,N){return isDocumentQuery$1(S)?this.getDocumentsMatchingDocumentQuery(Q,S.path):isCollectionGroupQuery(S)?this.getDocumentsMatchingCollectionGroupQuery(Q,S,R,N):this.getDocumentsMatchingCollectionQuery(Q,S,R,N)}getNextDocuments(Q,S,R,N){return this.remoteDocumentCache.getAllFromCollectionGroup(Q,S,R,N).next(M=>{let L=N-M.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(Q,S,R.largestBatchId,N-M.size):PersistencePromise.resolve(newOverlayMap()),U=ep,P=M;return L.next(S=>PersistencePromise.forEach(S,(S,R)=>(U<R.largestBatchId&&(U=R.largestBatchId),M.get(S))?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(Q,S).next(Q=>{P=P.insert(S,Q)})).next(()=>this.populateOverlays(Q,S,M)).next(()=>this.computeViews(Q,P,S,documentKeySet())).next(Q=>({batchId:U,changes:convertOverlayedDocumentMapToDocumentMap(Q)})))})}getDocumentsMatchingDocumentQuery(Q,S){return this.getDocument(Q,new DocumentKey(S)).next(Q=>{let S=documentMap();return Q.isFoundDocument()&&(S=S.insert(Q.key,Q)),S})}getDocumentsMatchingCollectionGroupQuery(Q,S,R,N){let M=S.collectionGroup,L=documentMap();return this.indexManager.getCollectionParents(Q,M).next(U=>PersistencePromise.forEach(U,U=>{let P=asCollectionQueryAtPath(S,U.child(M));return this.getDocumentsMatchingCollectionQuery(Q,P,R,N).next(Q=>{Q.forEach((Q,S)=>{L=L.insert(Q,S)})})}).next(()=>L))}getDocumentsMatchingCollectionQuery(Q,S,R,N){let M;return this.documentOverlayCache.getOverlaysForCollection(Q,S.path,R.largestBatchId).next(L=>(M=L,this.remoteDocumentCache.getDocumentsMatchingQuery(Q,S,R,M,N))).next(Q=>{M.forEach((S,R)=>{let N=R.getKey();null===Q.get(N)&&(Q=Q.insert(N,MutableDocument.newInvalidDocument(N)))});let R=documentMap();return Q.forEach((Q,N)=>{let L=M.get(Q);void 0!==L&&mutationApplyToLocalView(L.mutation,N,FieldMask.empty(),Timestamp.now()),queryMatches(S,N)&&(R=R.insert(Q,N))}),R})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryBundleCache=class MemoryBundleCache{constructor(Q){this.serializer=Q,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(Q,S){return PersistencePromise.resolve(this.bundles.get(S))}saveBundleMetadata(Q,S){return this.bundles.set(S.id,fromBundleMetadata(S)),PersistencePromise.resolve()}getNamedQuery(Q,S){return PersistencePromise.resolve(this.namedQueries.get(S))}saveNamedQuery(Q,S){return this.namedQueries.set(S.name,fromProtoNamedQuery(S)),PersistencePromise.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryDocumentOverlayCache=class MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.overlayByBatchId=new Map}getOverlay(Q,S){return PersistencePromise.resolve(this.overlays.get(S))}getOverlays(Q,S){let R=newOverlayMap();return PersistencePromise.forEach(S,S=>this.getOverlay(Q,S).next(Q=>{null!==Q&&R.set(S,Q)})).next(()=>R)}saveOverlays(Q,S,R){return R.forEach((R,N)=>{this.saveOverlay(Q,S,N)}),PersistencePromise.resolve()}removeOverlaysForBatchId(Q,S,R){let N=this.overlayByBatchId.get(R);return void 0!==N&&(N.forEach(Q=>this.overlays=this.overlays.remove(Q)),this.overlayByBatchId.delete(R)),PersistencePromise.resolve()}getOverlaysForCollection(Q,S,R){let N=newOverlayMap(),M=S.length+1,L=new DocumentKey(S.child("")),U=this.overlays.getIteratorFrom(L);for(;U.hasNext();){let Q=U.getNext(),L=Q.value,P=L.getKey();if(!S.isPrefixOf(P.path))break;P.path.length===M&&L.largestBatchId>R&&N.set(L.getKey(),L)}return PersistencePromise.resolve(N)}getOverlaysForCollectionGroup(Q,S,R,N){let M=new SortedMap((Q,S)=>Q-S),L=this.overlays.getIterator();for(;L.hasNext();){let Q=L.getNext(),N=Q.value,U=N.getKey();if(U.getCollectionGroup()===S&&N.largestBatchId>R){let Q=M.get(N.largestBatchId);null===Q&&(Q=newOverlayMap(),M=M.insert(N.largestBatchId,Q)),Q.set(N.getKey(),N)}}let U=newOverlayMap(),P=M.getIterator();for(;P.hasNext();){let Q=P.getNext(),S=Q.value;if(S.forEach((Q,S)=>U.set(Q,S)),U.size()>=N)break}return PersistencePromise.resolve(U)}saveOverlay(Q,S,R){let N=this.overlays.get(R.key);if(null!==N){let Q=this.overlayByBatchId.get(N.largestBatchId).delete(R.key);this.overlayByBatchId.set(N.largestBatchId,Q)}this.overlays=this.overlays.insert(R.key,new Overlay(S,R));let M=this.overlayByBatchId.get(S);void 0===M&&(M=documentKeySet(),this.overlayByBatchId.set(S,M)),this.overlayByBatchId.set(S,M.add(R.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ReferenceSet=class ReferenceSet{constructor(){this.refsByKey=new SortedSet(DocReference.compareByKey),this.refsByTarget=new SortedSet(DocReference.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(Q,S){let R=new DocReference(Q,S);this.refsByKey=this.refsByKey.add(R),this.refsByTarget=this.refsByTarget.add(R)}addReferences(Q,S){Q.forEach(Q=>this.addReference(Q,S))}removeReference(Q,S){this.removeRef(new DocReference(Q,S))}removeReferences(Q,S){Q.forEach(Q=>this.removeReference(Q,S))}removeReferencesForId(Q){let S=new DocumentKey(new ResourcePath([])),R=new DocReference(S,Q),N=new DocReference(S,Q+1),M=[];return this.refsByTarget.forEachInRange([R,N],Q=>{this.removeRef(Q),M.push(Q.key)}),M}removeAllReferences(){this.refsByKey.forEach(Q=>this.removeRef(Q))}removeRef(Q){this.refsByKey=this.refsByKey.delete(Q),this.refsByTarget=this.refsByTarget.delete(Q)}referencesForId(Q){let S=new DocumentKey(new ResourcePath([])),R=new DocReference(S,Q),N=new DocReference(S,Q+1),M=documentKeySet();return this.refsByTarget.forEachInRange([R,N],Q=>{M=M.add(Q.key)}),M}containsKey(Q){let S=new DocReference(Q,0),R=this.refsByKey.firstAfterOrEqual(S);return null!==R&&Q.isEqual(R.key)}};let DocReference=class DocReference{constructor(Q,S){this.key=Q,this.targetOrBatchId=S}static compareByKey(Q,S){return DocumentKey.comparator(Q.key,S.key)||primitiveComparator(Q.targetOrBatchId,S.targetOrBatchId)}static compareByTargetId(Q,S){return primitiveComparator(Q.targetOrBatchId,S.targetOrBatchId)||DocumentKey.comparator(Q.key,S.key)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryMutationQueue=class MemoryMutationQueue{constructor(Q,S){this.indexManager=Q,this.referenceDelegate=S,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new SortedSet(DocReference.compareByKey)}checkEmpty(Q){return PersistencePromise.resolve(0===this.mutationQueue.length)}addMutationBatch(Q,S,R,N){let M=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let L=new MutationBatch(M,S,R,N);for(let S of(this.mutationQueue.push(L),N))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new DocReference(S.key,M)),this.indexManager.addToCollectionParentIndex(Q,S.key.path.popLast());return PersistencePromise.resolve(L)}lookupMutationBatch(Q,S){return PersistencePromise.resolve(this.findMutationBatch(S))}getNextMutationBatchAfterBatchId(Q,S){let R=S+1,N=this.indexOfBatchId(R),M=N<0?0:N;return PersistencePromise.resolve(this.mutationQueue.length>M?this.mutationQueue[M]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(0===this.mutationQueue.length?tG:this.nextBatchId-1)}getAllMutationBatches(Q){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(Q,S){let R=new DocReference(S,0),N=new DocReference(S,Number.POSITIVE_INFINITY),M=[];return this.batchesByDocumentKey.forEachInRange([R,N],Q=>{let S=this.findMutationBatch(Q.targetOrBatchId);M.push(S)}),PersistencePromise.resolve(M)}getAllMutationBatchesAffectingDocumentKeys(Q,S){let R=new SortedSet(primitiveComparator);return S.forEach(Q=>{let S=new DocReference(Q,0),N=new DocReference(Q,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([S,N],Q=>{R=R.add(Q.targetOrBatchId)})}),PersistencePromise.resolve(this.findMutationBatches(R))}getAllMutationBatchesAffectingQuery(Q,S){let R=S.path,N=R.length+1,M=R;DocumentKey.isDocumentKey(M)||(M=M.child(""));let L=new DocReference(new DocumentKey(M),0),U=new SortedSet(primitiveComparator);return this.batchesByDocumentKey.forEachWhile(Q=>{let S=Q.key.path;return!!R.isPrefixOf(S)&&(S.length===N&&(U=U.add(Q.targetOrBatchId)),!0)},L),PersistencePromise.resolve(this.findMutationBatches(U))}findMutationBatches(Q){let S=[];return Q.forEach(Q=>{let R=this.findMutationBatch(Q);null!==R&&S.push(R)}),S}removeMutationBatch(Q,S){let R=this.indexOfExistingBatchId(S.batchId,"removed");hardAssert(0===R),this.mutationQueue.shift();let N=this.batchesByDocumentKey;return PersistencePromise.forEach(S.mutations,R=>{let M=new DocReference(R.key,S.batchId);return N=N.delete(M),this.referenceDelegate.markPotentiallyOrphaned(Q,R.key)}).next(()=>{this.batchesByDocumentKey=N})}removeCachedMutationKeys(Q){}containsKey(Q,S){let R=new DocReference(S,0),N=this.batchesByDocumentKey.firstAfterOrEqual(R);return PersistencePromise.resolve(S.isEqual(N&&N.key))}performConsistencyCheck(Q){return this.mutationQueue.length,PersistencePromise.resolve()}indexOfExistingBatchId(Q,S){let R=this.indexOfBatchId(Q);return R}indexOfBatchId(Q){if(0===this.mutationQueue.length)return 0;let S=this.mutationQueue[0].batchId;return Q-S}findMutationBatch(Q){let S=this.indexOfBatchId(Q);if(S<0||S>=this.mutationQueue.length)return null;let R=this.mutationQueue[S];return R}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function documentEntryMap(){return new SortedMap(DocumentKey.comparator)}let MemoryRemoteDocumentCacheImpl=class MemoryRemoteDocumentCacheImpl{constructor(Q){this.sizer=Q,this.docs=documentEntryMap(),this.size=0}setIndexManager(Q){this.indexManager=Q}addEntry(Q,S){let R=S.key,N=this.docs.get(R),M=N?N.size:0,L=this.sizer(S);return this.docs=this.docs.insert(R,{document:S.mutableCopy(),size:L}),this.size+=L-M,this.indexManager.addToCollectionParentIndex(Q,R.path.popLast())}removeEntry(Q){let S=this.docs.get(Q);S&&(this.docs=this.docs.remove(Q),this.size-=S.size)}getEntry(Q,S){let R=this.docs.get(S);return PersistencePromise.resolve(R?R.document.mutableCopy():MutableDocument.newInvalidDocument(S))}getEntries(Q,S){let R=mutableDocumentMap();return S.forEach(Q=>{let S=this.docs.get(Q);R=R.insert(Q,S?S.document.mutableCopy():MutableDocument.newInvalidDocument(Q))}),PersistencePromise.resolve(R)}getDocumentsMatchingQuery(Q,S,R,N){let M=mutableDocumentMap(),L=S.path,U=new DocumentKey(L.child("")),P=this.docs.getIteratorFrom(U);for(;P.hasNext();){let{key:Q,value:{document:U}}=P.getNext();if(!L.isPrefixOf(Q.path))break;!(Q.path.length>L.length+1||0>=indexOffsetComparator(newIndexOffsetFromDocument(U),R))&&(N.has(U.key)||queryMatches(S,U))&&(M=M.insert(U.key,U.mutableCopy()))}return PersistencePromise.resolve(M)}getAllFromCollectionGroup(Q,S,R,N){fail()}forEachDocumentKey(Q,S){return PersistencePromise.forEach(this.docs,Q=>S(Q))}newChangeBuffer(Q){return new MemoryRemoteDocumentChangeBuffer(this)}getSize(Q){return PersistencePromise.resolve(this.size)}};function newMemoryRemoteDocumentCache(Q){return new MemoryRemoteDocumentCacheImpl(Q)}let MemoryRemoteDocumentChangeBuffer=class MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(Q){super(),this.documentCache=Q}applyChanges(Q){let S=[];return this.changes.forEach((R,N)=>{N.isValidDocument()?S.push(this.documentCache.addEntry(Q,N)):this.documentCache.removeEntry(R)}),PersistencePromise.waitFor(S)}getFromCache(Q,S){return this.documentCache.getEntry(Q,S)}getAllFromCache(Q,S){return this.documentCache.getEntries(Q,S)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryTargetCache=class MemoryTargetCache{constructor(Q){this.persistence=Q,this.targets=new ObjectMap(Q=>canonifyTarget(Q),targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new ReferenceSet,this.targetCount=0,this.targetIdGenerator=TargetIdGenerator.forTargetCache()}forEachTarget(Q,S){return this.targets.forEach((Q,R)=>S(R)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(Q){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(Q){return PersistencePromise.resolve(this.highestSequenceNumber)}allocateTargetId(Q){return this.highestTargetId=this.targetIdGenerator.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(Q,S,R){return R&&(this.lastRemoteSnapshotVersion=R),S>this.highestSequenceNumber&&(this.highestSequenceNumber=S),PersistencePromise.resolve()}saveTargetData(Q){this.targets.set(Q.target,Q);let S=Q.targetId;S>this.highestTargetId&&(this.targetIdGenerator=new TargetIdGenerator(S),this.highestTargetId=S),Q.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=Q.sequenceNumber)}addTargetData(Q,S){return this.saveTargetData(S),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(Q,S){return this.saveTargetData(S),PersistencePromise.resolve()}removeTargetData(Q,S){return this.targets.delete(S.target),this.references.removeReferencesForId(S.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(Q,S,R){let N=0,M=[];return this.targets.forEach((L,U)=>{U.sequenceNumber<=S&&null===R.get(U.targetId)&&(this.targets.delete(L),M.push(this.removeMatchingKeysForTargetId(Q,U.targetId)),N++)}),PersistencePromise.waitFor(M).next(()=>N)}getTargetCount(Q){return PersistencePromise.resolve(this.targetCount)}getTargetData(Q,S){let R=this.targets.get(S)||null;return PersistencePromise.resolve(R)}addMatchingKeys(Q,S,R){return this.references.addReferences(S,R),PersistencePromise.resolve()}removeMatchingKeys(Q,S,R){this.references.removeReferences(S,R);let N=this.persistence.referenceDelegate,M=[];return N&&S.forEach(S=>{M.push(N.markPotentiallyOrphaned(Q,S))}),PersistencePromise.waitFor(M)}removeMatchingKeysForTargetId(Q,S){return this.references.removeReferencesForId(S),PersistencePromise.resolve()}getMatchingKeysForTargetId(Q,S){let R=this.references.referencesForId(S);return PersistencePromise.resolve(R)}containsKey(Q,S){return PersistencePromise.resolve(this.references.containsKey(S))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rT="MemoryPersistence";let MemoryPersistence=class MemoryPersistence{constructor(Q,S){this.mutationQueues={},this.overlays={},this.listenSequence=new ListenSequence(0),this._started=!1,this._started=!0,this.referenceDelegate=Q(this),this.targetCache=new MemoryTargetCache(this);let sizer=Q=>this.referenceDelegate.documentSize(Q);this.indexManager=new MemoryIndexManager,this.remoteDocumentCache=newMemoryRemoteDocumentCache(sizer),this.serializer=new LocalSerializer(S),this.bundleCache=new MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(Q){return this.indexManager}getDocumentOverlayCache(Q){let S=this.overlays[Q.toKey()];return S||(S=new MemoryDocumentOverlayCache,this.overlays[Q.toKey()]=S),S}getMutationQueue(Q,S){let R=this.mutationQueues[Q.toKey()];return R||(R=new MemoryMutationQueue(S,this.referenceDelegate),this.mutationQueues[Q.toKey()]=R),R}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(Q,S,R){logDebug(rT,"Starting transaction:",Q);let N=new MemoryTransaction(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),R(N).next(Q=>this.referenceDelegate.onTransactionCommitted(N).next(()=>Q)).toPromise().then(Q=>(N.raiseOnCommittedEvent(),Q))}mutationQueuesContainKey(Q,S){return PersistencePromise.or(Object.values(this.mutationQueues).map(R=>()=>R.containsKey(Q,S)))}};let MemoryTransaction=class MemoryTransaction extends PersistenceTransaction{constructor(Q){super(),this.currentSequenceNumber=Q}};let MemoryEagerDelegate=class MemoryEagerDelegate{constructor(Q){this.persistence=Q,this.localViewReferences=new ReferenceSet,this._orphanedDocuments=null}static factory(Q){return new MemoryEagerDelegate(Q)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw fail()}addReference(Q,S,R){return this.localViewReferences.addReference(R,S),this.orphanedDocuments.delete(R.toString()),PersistencePromise.resolve()}removeReference(Q,S,R){return this.localViewReferences.removeReference(R,S),this.orphanedDocuments.add(R.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(Q,S){return this.orphanedDocuments.add(S.toString()),PersistencePromise.resolve()}removeTarget(Q,S){let R=this.localViewReferences.removeReferencesForId(S.targetId);R.forEach(Q=>this.orphanedDocuments.add(Q.toString()));let N=this.persistence.getTargetCache();return N.getMatchingKeysForTargetId(Q,S.targetId).next(Q=>{Q.forEach(Q=>this.orphanedDocuments.add(Q.toString()))}).next(()=>N.removeTargetData(Q,S))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(Q){let S=this.persistence.getRemoteDocumentCache(),R=S.newChangeBuffer();return PersistencePromise.forEach(this.orphanedDocuments,S=>{let N=DocumentKey.fromPath(S);return this.isReferenced(Q,N).next(Q=>{Q||R.removeEntry(N,SnapshotVersion.min())})}).next(()=>(this._orphanedDocuments=null,R.apply(Q)))}updateLimboDocument(Q,S){return this.isReferenced(Q,S).next(Q=>{Q?this.orphanedDocuments.delete(S.toString()):this.orphanedDocuments.add(S.toString())})}documentSize(Q){return 0}isReferenced(Q,S){return PersistencePromise.or([()=>PersistencePromise.resolve(this.localViewReferences.containsKey(S)),()=>this.persistence.getTargetCache().containsKey(Q,S),()=>this.persistence.mutationQueuesContainKey(Q,S)])}};let MemoryLruDelegate=class MemoryLruDelegate{constructor(Q,S){this.persistence=Q,this.orphanedSequenceNumbers=new ObjectMap(Q=>encodeResourcePath(Q.path),(Q,S)=>Q.isEqual(S)),this.garbageCollector=newLruGarbageCollector(this,S)}static factory(Q,S){return new MemoryLruDelegate(Q,S)}onTransactionStarted(){}onTransactionCommitted(Q){return PersistencePromise.resolve()}forEachTarget(Q,S){return this.persistence.getTargetCache().forEachTarget(Q,S)}getSequenceNumberCount(Q){let S=this.orphanedDocumentCount(Q),R=this.persistence.getTargetCache().getTargetCount(Q);return R.next(Q=>S.next(S=>Q+S))}orphanedDocumentCount(Q){let S=0;return this.forEachOrphanedDocumentSequenceNumber(Q,Q=>{S++}).next(()=>S)}forEachOrphanedDocumentSequenceNumber(Q,S){return PersistencePromise.forEach(this.orphanedSequenceNumbers,(R,N)=>this.isPinned(Q,R,N).next(Q=>Q?PersistencePromise.resolve():S(N)))}removeTargets(Q,S,R){return this.persistence.getTargetCache().removeTargets(Q,S,R)}removeOrphanedDocuments(Q,S){let R=0,N=this.persistence.getRemoteDocumentCache(),M=N.newChangeBuffer(),L=N.forEachDocumentKey(Q,N=>this.isPinned(Q,N,S).next(Q=>{Q||(R++,M.removeEntry(N,SnapshotVersion.min()))}));return L.next(()=>M.apply(Q)).next(()=>R)}markPotentiallyOrphaned(Q,S){return this.orphanedSequenceNumbers.set(S,Q.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(Q,S){let R=S.withSequenceNumber(Q.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(Q,R)}addReference(Q,S,R){return this.orphanedSequenceNumbers.set(R,Q.currentSequenceNumber),PersistencePromise.resolve()}removeReference(Q,S,R){return this.orphanedSequenceNumbers.set(R,Q.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(Q,S){return this.orphanedSequenceNumbers.set(S,Q.currentSequenceNumber),PersistencePromise.resolve()}documentSize(Q){let S=Q.key.toString().length;return Q.isFoundDocument()&&(S+=estimateByteSize(Q.data.value)),S}isPinned(Q,S,R){return PersistencePromise.or([()=>this.persistence.mutationQueuesContainKey(Q,S),()=>this.persistence.getTargetCache().containsKey(Q,S),()=>{let Q=this.orphanedSequenceNumbers.get(S);return PersistencePromise.resolve(void 0!==Q&&Q>R)}])}getCacheSize(Q){return this.persistence.getRemoteDocumentCache().getSize(Q)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SchemaConverter=class SchemaConverter{constructor(Q){this.serializer=Q}createOrUpgrade(Q,S,R,N){let M=new SimpleDbTransaction("createOrUpgrade",S);R<1&&N>=1&&(createPrimaryClientStore(Q),createMutationQueue(Q),createQueryCache(Q),createLegacyRemoteDocumentCache(Q));let L=PersistencePromise.resolve();return R<3&&N>=3&&(0!==R&&(dropQueryCache(Q),createQueryCache(Q)),L=L.next(()=>writeEmptyTargetGlobalEntry(M))),R<4&&N>=4&&(0!==R&&(L=L.next(()=>upgradeMutationBatchSchemaAndMigrateData(Q,M))),L=L.next(()=>{createClientMetadataStore(Q)})),R<5&&N>=5&&(L=L.next(()=>this.removeAcknowledgedMutations(M))),R<6&&N>=6&&(L=L.next(()=>(createDocumentGlobalStore(Q),this.addDocumentGlobal(M)))),R<7&&N>=7&&(L=L.next(()=>this.ensureSequenceNumbers(M))),R<8&&N>=8&&(L=L.next(()=>this.createCollectionParentIndex(Q,M))),R<9&&N>=9&&(L=L.next(()=>{dropRemoteDocumentChangesStore(Q)})),R<10&&N>=10&&(L=L.next(()=>this.rewriteCanonicalIds(M))),R<11&&N>=11&&(L=L.next(()=>{createBundlesStore(Q),createNamedQueriesStore(Q)})),R<12&&N>=12&&(L=L.next(()=>{createDocumentOverlayStore(Q)})),R<13&&N>=13&&(L=L.next(()=>createRemoteDocumentCache(Q)).next(()=>this.rewriteRemoteDocumentCache(Q,M)).next(()=>Q.deleteObjectStore(eT))),R<14&&N>=14&&(L=L.next(()=>this.runOverlayMigration(Q,M))),R<15&&N>=15&&(L=L.next(()=>createFieldIndex(Q))),R<16&&N>=16&&(L=L.next(()=>{let Q=S.objectStore(tc);Q.clear()}).next(()=>{let Q=S.objectStore(tg);Q.clear()})),L}addDocumentGlobal(Q){let S=0;return Q.store(eT).iterate((Q,R)=>{S+=dbDocumentSize(R)}).next(()=>{let R={byteSize:S};return Q.store(ej).put(ez,R)})}removeAcknowledgedMutations(Q){let S=Q.store(eF),R=Q.store(eL);return S.loadAll().next(S=>PersistencePromise.forEach(S,S=>{let N=IDBKeyRange.bound([S.userId,tG],[S.userId,S.lastAcknowledgedBatchId]);return R.loadAll(e_,N).next(R=>PersistencePromise.forEach(R,R=>{hardAssert(R.userId===S.userId);let N=fromDbMutationBatch(this.serializer,R);return removeMutationBatch(Q,S.userId,N).next(()=>{})}))}))}ensureSequenceNumbers(Q){let S=Q.store(e0),R=Q.store(eT),N=Q.store(e3);return N.get(e9).next(Q=>{let writeSentinelKey=R=>S.put({targetId:0,path:encodeResourcePath(R),sequenceNumber:Q.highestListenSequenceNumber}),N=[];return R.iterate((Q,R)=>{let M=new ResourcePath(Q),L=sentinelKey(M);N.push(S.get(L).next(Q=>Q?PersistencePromise.resolve():writeSentinelKey(M)))}).next(()=>PersistencePromise.waitFor(N))})}createCollectionParentIndex(Q,S){Q.createObjectStore(e8,{keyPath:e5});let R=S.store(e8),N=new MemoryCollectionParentIndex,addEntry=Q=>{if(N.add(Q)){let S=Q.lastSegment(),N=Q.popLast();return R.put({collectionId:S,parent:encodeResourcePath(N)})}};return S.store(eT).iterate({keysOnly:!0},(Q,S)=>{let R=new ResourcePath(Q);return addEntry(R.popLast())}).next(()=>S.store(eP).iterate({keysOnly:!0},([Q,S,R],N)=>{let M=decodeResourcePath(S);return addEntry(M.popLast())}))}rewriteCanonicalIds(Q){let S=Q.store(eK);return S.iterate((Q,R)=>{let N=fromDbTarget(R),M=toDbTarget(this.serializer,N);return S.put(M)})}rewriteRemoteDocumentCache(Q,S){let R=S.store(eT),N=[];return R.iterate((Q,R)=>{let M=S.store(eV),L=extractKey(R).path.toArray(),U={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:R.readTime||[0,0],unknownDocument:R.unknownDocument,noDocument:R.noDocument,document:R.document,hasCommittedMutations:!!R.hasCommittedMutations};N.push(M.put(U))}).next(()=>PersistencePromise.waitFor(N))}runOverlayMigration(Q,S){let R=S.store(eL),N=newIndexedDbRemoteDocumentCache(this.serializer),M=new MemoryPersistence(MemoryEagerDelegate.factory,this.serializer.remoteSerializer);return R.loadAll().next(Q=>{let R=new Map;return Q.forEach(Q=>{var S;let N=null!==(S=R.get(Q.userId))&&void 0!==S?S:documentKeySet(),M=fromDbMutationBatch(this.serializer,Q);M.keys().forEach(Q=>N=N.add(Q)),R.set(Q.userId,N)}),PersistencePromise.forEach(R,(Q,R)=>{let L=new User(R),U=IndexedDbDocumentOverlayCache.forUser(this.serializer,L),P=M.getIndexManager(L),Y=IndexedDbMutationQueue.forUser(L,this.serializer,P,M.referenceDelegate),W=new LocalDocumentsView(N,Y,U,P);return W.recalculateAndSaveOverlaysForDocumentKeys(new IndexedDbTransaction(S,ListenSequence.INVALID),Q).next()})})}};function sentinelKey(Q){return[0,encodeResourcePath(Q)]}function createPrimaryClientStore(Q){Q.createObjectStore(ek)}function createMutationQueue(Q){Q.createObjectStore(eF,{keyPath:eM});let S=Q.createObjectStore(eL,{keyPath:ex,autoIncrement:!0});S.createIndex(e_,eU,{unique:!0}),Q.createObjectStore(eP)}function upgradeMutationBatchSchemaAndMigrateData(Q,S){let R=S.store(eL);return R.loadAll().next(R=>{Q.deleteObjectStore(eL);let N=Q.createObjectStore(eL,{keyPath:ex,autoIncrement:!0});N.createIndex(e_,eU,{unique:!0});let M=S.store(eL),L=R.map(Q=>M.put(Q));return PersistencePromise.waitFor(L)})}function createLegacyRemoteDocumentCache(Q){Q.createObjectStore(eT)}function createRemoteDocumentCache(Q){let S=Q.createObjectStore(eV,{keyPath:eG});S.createIndex(eH,eY),S.createIndex(eJ,eW)}function createDocumentGlobalStore(Q){Q.createObjectStore(ej)}function createQueryCache(Q){let S=Q.createObjectStore(e0,{keyPath:e1});S.createIndex(e2,e4,{unique:!0});let R=Q.createObjectStore(eK,{keyPath:eX});R.createIndex(eZ,e$,{unique:!0}),Q.createObjectStore(e3)}function dropQueryCache(Q){Q.deleteObjectStore(e0),Q.deleteObjectStore(eK),Q.deleteObjectStore(e3)}function dropRemoteDocumentChangesStore(Q){Q.objectStoreNames.contains("remoteDocumentChanges")&&Q.deleteObjectStore("remoteDocumentChanges")}function writeEmptyTargetGlobalEntry(Q){let S=Q.store(e3),R={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:SnapshotVersion.min().toTimestamp(),targetCount:0};return S.put(e9,R)}function createClientMetadataStore(Q){Q.createObjectStore(e6,{keyPath:e7})}function createBundlesStore(Q){Q.createObjectStore(te,{keyPath:tt})}function createNamedQueriesStore(Q){Q.createObjectStore(tr,{keyPath:ti})}function createFieldIndex(Q){let S=Q.createObjectStore(ts,{keyPath:ta,autoIncrement:!0});S.createIndex(tA,tl,{unique:!1});let R=Q.createObjectStore(tc,{keyPath:tu});R.createIndex(th,td,{unique:!1});let N=Q.createObjectStore(tg,{keyPath:tp});N.createIndex(tf,tE,{unique:!1})}function createDocumentOverlayStore(Q){let S=Q.createObjectStore(tm,{keyPath:tC});S.createIndex(tI,tB,{unique:!1}),S.createIndex(ty,tQ,{unique:!1})}function extractKey(Q){return Q.document?new DocumentKey(ResourcePath.fromString(Q.document.name).popFirst(5)):Q.noDocument?DocumentKey.fromSegments(Q.noDocument.path):Q.unknownDocument?DocumentKey.fromSegments(Q.unknownDocument.path):fail()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rk="IndexedDbPersistence",rN=null,rF=5e3,rM=4e3,rL=null,rx=null,r_="firestore_zombie",rU="main";let IndexedDbPersistence=class IndexedDbPersistence{constructor(Q,S,R,N,M,L,U,P,Y,W,K=rR){if(this.allowTabSynchronization=Q,this.persistenceKey=S,this.clientId=R,this.queue=M,this.window=L,this.document=U,this.sequenceNumberSyncer=Y,this.forceOwningTab=W,this.schemaVersion=K,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=Q=>Promise.resolve(),!IndexedDbPersistence.isAvailable())throw new FirestoreError(ec.UNIMPLEMENTED,rx);this.referenceDelegate=new IndexedDbLruDelegateImpl(this,N),this.dbName=S+rU,this.serializer=new LocalSerializer(P),this.simpleDb=new SimpleDb(this.dbName,this.schemaVersion,new SchemaConverter(this.serializer)),this.targetCache=new IndexedDbTargetCache(this.referenceDelegate,this.serializer),this.remoteDocumentCache=newIndexedDbRemoteDocumentCache(this.serializer),this.bundleCache=new IndexedDbBundleCache,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===W&&logError(rk,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new FirestoreError(ec.FAILED_PRECONDITION,rL);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",Q=>this.targetCache.getHighestSequenceNumber(Q))}).then(Q=>{this.listenSequence=new ListenSequence(Q,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(Q=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(Q)))}setPrimaryStateListener(Q){return this.primaryStateListener=async S=>{if(this.started)return Q(S)},Q(this.isPrimary)}setDatabaseDeletedListener(Q){this.simpleDb.setVersionChangeListener(async S=>{null===S.newVersion&&await Q()})}setNetworkEnabled(Q){this.networkEnabled!==Q&&(this.networkEnabled=Q,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",Q=>{let S=clientMetadataStore(Q);return S.put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(Q).next(Q=>{Q||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(Q)).next(S=>this.isPrimary&&!S?this.releasePrimaryLeaseIfHeld(Q).next(()=>!1):!!S&&this.acquireOrExtendPrimaryLease(Q).next(()=>!0))}).catch(Q=>{if(isIndexedDbTransactionError(Q))return logDebug(rk,"Failed to extend owner lease: ",Q),this.isPrimary;if(!this.allowTabSynchronization)throw Q;return logDebug(rk,"Releasing owner lease after error during lease refresh",Q),!1}).then(Q=>{this.isPrimary!==Q&&this.queue.enqueueRetryable(()=>this.primaryStateListener(Q)),this.isPrimary=Q})}verifyPrimaryLease(Q){let S=primaryClientStore(Q);return S.get(eN).next(Q=>PersistencePromise.resolve(this.isLocalClient(Q)))}removeClientMetadata(Q){let S=clientMetadataStore(Q);return S.delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,rN)){this.lastGarbageCollectionTime=Date.now();let Q=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",Q=>{let S=getStore(Q,e6);return S.loadAll().next(Q=>{let R=this.filterActiveClients(Q,rN),N=Q.filter(Q=>-1===R.indexOf(Q));return PersistencePromise.forEach(N,Q=>S.delete(Q.clientId)).next(()=>N)})}).catch(()=>[]);if(this.webStorage)for(let S of Q)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(S.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",rM,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(Q){return!!Q&&Q.ownerId===this.clientId}canActAsPrimary(Q){if(this.forceOwningTab)return PersistencePromise.resolve(!0);let S=primaryClientStore(Q);return S.get(eN).next(S=>{let R=null!==S&&this.isWithinAge(S.leaseTimestampMs,rF)&&!this.isClientZombied(S.ownerId);if(R){if(this.isLocalClient(S)&&this.networkEnabled)return!0;if(!this.isLocalClient(S)){if(!S.allowTabSynchronization)throw new FirestoreError(ec.FAILED_PRECONDITION,rL);return!1}}return!!this.networkEnabled&&!!this.inForeground||clientMetadataStore(Q).loadAll().next(Q=>{let S=this.filterActiveClients(Q,rF).find(Q=>{if(this.clientId!==Q.clientId){let S=!this.networkEnabled&&Q.networkEnabled,R=!this.inForeground&&Q.inForeground,N=this.networkEnabled===Q.networkEnabled;if(S||R&&N)return!0}return!1});return void 0===S})}).next(Q=>(this.isPrimary!==Q&&logDebug(rk,`Client ${Q?"is":"is not"} eligible for a primary lease.`),Q))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[ek,e6],Q=>{let S=new IndexedDbTransaction(Q,ListenSequence.INVALID);return this.releasePrimaryLeaseIfHeld(S).next(()=>this.removeClientMetadata(S))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(Q,S){return Q.filter(Q=>this.isWithinAge(Q.updateTimeMs,S)&&!this.isClientZombied(Q.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",Q=>clientMetadataStore(Q).loadAll().next(Q=>this.filterActiveClients(Q,rN).map(Q=>Q.clientId)))}get started(){return this._started}getMutationQueue(Q,S){return IndexedDbMutationQueue.forUser(Q,this.serializer,S,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(Q){return new IndexedDbIndexManager(Q,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(Q){return IndexedDbDocumentOverlayCache.forUser(this.serializer,Q)}getBundleCache(){return this.bundleCache}runTransaction(Q,S,R){let N;logDebug(rk,"Starting transaction:",Q);let M="readonly"===S?"readonly":"readwrite",L=getObjectStores(this.schemaVersion);return this.simpleDb.runTransaction(Q,M,L,M=>(N=new IndexedDbTransaction(M,this.listenSequence?this.listenSequence.next():ListenSequence.INVALID),"readwrite-primary"===S)?this.verifyPrimaryLease(N).next(Q=>!!Q||this.canActAsPrimary(N)).next(S=>{if(!S)throw logError(`Failed to obtain primary lease for action '${Q}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new FirestoreError(ec.FAILED_PRECONDITION,eE);return R(N)}).next(Q=>this.acquireOrExtendPrimaryLease(N).next(()=>Q)):this.verifyAllowTabSynchronization(N).next(()=>R(N))).then(Q=>(N.raiseOnCommittedEvent(),Q))}verifyAllowTabSynchronization(Q){let S=primaryClientStore(Q);return S.get(eN).next(Q=>{let S=null!==Q&&this.isWithinAge(Q.leaseTimestampMs,rF)&&!this.isClientZombied(Q.ownerId);if(S&&!this.isLocalClient(Q)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!Q.allowTabSynchronization))throw new FirestoreError(ec.FAILED_PRECONDITION,rL)})}acquireOrExtendPrimaryLease(Q){let S={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return primaryClientStore(Q).put(eN,S)}static isAvailable(){return SimpleDb.isAvailable()}releasePrimaryLeaseIfHeld(Q){let S=primaryClientStore(Q);return S.get(eN).next(Q=>this.isLocalClient(Q)?(logDebug(rk,"Releasing primary lease."),S.delete(eN)):PersistencePromise.resolve())}isWithinAge(Q,S){let R=Date.now(),N=R-S,M=R;return!(Q<N)&&(!(Q>M)||(logError(`Detected an update time that is in the future: ${Q} > ${M}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var Q;"function"==typeof(null===(Q=this.window)||void 0===Q?void 0:Q.addEventListener)&&(this.windowUnloadHandler=()=>{this.markClientZombied();let Q=/(?:Version|Mobile)\/1[456]/;isSafari()&&(navigator.appVersion.match(Q)||navigator.userAgent.match(Q))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(Q){var S;try{let R=(null===(S=this.webStorage)||void 0===S?void 0:S.getItem(this.zombiedClientLocalStorageKey(Q)))!==null;return logDebug(rk,`Client '${Q}' ${R?"is":"is not"} zombied in LocalStorage`),R}catch(Q){return logError(rk,"Failed to get zombied client id.",Q),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(Q){logError("Failed to set zombie client id.",Q)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(Q){}}zombiedClientLocalStorageKey(Q){return`${r_}_${this.persistenceKey}_${Q}`}};function primaryClientStore(Q){return getStore(Q,ek)}function clientMetadataStore(Q){return getStore(Q,e6)}function indexedDbStoragePrefix(Q,S){let R=Q.projectId;return Q.isDefaultDatabase||(R+="."+Q.database),"firestore/"+S+"/"+R+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function diffArrays(Q,S,R,N,M){S=[...S],(Q=[...Q]).sort(R),S.sort(R);let L=Q.length,U=S.length,P=0,Y=0;for(;P<U&&Y<L;){let L=R(Q[Y],S[P]);L<0?M(Q[Y++]):L>0?N(S[P++]):(P++,Y++)}for(;P<U;)N(S[P++]);for(;Y<L;)M(Q[Y++])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rO="LocalStore",rP=3e8;let LocalStoreImpl=class LocalStoreImpl{constructor(Q,S,R,N){this.persistence=Q,this.queryEngine=S,this.serializer=N,this.targetDataByTarget=new SortedMap(primitiveComparator),this.targetIdByTarget=new ObjectMap(Q=>canonifyTarget(Q),targetEquals),this.collectionGroupReadTime=new Map,this.remoteDocuments=Q.getRemoteDocumentCache(),this.targetCache=Q.getTargetCache(),this.bundleCache=Q.getBundleCache(),this.initializeUserComponents(R)}initializeUserComponents(Q){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(Q),this.indexManager=this.persistence.getIndexManager(Q),this.mutationQueue=this.persistence.getMutationQueue(Q,this.indexManager),this.localDocuments=new LocalDocumentsView(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(Q){return this.persistence.runTransaction("Collect garbage","readwrite-primary",S=>Q.collect(S,this.targetDataByTarget))}};function newLocalStore(Q,S,R,N){return new LocalStoreImpl(Q,S,R,N)}async function localStoreHandleUserChange(Q,S){let R=debugCast(Q),N=await R.persistence.runTransaction("Handle user change","readonly",Q=>{let N;return R.mutationQueue.getAllMutationBatches(Q).next(M=>(N=M,R.initializeUserComponents(S),R.mutationQueue.getAllMutationBatches(Q))).next(S=>{let M=[],L=[],U=documentKeySet();for(let Q of N)for(let S of(M.push(Q.batchId),Q.mutations))U=U.add(S.key);for(let Q of S)for(let S of(L.push(Q.batchId),Q.mutations))U=U.add(S.key);return R.localDocuments.getDocuments(Q,U).next(Q=>({affectedDocuments:Q,removedBatchIds:M,addedBatchIds:L}))})});return N}function localStoreWriteLocally(Q,S){let R,N;let M=debugCast(Q),L=Timestamp.now(),U=S.reduce((Q,S)=>Q.add(S.key),documentKeySet());return M.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let P=mutableDocumentMap(),Y=documentKeySet();return M.remoteDocuments.getEntries(Q,U).next(Q=>{(P=Q).forEach((Q,S)=>{S.isValidDocument()||(Y=Y.add(Q))})}).next(()=>M.localDocuments.getOverlayedDocuments(Q,P)).next(N=>{R=N;let U=[];for(let Q of S){let S=mutationExtractBaseValue(Q,R.get(Q.key).overlayedDocument);null!=S&&U.push(new PatchMutation(Q.key,S,extractFieldMask(S.value.mapValue),Precondition.exists(!0)))}return M.mutationQueue.addMutationBatch(Q,L,U,S)}).next(S=>{N=S;let L=S.applyToLocalDocumentSet(R,Y);return M.documentOverlayCache.saveOverlays(Q,S.batchId,L)})}).then(()=>({batchId:N.batchId,changes:convertOverlayedDocumentMapToDocumentMap(R)}))}function localStoreAcknowledgeBatch(Q,S){let R=debugCast(Q);return R.persistence.runTransaction("Acknowledge batch","readwrite-primary",Q=>{let N=S.batch.keys(),M=R.remoteDocuments.newChangeBuffer({trackRemovals:!0});return applyWriteToRemoteDocuments(R,Q,S,M).next(()=>M.apply(Q)).next(()=>R.mutationQueue.performConsistencyCheck(Q)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(Q,N,S.batch.batchId)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,getKeysWithTransformResults(S))).next(()=>R.localDocuments.getDocuments(Q,N))})}function getKeysWithTransformResults(Q){let S=documentKeySet();for(let R=0;R<Q.mutationResults.length;++R){let N=Q.mutationResults[R];N.transformResults.length>0&&(S=S.add(Q.batch.mutations[R].key))}return S}function localStoreRejectBatch(Q,S){let R=debugCast(Q);return R.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let N;return R.mutationQueue.lookupMutationBatch(Q,S).next(S=>(hardAssert(null!==S),N=S.keys(),R.mutationQueue.removeMutationBatch(Q,S))).next(()=>R.mutationQueue.performConsistencyCheck(Q)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(Q,N,S)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,N)).next(()=>R.localDocuments.getDocuments(Q,N))})}function localStoreGetHighestUnacknowledgedBatchId(Q){let S=debugCast(Q);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",Q=>S.mutationQueue.getHighestUnacknowledgedBatchId(Q))}function localStoreGetLastRemoteSnapshotVersion(Q){let S=debugCast(Q);return S.persistence.runTransaction("Get last remote snapshot version","readonly",Q=>S.targetCache.getLastRemoteSnapshotVersion(Q))}function localStoreApplyRemoteEventToLocalCache(Q,S){let R=debugCast(Q),N=S.snapshotVersion,M=R.targetDataByTarget;return R.persistence.runTransaction("Apply remote event","readwrite-primary",Q=>{let L=R.remoteDocuments.newChangeBuffer({trackRemovals:!0});M=R.targetDataByTarget;let U=[];S.targetChanges.forEach((L,P)=>{let Y=M.get(P);if(!Y)return;U.push(R.targetCache.removeMatchingKeys(Q,L.removedDocuments,P).next(()=>R.targetCache.addMatchingKeys(Q,L.addedDocuments,P)));let W=Y.withSequenceNumber(Q.currentSequenceNumber);null!==S.targetMismatches.get(P)?W=W.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):L.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(L.resumeToken,N)),M=M.insert(P,W),shouldPersistTargetData(Y,W,L)&&U.push(R.targetCache.updateTargetData(Q,W))});let P=mutableDocumentMap(),Y=documentKeySet();if(S.documentUpdates.forEach(N=>{S.resolvedLimboDocuments.has(N)&&U.push(R.persistence.referenceDelegate.updateLimboDocument(Q,N))}),U.push(populateDocumentChangeBuffer(Q,L,S.documentUpdates).next(Q=>{P=Q.changedDocuments,Y=Q.existenceChangedKeys})),!N.isEqual(SnapshotVersion.min())){let S=R.targetCache.getLastRemoteSnapshotVersion(Q).next(S=>R.targetCache.setTargetsMetadata(Q,Q.currentSequenceNumber,N));U.push(S)}return PersistencePromise.waitFor(U).next(()=>L.apply(Q)).next(()=>R.localDocuments.getLocalViewOfDocuments(Q,P,Y)).next(()=>P)}).then(Q=>(R.targetDataByTarget=M,Q))}function populateDocumentChangeBuffer(Q,S,R){let N=documentKeySet(),M=documentKeySet();return R.forEach(Q=>N=N.add(Q)),S.getEntries(Q,N).next(Q=>{let N=mutableDocumentMap();return R.forEach((R,L)=>{let U=Q.get(R);L.isFoundDocument()!==U.isFoundDocument()&&(M=M.add(R)),L.isNoDocument()&&L.version.isEqual(SnapshotVersion.min())?(S.removeEntry(R,L.readTime),N=N.insert(R,L)):!U.isValidDocument()||L.version.compareTo(U.version)>0||0===L.version.compareTo(U.version)&&U.hasPendingWrites?(S.addEntry(L),N=N.insert(R,L)):logDebug(rO,"Ignoring outdated watch update for ",R,". Current version:",U.version," Watch version:",L.version)}),{changedDocuments:N,existenceChangedKeys:M}})}function shouldPersistTargetData(Q,S,R){if(0===Q.resumeToken.approximateByteSize())return!0;let N=S.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds();if(N>=rP)return!0;let M=R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size;return M>0}async function localStoreNotifyLocalViewChanges(Q,S){let R=debugCast(Q);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",Q=>PersistencePromise.forEach(S,S=>PersistencePromise.forEach(S.addedKeys,N=>R.persistence.referenceDelegate.addReference(Q,S.targetId,N)).next(()=>PersistencePromise.forEach(S.removedKeys,N=>R.persistence.referenceDelegate.removeReference(Q,S.targetId,N)))))}catch(Q){if(isIndexedDbTransactionError(Q))logDebug(rO,"Failed to update sequence numbers: "+Q);else throw Q}for(let Q of S){let S=Q.targetId;if(!Q.fromCache){let Q=R.targetDataByTarget.get(S),N=Q.snapshotVersion,M=Q.withLastLimboFreeSnapshotVersion(N);R.targetDataByTarget=R.targetDataByTarget.insert(S,M)}}}function localStoreGetNextMutationBatch(Q,S){let R=debugCast(Q);return R.persistence.runTransaction("Get next mutation batch","readonly",Q=>(void 0===S&&(S=tG),R.mutationQueue.getNextMutationBatchAfterBatchId(Q,S)))}function localStoreReadDocument(Q,S){let R=debugCast(Q);return R.persistence.runTransaction("read document","readonly",Q=>R.localDocuments.getDocument(Q,S))}function localStoreAllocateTarget(Q,S){let R=debugCast(Q);return R.persistence.runTransaction("Allocate target","readwrite",Q=>{let N;return R.targetCache.getTargetData(Q,S).next(M=>M?(N=M,PersistencePromise.resolve(N)):R.targetCache.allocateTargetId(Q).next(M=>(N=new TargetData(S,M,"TargetPurposeListen",Q.currentSequenceNumber),R.targetCache.addTargetData(Q,N).next(()=>N))))}).then(Q=>{let N=R.targetDataByTarget.get(Q.targetId);return(null===N||Q.snapshotVersion.compareTo(N.snapshotVersion)>0)&&(R.targetDataByTarget=R.targetDataByTarget.insert(Q.targetId,Q),R.targetIdByTarget.set(S,Q.targetId)),Q})}function localStoreGetTargetData(Q,S,R){let N=debugCast(Q),M=N.targetIdByTarget.get(R);return void 0!==M?PersistencePromise.resolve(N.targetDataByTarget.get(M)):N.targetCache.getTargetData(S,R)}async function localStoreReleaseTarget(Q,S,R){let N=debugCast(Q),M=N.targetDataByTarget.get(S),L=R?"readwrite":"readwrite-primary";try{R||await N.persistence.runTransaction("Release target",L,Q=>N.persistence.referenceDelegate.removeTarget(Q,M))}catch(Q){if(isIndexedDbTransactionError(Q))logDebug(rO,`Failed to update sequence numbers for target ${S}: ${Q}`);else throw Q}N.targetDataByTarget=N.targetDataByTarget.remove(S),N.targetIdByTarget.delete(M.target)}function localStoreExecuteQuery(Q,S,R){let N=debugCast(Q),M=SnapshotVersion.min(),L=documentKeySet();return N.persistence.runTransaction("Execute query","readwrite",Q=>localStoreGetTargetData(N,Q,queryToTarget(S)).next(S=>{if(S)return M=S.lastLimboFreeSnapshotVersion,N.targetCache.getMatchingKeysForTargetId(Q,S.targetId).next(Q=>{L=Q})}).next(()=>N.queryEngine.getDocumentsMatchingQuery(Q,S,R?M:SnapshotVersion.min(),R?L:documentKeySet())).next(Q=>(setMaxReadTime(N,queryCollectionGroup(S),Q),{documents:Q,remoteKeys:L})))}function applyWriteToRemoteDocuments(Q,S,R,N){let M=R.batch,L=M.keys(),U=PersistencePromise.resolve();return L.forEach(Q=>{U=U.next(()=>N.getEntry(S,Q)).next(S=>{let L=R.docVersions.get(Q);hardAssert(null!==L),0>S.version.compareTo(L)&&(M.applyToRemoteDocument(S,R),S.isValidDocument()&&(S.setReadTime(R.commitVersion),N.addEntry(S)))})}),U.next(()=>Q.mutationQueue.removeMutationBatch(S,M))}function localStoreLookupMutationDocuments(Q,S){let R=debugCast(Q),N=debugCast(R.mutationQueue);return R.persistence.runTransaction("Lookup mutation documents","readonly",Q=>N.lookupMutationKeys(Q,S).next(S=>S?R.localDocuments.getDocuments(Q,S):PersistencePromise.resolve(null)))}function localStoreRemoveCachedMutationBatchMetadata(Q,S){let R=debugCast(debugCast(Q,LocalStoreImpl).mutationQueue);R.removeCachedMutationKeys(S)}function localStoreGetActiveClients(Q){let S=debugCast(debugCast(Q,LocalStoreImpl).persistence);return S.getActiveClients()}function localStoreGetCachedTarget(Q,S){let R=debugCast(Q),N=debugCast(R.targetCache),M=R.targetDataByTarget.get(S);return M?Promise.resolve(M.target):R.persistence.runTransaction("Get target data","readonly",Q=>N.getTargetDataForTarget(Q,S).next(Q=>Q?Q.target:null))}function localStoreGetNewDocumentChanges(Q,S){let R=debugCast(Q),N=R.collectionGroupReadTime.get(S)||SnapshotVersion.min();return R.persistence.runTransaction("Get new document changes","readonly",Q=>R.remoteDocuments.getAllFromCollectionGroup(Q,S,newIndexOffsetSuccessorFromReadTime(N,ep),Number.MAX_SAFE_INTEGER)).then(Q=>(setMaxReadTime(R,S,Q),Q))}function setMaxReadTime(Q,S,R){let N=Q.collectionGroupReadTime.get(S)||SnapshotVersion.min();R.forEach((Q,S)=>{S.readTime.compareTo(N)>0&&(N=S.readTime)}),Q.collectionGroupReadTime.set(S,N)}function umbrellaTarget(Q){return queryToTarget(newQueryForPath(ResourcePath.fromString(`__bundle__/docs/${Q}`)))}async function localStoreApplyBundledDocuments(Q,S,R,N){let M=debugCast(Q),L=documentKeySet(),U=mutableDocumentMap();for(let Q of R){let R=S.toDocumentKey(Q.metadata.name);Q.document&&(L=L.add(R));let N=S.toMutableDocument(Q);N.setReadTime(S.toSnapshotVersion(Q.metadata.readTime)),U=U.insert(R,N)}let P=M.remoteDocuments.newChangeBuffer({trackRemovals:!0}),Y=await localStoreAllocateTarget(M,umbrellaTarget(N));return M.persistence.runTransaction("Apply bundle documents","readwrite",Q=>populateDocumentChangeBuffer(Q,P,U).next(S=>(P.apply(Q),S)).next(S=>M.targetCache.removeMatchingKeysForTargetId(Q,Y.targetId).next(()=>M.targetCache.addMatchingKeys(Q,L,Y.targetId)).next(()=>M.localDocuments.getLocalViewOfDocuments(Q,S.changedDocuments,S.existenceChangedKeys)).next(()=>S.changedDocuments)))}function localStoreHasNewerBundle(Q,S){let R=debugCast(Q),N=fromVersion(S.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",Q=>R.bundleCache.getBundleMetadata(Q,S.id)).then(Q=>!!Q&&Q.createTime.compareTo(N)>=0)}function localStoreSaveBundle(Q,S){let R=debugCast(Q);return R.persistence.runTransaction("Save bundle","readwrite",Q=>R.bundleCache.saveBundleMetadata(Q,S))}async function localStoreSaveNamedQuery(Q,S,R=documentKeySet()){let N=await localStoreAllocateTarget(Q,queryToTarget(fromBundledQuery(S.bundledQuery))),M=debugCast(Q);return M.persistence.runTransaction("Save named query","readwrite",Q=>{let L=fromVersion(S.readTime);if(N.snapshotVersion.compareTo(L)>=0)return M.bundleCache.saveNamedQuery(Q,S);let U=N.withResumeToken(ByteString.EMPTY_BYTE_STRING,L);return M.targetDataByTarget=M.targetDataByTarget.insert(U.targetId,U),M.targetCache.updateTargetData(Q,U).next(()=>M.targetCache.removeMatchingKeysForTargetId(Q,N.targetId)).next(()=>M.targetCache.addMatchingKeys(Q,R,N.targetId)).next(()=>M.bundleCache.saveNamedQuery(Q,S))})}function localStoreSetIndexAutoCreationEnabled(Q,S){let R=debugCast(Q);R.queryEngine.indexAutoCreationEnabled=S}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QueryContext=class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(Q){this._documentReadCount+=Q}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rV=100;function getDefaultRelativeIndexReadCostPerDocument(){return(0,X.G6)()?8:getAndroidVersion((0,X.z$)())>0?6:4}let QueryEngine=class QueryEngine{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=rV,this.relativeIndexReadCostPerDocument=getDefaultRelativeIndexReadCostPerDocument()}initialize(Q,S){this.localDocumentsView=Q,this.indexManager=S,this.initialized=!0}getDocumentsMatchingQuery(Q,S,R,N){let M={result:null};return this.performQueryUsingIndex(Q,S).next(Q=>{M.result=Q}).next(()=>{if(!M.result)return this.performQueryUsingRemoteKeys(Q,S,N,R).next(Q=>{M.result=Q})}).next(()=>{if(M.result)return;let R=new QueryContext;return this.executeFullCollectionScan(Q,S,R).next(N=>{if(M.result=N,this.indexAutoCreationEnabled)return this.createCacheIndexes(Q,S,R,N.size)})}).next(()=>M.result)}createCacheIndexes(Q,S,R,N){return R.documentReadCount<this.indexAutoCreationMinCollectionSize?(getLogLevel()<=W.in.DEBUG&&logDebug("QueryEngine","SDK will not create cache indexes for query:",stringifyQuery(S),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),PersistencePromise.resolve()):(getLogLevel()<=W.in.DEBUG&&logDebug("QueryEngine","Query:",stringifyQuery(S),"scans",R.documentReadCount,"local documents and returns",N,"documents as results."),R.documentReadCount>this.relativeIndexReadCostPerDocument*N)?(getLogLevel()<=W.in.DEBUG&&logDebug("QueryEngine","The SDK decides to create cache indexes for query:",stringifyQuery(S),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(Q,queryToTarget(S))):PersistencePromise.resolve()}performQueryUsingIndex(Q,S){if(queryMatchesAllDocuments(S))return PersistencePromise.resolve(null);let R=queryToTarget(S);return this.indexManager.getIndexType(Q,R).next(N=>0===N?null:(null!==S.limit&&1===N&&(R=queryToTarget(S=queryWithLimit(S,null,"F"))),this.indexManager.getDocumentsMatchingTarget(Q,R).next(N=>{let M=documentKeySet(...N);return this.localDocumentsView.getDocuments(Q,M).next(N=>this.indexManager.getMinOffset(Q,R).next(R=>{let L=this.applyQuery(S,N);return this.needsRefill(S,L,M,R.readTime)?this.performQueryUsingIndex(Q,queryWithLimit(S,null,"F")):this.appendRemainingResults(Q,L,S,R)}))})))}performQueryUsingRemoteKeys(Q,S,R,N){return queryMatchesAllDocuments(S)||N.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.localDocumentsView.getDocuments(Q,R).next(M=>{let L=this.applyQuery(S,M);return this.needsRefill(S,L,R,N)?PersistencePromise.resolve(null):(getLogLevel()<=W.in.DEBUG&&logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",N.toString(),stringifyQuery(S)),this.appendRemainingResults(Q,L,S,newIndexOffsetSuccessorFromReadTime(N,ep)).next(Q=>Q))})}applyQuery(Q,S){let R=new SortedSet(newQueryComparator(Q));return S.forEach((S,N)=>{queryMatches(Q,N)&&(R=R.add(N))}),R}needsRefill(Q,S,R,N){if(null===Q.limit)return!1;if(R.size!==S.size)return!0;let M="F"===Q.limitType?S.last():S.first();return!!M&&(M.hasPendingWrites||M.version.compareTo(N)>0)}executeFullCollectionScan(Q,S,R){return getLogLevel()<=W.in.DEBUG&&logDebug("QueryEngine","Using full collection scan to execute query:",stringifyQuery(S)),this.localDocumentsView.getDocumentsMatchingQuery(Q,S,IndexOffset.min(),R)}appendRemainingResults(Q,S,R,N){return this.localDocumentsView.getDocumentsMatchingQuery(Q,R,N).next(Q=>(S.forEach(S=>{Q=Q.insert(S.key,S)}),Q))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rG="firestore_clients";function createWebStorageClientStateKey(Q,S){return`${rG}_${Q}_${S}`}let rH="firestore_mutations";function createWebStorageMutationBatchKey(Q,S,R){let N=`${rH}_${Q}_${R}`;return S.isAuthenticated()&&(N+=`_${S.uid}`),N}let rY="firestore_targets";function createWebStorageQueryTargetMetadataKey(Q,S){return`${rY}_${Q}_${S}`}let rq="firestore_online_state";function createWebStorageOnlineStateKey(Q){return`${rq}_${Q}`}let rJ="firestore_bundle_loaded_v2";function createBundleLoadedKey(Q){return`${rJ}_${Q}`}let rW="firestore_sequence_number";function createWebStorageSequenceNumberKey(Q){return`${rW}_${Q}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rj="SharedClientState";let MutationMetadata=class MutationMetadata{constructor(Q,S,R,N){this.user=Q,this.batchId=S,this.state=R,this.error=N}static fromWebStorageEntry(Q,S,R){let N;let M=JSON.parse(R),L="object"==typeof M&&-1!==["pending","acknowledged","rejected"].indexOf(M.state)&&(void 0===M.error||"object"==typeof M.error);return(L&&M.error&&(L="string"==typeof M.error.message&&"string"==typeof M.error.code)&&(N=new FirestoreError(M.error.code,M.error.message)),L)?new MutationMetadata(Q,S,M.state,N):(logError(rj,`Failed to parse mutation state for ID '${S}': ${R}`),null)}toWebStorageJSON(){let Q={state:this.state,updateTimeMs:Date.now()};return this.error&&(Q.error={code:this.error.code,message:this.error.message}),JSON.stringify(Q)}};let QueryTargetMetadata=class QueryTargetMetadata{constructor(Q,S,R){this.targetId=Q,this.state=S,this.error=R}static fromWebStorageEntry(Q,S){let R;let N=JSON.parse(S),M="object"==typeof N&&-1!==["not-current","current","rejected"].indexOf(N.state)&&(void 0===N.error||"object"==typeof N.error);return(M&&N.error&&(M="string"==typeof N.error.message&&"string"==typeof N.error.code)&&(R=new FirestoreError(N.error.code,N.error.message)),M)?new QueryTargetMetadata(Q,N.state,R):(logError(rj,`Failed to parse target state for ID '${Q}': ${S}`),null)}toWebStorageJSON(){let Q={state:this.state,updateTimeMs:Date.now()};return this.error&&(Q.error={code:this.error.code,message:this.error.message}),JSON.stringify(Q)}};let RemoteClientState=class RemoteClientState{constructor(Q,S){this.clientId=Q,this.activeTargetIds=S}static fromWebStorageEntry(Q,S){let R=JSON.parse(S),N="object"==typeof R&&R.activeTargetIds instanceof Array,M=targetIdSet();for(let Q=0;N&&Q<R.activeTargetIds.length;++Q)N=isSafeInteger(R.activeTargetIds[Q]),M=M.add(R.activeTargetIds[Q]);return N?new RemoteClientState(Q,M):(logError(rj,`Failed to parse client data for instance '${Q}': ${S}`),null)}};let SharedOnlineState=class SharedOnlineState{constructor(Q,S){this.clientId=Q,this.onlineState=S}static fromWebStorageEntry(Q){let S=JSON.parse(Q),R="object"==typeof S&&-1!==["Unknown","Online","Offline"].indexOf(S.onlineState)&&"string"==typeof S.clientId;return R?new SharedOnlineState(S.clientId,S.onlineState):(logError(rj,`Failed to parse online state: ${Q}`),null)}};let LocalClientState=class LocalClientState{constructor(){this.activeTargetIds=targetIdSet()}addQueryTarget(Q){this.activeTargetIds=this.activeTargetIds.add(Q)}removeQueryTarget(Q){this.activeTargetIds=this.activeTargetIds.delete(Q)}toWebStorageJSON(){let Q={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(Q)}};let WebStorageSharedClientState=class WebStorageSharedClientState{constructor(Q,S,R,N,M){this.window=Q,this.queue=S,this.persistenceKey=R,this.localClientId=N,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new SortedMap(primitiveComparator),this.started=!1,this.earlyEvents=[];let L=R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=M,this.localClientStorageKey=createWebStorageClientStateKey(this.persistenceKey,this.localClientId),this.sequenceNumberKey=createWebStorageSequenceNumberKey(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new LocalClientState),this.clientStateKeyRe=RegExp(`^${rG}_${L}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${rH}_${L}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${rY}_${L}_(\\d+)$`),this.onlineStateKey=createWebStorageOnlineStateKey(this.persistenceKey),this.bundleLoadedKey=createBundleLoadedKey(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(Q){return!!(Q&&Q.localStorage)}async start(){let Q=await this.syncEngine.getActiveClients();for(let S of Q){if(S===this.localClientId)continue;let Q=this.getItem(createWebStorageClientStateKey(this.persistenceKey,S));if(Q){let R=RemoteClientState.fromWebStorageEntry(S,Q);R&&(this.activeClients=this.activeClients.insert(R.clientId,R))}}this.persistClientState();let S=this.storage.getItem(this.onlineStateKey);if(S){let Q=this.fromWebStorageOnlineState(S);Q&&this.handleOnlineStateEvent(Q)}for(let Q of this.earlyEvents)this.handleWebStorageEvent(Q);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(Q){this.setItem(this.sequenceNumberKey,JSON.stringify(Q))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(Q){let S=!1;return this.activeClients.forEach((R,N)=>{N.activeTargetIds.has(Q)&&(S=!0)}),S}addPendingMutation(Q){this.persistMutationState(Q,"pending")}updateMutationState(Q,S,R){this.persistMutationState(Q,S,R),this.removeMutationState(Q)}addLocalQueryTarget(Q){let S="not-current";if(this.isActiveQueryTarget(Q)){let R=this.storage.getItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,Q));if(R){let N=QueryTargetMetadata.fromWebStorageEntry(Q,R);N&&(S=N.state)}}return this.localClientState.addQueryTarget(Q),this.persistClientState(),S}removeLocalQueryTarget(Q){this.localClientState.removeQueryTarget(Q),this.persistClientState()}isLocalQueryTarget(Q){return this.localClientState.activeTargetIds.has(Q)}clearQueryState(Q){this.removeItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,Q))}updateQueryState(Q,S,R){this.persistQueryTargetState(Q,S,R)}handleUserChange(Q,S,R){S.forEach(Q=>{this.removeMutationState(Q)}),this.currentUser=Q,R.forEach(Q=>{this.addPendingMutation(Q)})}setOnlineState(Q){this.persistOnlineState(Q)}notifyBundleLoaded(Q){this.persistBundleLoadedState(Q)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(Q){let S=this.storage.getItem(Q);return logDebug(rj,"READ",Q,S),S}setItem(Q,S){logDebug(rj,"SET",Q,S),this.storage.setItem(Q,S)}removeItem(Q){logDebug(rj,"REMOVE",Q),this.storage.removeItem(Q)}handleWebStorageEvent(Q){let S=Q;if(S.storageArea===this.storage){if(logDebug(rj,"EVENT",S.key,S.newValue),S.key===this.localClientStorageKey){logError("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(S);return}if(null!==S.key){if(this.clientStateKeyRe.test(S.key)){if(null!=S.newValue){let Q=this.fromWebStorageClientState(S.key,S.newValue);if(Q)return this.handleClientStateEvent(Q.clientId,Q)}else{let Q=this.fromWebStorageClientStateKey(S.key);return this.handleClientStateEvent(Q,null)}}else if(this.mutationBatchKeyRe.test(S.key)){if(null!==S.newValue){let Q=this.fromWebStorageMutationMetadata(S.key,S.newValue);if(Q)return this.handleMutationBatchEvent(Q)}}else if(this.queryTargetKeyRe.test(S.key)){if(null!==S.newValue){let Q=this.fromWebStorageQueryTargetMetadata(S.key,S.newValue);if(Q)return this.handleQueryTargetEvent(Q)}}else if(S.key===this.onlineStateKey){if(null!==S.newValue){let Q=this.fromWebStorageOnlineState(S.newValue);if(Q)return this.handleOnlineStateEvent(Q)}}else if(S.key===this.sequenceNumberKey){let Q=fromWebStorageSequenceNumber(S.newValue);Q!==ListenSequence.INVALID&&this.sequenceNumberHandler(Q)}else if(S.key===this.bundleLoadedKey){let Q=this.fromWebStoreBundleLoadedState(S.newValue);await Promise.all(Q.map(Q=>this.syncEngine.synchronizeWithChangedDocuments(Q)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(Q,S,R){let N=new MutationMetadata(this.currentUser,Q,S,R),M=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,Q);this.setItem(M,N.toWebStorageJSON())}removeMutationState(Q){let S=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,Q);this.removeItem(S)}persistOnlineState(Q){let S={clientId:this.localClientId,onlineState:Q};this.storage.setItem(this.onlineStateKey,JSON.stringify(S))}persistQueryTargetState(Q,S,R){let N=createWebStorageQueryTargetMetadataKey(this.persistenceKey,Q),M=new QueryTargetMetadata(Q,S,R);this.setItem(N,M.toWebStorageJSON())}persistBundleLoadedState(Q){let S=JSON.stringify(Array.from(Q));this.setItem(this.bundleLoadedKey,S)}fromWebStorageClientStateKey(Q){let S=this.clientStateKeyRe.exec(Q);return S?S[1]:null}fromWebStorageClientState(Q,S){let R=this.fromWebStorageClientStateKey(Q);return RemoteClientState.fromWebStorageEntry(R,S)}fromWebStorageMutationMetadata(Q,S){let R=this.mutationBatchKeyRe.exec(Q),N=Number(R[1]),M=void 0!==R[2]?R[2]:null;return MutationMetadata.fromWebStorageEntry(new User(M),N,S)}fromWebStorageQueryTargetMetadata(Q,S){let R=this.queryTargetKeyRe.exec(Q),N=Number(R[1]);return QueryTargetMetadata.fromWebStorageEntry(N,S)}fromWebStorageOnlineState(Q){return SharedOnlineState.fromWebStorageEntry(Q)}fromWebStoreBundleLoadedState(Q){return JSON.parse(Q)}async handleMutationBatchEvent(Q){if(Q.user.uid!==this.currentUser.uid){logDebug(rj,`Ignoring mutation for non-active user ${Q.user.uid}`);return}return this.syncEngine.applyBatchState(Q.batchId,Q.state,Q.error)}handleQueryTargetEvent(Q){return this.syncEngine.applyTargetState(Q.targetId,Q.state,Q.error)}handleClientStateEvent(Q,S){let R=S?this.activeClients.insert(Q,S):this.activeClients.remove(Q),N=this.extractActiveQueryTargets(this.activeClients),M=this.extractActiveQueryTargets(R),L=[],U=[];return M.forEach(Q=>{N.has(Q)||L.push(Q)}),N.forEach(Q=>{M.has(Q)||U.push(Q)}),this.syncEngine.applyActiveTargetsChange(L,U).then(()=>{this.activeClients=R})}handleOnlineStateEvent(Q){this.activeClients.get(Q.clientId)&&this.onlineStateHandler(Q.onlineState)}extractActiveQueryTargets(Q){let S=targetIdSet();return Q.forEach((Q,R)=>{S=S.unionWith(R.activeTargetIds)}),S}};function fromWebStorageSequenceNumber(Q){let S=ListenSequence.INVALID;if(null!=Q)try{let R=JSON.parse(Q);hardAssert("number"==typeof R),S=R}catch(Q){logError(rj,"Failed to read sequence number from WebStorage",Q)}return S}let MemorySharedClientState=class MemorySharedClientState{constructor(){this.localState=new LocalClientState,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(Q){}updateMutationState(Q,S,R){}addLocalQueryTarget(Q){return this.localState.addQueryTarget(Q),this.queryState[Q]||"not-current"}updateQueryState(Q,S,R){this.queryState[Q]=S}removeLocalQueryTarget(Q){this.localState.removeQueryTarget(Q)}isLocalQueryTarget(Q){return this.localState.activeTargetIds.has(Q)}clearQueryState(Q){delete this.queryState[Q]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(Q){return this.localState.activeTargetIds.has(Q)}start(){return this.localState=new LocalClientState,Promise.resolve()}handleUserChange(Q,S,R){}setOnlineState(Q){}shutdown(){}writeSequenceNumber(Q){}notifyBundleLoaded(Q){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NoopConnectivityMonitor=class NoopConnectivityMonitor{addCallback(Q){}shutdown(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StreamBridge=class StreamBridge{constructor(Q){this.sendFn=Q.sendFn,this.closeFn=Q.closeFn}onConnected(Q){this.wrappedOnConnected=Q}onOpen(Q){this.wrappedOnOpen=Q}onClose(Q){this.wrappedOnClose=Q}onMessage(Q){this.wrappedOnMessage=Q}close(){this.closeFn()}send(Q){this.sendFn(Q)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(Q){this.wrappedOnClose(Q)}callOnMessage(Q){this.wrappedOnMessage(Q)}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rz=null;function generateInitialUniqueDebugId(){let Q=268435456,S=2415919104,R=S-Q,N=Math.round(R*Math.random());return Q+N}function generateUniqueDebugId(){return null===rz?rz=generateInitialUniqueDebugId():rz++,"0x"+rz.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nodePromise(Q){return new Promise((S,R)=>{Q((Q,N)=>{Q?R(Q):S(N)})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rK="1.9.1",rX="GrpcConnection",rZ=`gl-node/${process.versions.node} fire/${ea} grpc/${rK}`;function createMetadata(Q,S,R,N){hardAssert(null===S||"OAuth"===S.type);let M=new et.SF;return S&&S.headers.forEach((Q,S)=>M.set(S,Q)),R&&R.headers.forEach((Q,S)=>M.set(S,Q)),N&&M.set("X-Firebase-GMPID",N),M.set("X-Goog-Api-Client",rZ),M.set("Google-Cloud-Resource-Prefix",Q),M.set("x-goog-request-params",Q),M}let GrpcConnection=class GrpcConnection{constructor(Q,S){this.databaseInfo=S,this.cachedStub=null,this.firestore=Q.google.firestore.v1,this.databasePath=`projects/${S.databaseId.projectId}/databases/${S.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){logDebug(rX,"Creating Firestore stub.");let Q=this.databaseInfo.ssl?et.K9.createSsl():et.K9.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,Q)}return this.cachedStub}invokeRPC(Q,S,R,N,M){let L=generateUniqueDebugId(),U=this.ensureActiveStub(),P=createMetadata(this.databasePath,N,M,this.databaseInfo.appId),Y=Object.assign({database:this.databasePath},R);return nodePromise(S=>(logDebug(rX,`RPC '${Q}' ${L} invoked with request:`,R),U[Q](Y,P,(R,N)=>{R?(logDebug(rX,`RPC '${Q}' ${L} failed with error:`,R),S(new FirestoreError(mapCodeFromRpcCode(R.code),R.message))):(logDebug(rX,`RPC '${Q}' ${L} completed with response:`,N),S(void 0,N))})))}invokeStreamingRPC(Q,S,R,N,M,L){let U=generateUniqueDebugId(),P=[],Y=new Deferred;logDebug(rX,`RPC '${Q}' ${U} invoked (streaming) with request:`,R);let W=this.ensureActiveStub(),K=createMetadata(this.databasePath,N,M,this.databaseInfo.appId),X=Object.assign(Object.assign({},R),{database:this.databasePath}),Z=W[Q](X,K),$=!1;return Z.on("data",S=>{logDebug(rX,`RPC ${Q} ${U} received result:`,S),P.push(S),void 0!==L&&P.length===L&&($=!0,Y.resolve(P))}),Z.on("end",()=>{logDebug(rX,`RPC '${Q}' ${U} completed.`),$||($=!0,Y.resolve(P))}),Z.on("error",S=>{logDebug(rX,`RPC '${Q}' ${U} failed with error:`,S);let R=mapCodeFromRpcCode(S.code);Y.reject(new FirestoreError(R,S.message))}),Y.promise}openStream(Q,S,R){let N=generateUniqueDebugId(),M=this.ensureActiveStub(),L=createMetadata(this.databasePath,S,R,this.databaseInfo.appId),U=M[Q](L),P=!1,close=Q=>{P||(P=!0,Y.callOnClose(Q),U.end())},Y=new StreamBridge({sendFn:S=>{if(P)logDebug(rX,`RPC '${Q}' stream ${N} not sending because gRPC stream is closed:`,S);else{logDebug(rX,`RPC '${Q}' stream ${N} sending:`,S);try{U.write(S)}catch(Q){throw logError("Failure sending:",S),logError("Error:",Q),Q}}},closeFn:()=>{logDebug(rX,`RPC '${Q}' stream ${N} closed locally via close().`),close()}}),W=!1;return U.on("data",S=>{P||(logDebug(rX,`RPC '${Q}' stream ${N} received:`,S),W||(Y.callOnConnected(),W=!0),Y.callOnMessage(S))}),U.on("end",()=>{logDebug(rX,`RPC '${Q}' stream ${N} ended.`),close()}),U.on("error",S=>{if(!P){logWarn(rX,`RPC '${Q}' stream ${N} error. Code:`,S.code,"Message:",S.message);let R=mapCodeFromRpcCode(S.code);close(new FirestoreError(R,S.message))}}),logDebug(rX,`Opening RPC '${Q}' stream ${N} to ${this.databaseInfo.host}`),setTimeout(()=>{Y.callOnOpen()},0),Y}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}};let r$={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var r0={nested:r$},r1=Object.freeze({__proto__:null,nested:r$,default:r0});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r2={longs:String,enums:String,defaults:!0,oneofs:!1};function loadProtos(){let Q=en.im(r1,r2);return et.Rz(Q)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newConnection(Q){let S=loadProtos();return new GrpcConnection(S,Q)}function newConnectivityMonitor(){return new NoopConnectivityMonitor}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getWindow(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function getDocument(){return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSerializer(Q){return new JsonProtoSerializer(Q,!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r4="ExponentialBackoff",r9=1e3,r3=1.5,r8=6e4;let ExponentialBackoff=class ExponentialBackoff{constructor(Q,S,R=r9,N=r3,M=r8){this.queue=Q,this.timerId=S,this.initialDelayMs=R,this.backoffFactor=N,this.maxDelayMs=M,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(Q){this.cancel();let S=Math.floor(this.currentBaseMs+this.jitterDelayMs()),R=Math.max(0,Date.now()-this.lastAttemptTime),N=Math.max(0,S-R);N>0&&logDebug(r4,`Backing off for ${N} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${S} ms, last attempt: ${R} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,N,()=>(this.lastAttemptTime=Date.now(),Q())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r5="PersistentStream",r6=6e4,r7=1e4;let PersistentStream=class PersistentStream{constructor(Q,S,R,N,M,L,U,P){this.queue=Q,this.idleTimerId=R,this.healthTimerId=N,this.connection=M,this.authCredentialsProvider=L,this.appCheckCredentialsProvider=U,this.listener=P,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.backoff=new ExponentialBackoff(Q,S)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){if(4===this.state){this.performBackoff();return}this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,r6,()=>this.handleIdleCloseTimer()))}sendRequest(Q){this.cancelIdleCheck(),this.stream.send(Q)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close(Q,S){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==Q?this.backoff.reset():S&&S.code===ec.RESOURCE_EXHAUSTED?(logError(S.toString()),logError("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):S&&S.code===ec.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=Q,await this.listener.onClose(S)}tearDown(){}auth(){this.state=1;let Q=this.getCloseGuardedDispatcher(this.closeCount),S=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([Q,R])=>{this.closeCount===S&&this.startStream(Q,R)},S=>{Q(()=>{let Q=new FirestoreError(ec.UNKNOWN,"Fetching auth token failed: "+S.message);return this.handleStreamClose(Q)})})}startStream(Q,S){let R=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(Q,S),this.stream.onConnected(()=>{R(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{R(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,r7,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(Q=>{R(()=>this.handleStreamClose(Q))}),this.stream.onMessage(Q=>{R(()=>this.onMessage(Q))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose(Q){return logDebug(r5,`close with error: ${Q}`),this.stream=null,this.close(4,Q)}getCloseGuardedDispatcher(Q){return S=>{this.queue.enqueueAndForget(()=>this.closeCount===Q?S():(logDebug(r5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};let PersistentListenStream=class PersistentListenStream extends PersistentStream{constructor(Q,S,R,N,M,L){super(Q,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",S,R,N,L),this.serializer=M}startRpc(Q,S){return this.connection.openStream("Listen",Q,S)}onMessage(Q){this.backoff.reset();let S=fromWatchChange(this.serializer,Q),R=versionFromListenResponse(Q);return this.listener.onWatchChange(S,R)}watch(Q){let S={};S.database=getEncodedDatabaseId(this.serializer),S.addTarget=toTarget(this.serializer,Q);let R=toListenRequestLabels(this.serializer,Q);R&&(S.labels=R),this.sendRequest(S)}unwatch(Q){let S={};S.database=getEncodedDatabaseId(this.serializer),S.removeTarget=Q,this.sendRequest(S)}};let PersistentWriteStream=class PersistentWriteStream extends PersistentStream{constructor(Q,S,R,N,M,L){super(Q,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",S,R,N,L),this.serializer=M,this.handshakeComplete_=!1}get handshakeComplete(){return this.handshakeComplete_}start(){this.handshakeComplete_=!1,this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete_&&this.writeMutations([])}startRpc(Q,S){return this.connection.openStream("Write",Q,S)}onMessage(Q){if(hardAssert(!!Q.streamToken),this.lastStreamToken=Q.streamToken,!this.handshakeComplete_)return hardAssert(!Q.writeResults||0===Q.writeResults.length),this.handshakeComplete_=!0,this.listener.onHandshakeComplete();{this.backoff.reset();let S=fromWriteResults(Q.writeResults,Q.commitTime),R=fromVersion(Q.commitTime);return this.listener.onMutationResult(R,S)}}writeHandshake(){let Q={};Q.database=getEncodedDatabaseId(this.serializer),this.sendRequest(Q)}writeMutations(Q){let S={streamToken:this.lastStreamToken,writes:Q.map(Q=>toMutation(this.serializer,Q))};this.sendRequest(S)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Datastore=class Datastore{};let DatastoreImpl=class DatastoreImpl extends Datastore{constructor(Q,S,R,N){super(),this.authCredentials=Q,this.appCheckCredentials=S,this.connection=R,this.serializer=N,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new FirestoreError(ec.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(Q,S,R,N){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([M,L])=>this.connection.invokeRPC(Q,toResourcePath(S,R),N,M,L)).catch(Q=>{if("FirebaseError"===Q.name)throw Q.code===ec.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Q;throw new FirestoreError(ec.UNKNOWN,Q.toString())})}invokeStreamingRPC(Q,S,R,N,M){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([L,U])=>this.connection.invokeStreamingRPC(Q,toResourcePath(S,R),N,L,U,M)).catch(Q=>{if("FirebaseError"===Q.name)throw Q.code===ec.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Q;throw new FirestoreError(ec.UNKNOWN,Q.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}};function newDatastore(Q,S,R,N){return new DatastoreImpl(Q,S,R,N)}async function invokeCommitRpc(Q,S){let R=debugCast(Q),N={writes:S.map(Q=>toMutation(R.serializer,Q))};await R.invokeRPC("Commit",R.serializer.databaseId,ResourcePath.emptyPath(),N)}async function invokeBatchGetDocumentsRpc(Q,S){let R=debugCast(Q),N={documents:S.map(Q=>toName(R.serializer,Q))},M=await R.invokeStreamingRPC("BatchGetDocuments",R.serializer.databaseId,ResourcePath.emptyPath(),N,S.length),L=new Map;M.forEach(Q=>{let S=fromBatchGetDocumentsResponse(R.serializer,Q);L.set(S.key.toString(),S)});let U=[];return S.forEach(Q=>{let S=L.get(Q.toString());hardAssert(!!S),U.push(S)}),U}async function invokeRunAggregationQueryRpc(Q,S,R){var N;let M=debugCast(Q),{request:L,aliasMap:U,parent:P}=toRunAggregationQueryRequest(M.serializer,queryToAggregateTarget(S),R);M.connection.shouldResourcePathBeIncludedInRequest||delete L.parent;let Y=await M.invokeStreamingRPC("RunAggregationQuery",M.serializer.databaseId,P,L,1),W=Y.filter(Q=>!!Q.result);hardAssert(1===W.length);let K=null===(N=W[0].result)||void 0===N?void 0:N.aggregateFields,X=Object.keys(K).reduce((Q,S)=>(Q[U[S]]=K[S],Q),{});return X}function newPersistentWriteStream(Q,S,R){let N=debugCast(Q);return N.verifyInitialized(),new PersistentWriteStream(S,N.connection,N.authCredentials,N.appCheckCredentials,N.serializer,R)}function newPersistentWatchStream(Q,S,R){let N=debugCast(Q);return N.verifyInitialized(),new PersistentListenStream(S,N.connection,N.authCredentials,N.appCheckCredentials,N.serializer,R)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ne="OnlineStateTracker",nt=1,nn=1e4;let OnlineStateTracker=class OnlineStateTracker{constructor(Q,S){this.asyncQueue=Q,this.onlineStateHandler=S,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",nn,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${nn/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(Q){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=nt&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${nt} times. Most recent error: ${Q.toString()}`),this.setAndBroadcast("Offline")))}set(Q){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===Q&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(Q)}setAndBroadcast(Q){Q!==this.state&&(this.state=Q,this.onlineStateHandler(Q))}logClientOfflineWarningIfNecessary(Q){let S=`Could not reach Cloud Firestore backend. ${Q}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(logError(S),this.shouldWarnClientIsOffline=!1):logDebug(ne,S)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ni="RemoteStore",no=10;let RemoteStoreImpl=class RemoteStoreImpl{constructor(Q,S,R,N,M){this.localStore=Q,this.datastore=S,this.asyncQueue=R,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=M,this.connectivityMonitor.addCallback(Q=>{R.enqueueAndForget(async()=>{canUseNetwork(this)&&(logDebug(ni,"Restarting streams for network reachability change."),await restartNetwork(this))})}),this.onlineStateTracker=new OnlineStateTracker(R,N)}};function newRemoteStore(Q,S,R,N,M){return new RemoteStoreImpl(Q,S,R,N,M)}async function enableNetworkInternal(Q){if(canUseNetwork(Q))for(let S of Q.onNetworkStatusChange)await S(!0)}async function disableNetworkInternal(Q){for(let S of Q.onNetworkStatusChange)await S(!1)}async function remoteStoreShutdown(Q){let S=debugCast(Q);logDebug(ni,"RemoteStore shutting down."),S.offlineCauses.add(5),await disableNetworkInternal(S),S.connectivityMonitor.shutdown(),S.onlineStateTracker.set("Unknown")}function remoteStoreListen(Q,S){let R=debugCast(Q);!R.listenTargets.has(S.targetId)&&(R.listenTargets.set(S.targetId,S),shouldStartWatchStream(R)?startWatchStream(R):ensureWatchStream(R).isOpen()&&sendWatchRequest(R,S))}function remoteStoreUnlisten(Q,S){let R=debugCast(Q),N=ensureWatchStream(R);R.listenTargets.delete(S),N.isOpen()&&sendUnwatchRequest(R,S),0===R.listenTargets.size&&(N.isOpen()?N.markIdle():canUseNetwork(R)&&R.onlineStateTracker.set("Unknown"))}function sendWatchRequest(Q,S){if(Q.watchChangeAggregator.recordPendingTargetRequest(S.targetId),S.resumeToken.approximateByteSize()>0||S.snapshotVersion.compareTo(SnapshotVersion.min())>0){let R=Q.remoteSyncer.getRemoteKeysForTarget(S.targetId).size;S=S.withExpectedCount(R)}ensureWatchStream(Q).watch(S)}function sendUnwatchRequest(Q,S){Q.watchChangeAggregator.recordPendingTargetRequest(S),ensureWatchStream(Q).unwatch(S)}function startWatchStream(Q){Q.watchChangeAggregator=new WatchChangeAggregator({getRemoteKeysForTarget:S=>Q.remoteSyncer.getRemoteKeysForTarget(S),getTargetDataForTarget:S=>Q.listenTargets.get(S)||null,getDatabaseId:()=>Q.datastore.serializer.databaseId}),ensureWatchStream(Q).start(),Q.onlineStateTracker.handleWatchStreamStart()}function shouldStartWatchStream(Q){return canUseNetwork(Q)&&!ensureWatchStream(Q).isStarted()&&Q.listenTargets.size>0}function canUseNetwork(Q){let S=debugCast(Q);return 0===S.offlineCauses.size}function cleanUpWatchStreamState(Q){Q.watchChangeAggregator=void 0}async function onWatchStreamConnected(Q){Q.onlineStateTracker.set("Online")}async function onWatchStreamOpen(Q){Q.listenTargets.forEach((S,R)=>{sendWatchRequest(Q,S)})}async function onWatchStreamClose(Q,S){cleanUpWatchStreamState(Q),shouldStartWatchStream(Q)?(Q.onlineStateTracker.handleWatchStreamFailure(S),startWatchStream(Q)):Q.onlineStateTracker.set("Unknown")}async function onWatchStreamChange(Q,S,R){if(Q.onlineStateTracker.set("Online"),S instanceof WatchTargetChange&&2===S.state&&S.cause){try{await handleTargetError(Q,S)}catch(R){logDebug(ni,"Failed to remove targets %s: %s ",S.targetIds.join(","),R),await disableNetworkUntilRecovery(Q,R)}return}if(S instanceof DocumentWatchChange?Q.watchChangeAggregator.handleDocumentChange(S):S instanceof ExistenceFilterChange?Q.watchChangeAggregator.handleExistenceFilter(S):Q.watchChangeAggregator.handleTargetChange(S),!R.isEqual(SnapshotVersion.min()))try{let S=await localStoreGetLastRemoteSnapshotVersion(Q.localStore);R.compareTo(S)>=0&&await raiseWatchSnapshot(Q,R)}catch(S){logDebug(ni,"Failed to raise snapshot:",S),await disableNetworkUntilRecovery(Q,S)}}async function disableNetworkUntilRecovery(Q,S,R){if(isIndexedDbTransactionError(S))Q.offlineCauses.add(1),await disableNetworkInternal(Q),Q.onlineStateTracker.set("Offline"),R||(R=()=>localStoreGetLastRemoteSnapshotVersion(Q.localStore)),Q.asyncQueue.enqueueRetryable(async()=>{logDebug(ni,"Retrying IndexedDB access"),await R(),Q.offlineCauses.delete(1),await enableNetworkInternal(Q)});else throw S}function executeWithRecovery(Q,S){return S().catch(R=>disableNetworkUntilRecovery(Q,R,S))}function raiseWatchSnapshot(Q,S){let R=Q.watchChangeAggregator.createRemoteEvent(S);return R.targetChanges.forEach((R,N)=>{if(R.resumeToken.approximateByteSize()>0){let M=Q.listenTargets.get(N);M&&Q.listenTargets.set(N,M.withResumeToken(R.resumeToken,S))}}),R.targetMismatches.forEach((S,R)=>{let N=Q.listenTargets.get(S);if(!N)return;Q.listenTargets.set(S,N.withResumeToken(ByteString.EMPTY_BYTE_STRING,N.snapshotVersion)),sendUnwatchRequest(Q,S);let M=new TargetData(N.target,S,R,N.sequenceNumber);sendWatchRequest(Q,M)}),Q.remoteSyncer.applyRemoteEvent(R)}async function handleTargetError(Q,S){let R=S.cause;for(let N of S.targetIds)Q.listenTargets.has(N)&&(await Q.remoteSyncer.rejectListen(N,R),Q.listenTargets.delete(N),Q.watchChangeAggregator.removeTarget(N))}async function fillWritePipeline(Q){let S=debugCast(Q),R=ensureWriteStream(S),N=S.writePipeline.length>0?S.writePipeline[S.writePipeline.length-1].batchId:tG;for(;canAddToWritePipeline(S);)try{let Q=await localStoreGetNextMutationBatch(S.localStore,N);if(null===Q){0===S.writePipeline.length&&R.markIdle();break}N=Q.batchId,addToWritePipeline(S,Q)}catch(Q){await disableNetworkUntilRecovery(S,Q)}shouldStartWriteStream(S)&&startWriteStream(S)}function canAddToWritePipeline(Q){return canUseNetwork(Q)&&Q.writePipeline.length<no}function addToWritePipeline(Q,S){Q.writePipeline.push(S);let R=ensureWriteStream(Q);R.isOpen()&&R.handshakeComplete&&R.writeMutations(S.mutations)}function shouldStartWriteStream(Q){return canUseNetwork(Q)&&!ensureWriteStream(Q).isStarted()&&Q.writePipeline.length>0}function startWriteStream(Q){ensureWriteStream(Q).start()}async function onWriteStreamOpen(Q){ensureWriteStream(Q).writeHandshake()}async function onWriteHandshakeComplete(Q){let S=ensureWriteStream(Q);for(let R of Q.writePipeline)S.writeMutations(R.mutations)}async function onMutationResult(Q,S,R){let N=Q.writePipeline.shift(),M=MutationBatchResult.from(N,S,R);await executeWithRecovery(Q,()=>Q.remoteSyncer.applySuccessfulWrite(M)),await fillWritePipeline(Q)}async function onWriteStreamClose(Q,S){S&&ensureWriteStream(Q).handshakeComplete&&await handleWriteError(Q,S),shouldStartWriteStream(Q)&&startWriteStream(Q)}async function handleWriteError(Q,S){if(isPermanentWriteError(S.code)){let R=Q.writePipeline.shift();ensureWriteStream(Q).inhibitBackoff(),await executeWithRecovery(Q,()=>Q.remoteSyncer.rejectFailedWrite(R.batchId,S)),await fillWritePipeline(Q)}}async function restartNetwork(Q){let S=debugCast(Q);S.offlineCauses.add(4),await disableNetworkInternal(S),S.onlineStateTracker.set("Unknown"),S.offlineCauses.delete(4),await enableNetworkInternal(S)}async function remoteStoreHandleCredentialChange(Q,S){let R=debugCast(Q);R.asyncQueue.verifyOperationInProgress(),logDebug(ni,"RemoteStore received new credentials");let N=canUseNetwork(R);R.offlineCauses.add(3),await disableNetworkInternal(R),N&&R.onlineStateTracker.set("Unknown"),await R.remoteSyncer.handleCredentialChange(S),R.offlineCauses.delete(3),await enableNetworkInternal(R)}async function remoteStoreApplyPrimaryState(Q,S){let R=debugCast(Q);S?(R.offlineCauses.delete(2),await enableNetworkInternal(R)):S||(R.offlineCauses.add(2),await disableNetworkInternal(R),R.onlineStateTracker.set("Unknown"))}function ensureWatchStream(Q){return Q.watchStream||(Q.watchStream=newPersistentWatchStream(Q.datastore,Q.asyncQueue,{onConnected:onWatchStreamConnected.bind(null,Q),onOpen:onWatchStreamOpen.bind(null,Q),onClose:onWatchStreamClose.bind(null,Q),onWatchChange:onWatchStreamChange.bind(null,Q)}),Q.onNetworkStatusChange.push(async S=>{S?(Q.watchStream.inhibitBackoff(),shouldStartWatchStream(Q)?startWatchStream(Q):Q.onlineStateTracker.set("Unknown")):(await Q.watchStream.stop(),cleanUpWatchStreamState(Q))})),Q.watchStream}function ensureWriteStream(Q){return Q.writeStream||(Q.writeStream=newPersistentWriteStream(Q.datastore,Q.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:onWriteStreamOpen.bind(null,Q),onClose:onWriteStreamClose.bind(null,Q),onHandshakeComplete:onWriteHandshakeComplete.bind(null,Q),onMutationResult:onMutationResult.bind(null,Q)}),Q.onNetworkStatusChange.push(async S=>{S?(Q.writeStream.inhibitBackoff(),await fillWritePipeline(Q)):(await Q.writeStream.stop(),Q.writePipeline.length>0&&(logDebug(ni,`Stopping write stream with ${Q.writePipeline.length} pending writes`),Q.writePipeline=[]))})),Q.writeStream}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="AsyncQueue";let DelayedOperation=class DelayedOperation{constructor(Q,S,R,N,M){this.asyncQueue=Q,this.timerId=S,this.targetTimeMs=R,this.op=N,this.removalCallback=M,this.deferred=new Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(Q=>{})}get promise(){return this.deferred.promise}static createAndSchedule(Q,S,R,N,M){let L=Date.now()+R,U=new DelayedOperation(Q,S,L,N,M);return U.start(R),U}start(Q){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),Q)}skipDelay(){return this.handleDelayElapsed()}cancel(Q){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(ec.CANCELLED,"Operation cancelled"+(Q?": "+Q:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(Q=>this.deferred.resolve(Q))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function wrapInUserErrorIfRecoverable(Q,S){if(logError(na,`${S}: ${Q}`),isIndexedDbTransactionError(Q))return new FirestoreError(ec.UNAVAILABLE,`${S}: ${Q}`);throw Q}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentSet=class DocumentSet{constructor(Q){Q?this.comparator=(S,R)=>Q(S,R)||DocumentKey.comparator(S.key,R.key):this.comparator=(Q,S)=>DocumentKey.comparator(Q.key,S.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(Q){return new DocumentSet(Q.comparator)}has(Q){return null!=this.keyedMap.get(Q)}get(Q){return this.keyedMap.get(Q)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(Q){let S=this.keyedMap.get(Q);return S?this.sortedSet.indexOf(S):-1}get size(){return this.sortedSet.size}forEach(Q){this.sortedSet.inorderTraversal((S,R)=>(Q(S),!1))}add(Q){let S=this.delete(Q.key);return S.copy(S.keyedMap.insert(Q.key,Q),S.sortedSet.insert(Q,null))}delete(Q){let S=this.get(Q);return S?this.copy(this.keyedMap.remove(Q),this.sortedSet.remove(S)):this}isEqual(Q){if(!(Q instanceof DocumentSet)||this.size!==Q.size)return!1;let S=this.sortedSet.getIterator(),R=Q.sortedSet.getIterator();for(;S.hasNext();){let Q=S.getNext().key,N=R.getNext().key;if(!Q.isEqual(N))return!1}return!0}toString(){let Q=[];return(this.forEach(S=>{Q.push(S.toString())}),0===Q.length)?"DocumentSet ()":"DocumentSet (\n  "+Q.join("  \n")+"\n)"}copy(Q,S){let R=new DocumentSet;return R.comparator=this.comparator,R.keyedMap=Q,R.sortedSet=S,R}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentChangeSet=class DocumentChangeSet{constructor(){this.changeMap=new SortedMap(DocumentKey.comparator)}track(Q){let S=Q.doc.key,R=this.changeMap.get(S);if(!R){this.changeMap=this.changeMap.insert(S,Q);return}0!==Q.type&&3===R.type?this.changeMap=this.changeMap.insert(S,Q):3===Q.type&&1!==R.type?this.changeMap=this.changeMap.insert(S,{type:R.type,doc:Q.doc}):2===Q.type&&2===R.type?this.changeMap=this.changeMap.insert(S,{type:2,doc:Q.doc}):2===Q.type&&0===R.type?this.changeMap=this.changeMap.insert(S,{type:0,doc:Q.doc}):1===Q.type&&0===R.type?this.changeMap=this.changeMap.remove(S):1===Q.type&&2===R.type?this.changeMap=this.changeMap.insert(S,{type:1,doc:R.doc}):0===Q.type&&1===R.type?this.changeMap=this.changeMap.insert(S,{type:2,doc:Q.doc}):fail()}getChanges(){let Q=[];return this.changeMap.inorderTraversal((S,R)=>{Q.push(R)}),Q}};let ViewSnapshot=class ViewSnapshot{constructor(Q,S,R,N,M,L,U,P,Y){this.query=Q,this.docs=S,this.oldDocs=R,this.docChanges=N,this.mutatedKeys=M,this.fromCache=L,this.syncStateChanged=U,this.excludesMetadataChanges=P,this.hasCachedResults=Y}static fromInitialDocuments(Q,S,R,N,M){let L=[];return S.forEach(Q=>{L.push({type:0,doc:Q})}),new ViewSnapshot(Q,S,DocumentSet.emptySet(S),L,R,N,!0,!1,M)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(Q){if(this.fromCache!==Q.fromCache||this.hasCachedResults!==Q.hasCachedResults||this.syncStateChanged!==Q.syncStateChanged||!this.mutatedKeys.isEqual(Q.mutatedKeys)||!queryEquals(this.query,Q.query)||!this.docs.isEqual(Q.docs)||!this.oldDocs.isEqual(Q.oldDocs))return!1;let S=this.docChanges,R=Q.docChanges;if(S.length!==R.length)return!1;for(let Q=0;Q<S.length;Q++)if(S[Q].type!==R[Q].type||!S[Q].doc.isEqual(R[Q].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QueryListenersInfo=class QueryListenersInfo{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(Q=>Q.listensToRemoteStore())}};function newEventManager(){return new EventManagerImpl}let EventManagerImpl=class EventManagerImpl{constructor(){this.queries=new ObjectMap(Q=>canonifyQuery(Q),queryEquals),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}};async function eventManagerListen(Q,S){let R=debugCast(Q),N=3,M=S.query,L=R.queries.get(M);L?!L.hasRemoteListeners()&&S.listensToRemoteStore()&&(N=2):(L=new QueryListenersInfo,N=S.listensToRemoteStore()?0:1);try{switch(N){case 0:L.viewSnap=await R.onListen(M,!0);break;case 1:L.viewSnap=await R.onListen(M,!1);break;case 2:await R.onFirstRemoteStoreListen(M)}}catch(R){let Q=wrapInUserErrorIfRecoverable(R,`Initialization of query '${stringifyQuery(S.query)}' failed`);S.onError(Q);return}if(R.queries.set(M,L),L.listeners.push(S),S.applyOnlineStateChange(R.onlineState),L.viewSnap){let Q=S.onViewSnapshot(L.viewSnap);Q&&raiseSnapshotsInSyncEvent(R)}}async function eventManagerUnlisten(Q,S){let R=debugCast(Q),N=S.query,M=3,L=R.queries.get(N);if(L){let Q=L.listeners.indexOf(S);Q>=0&&(L.listeners.splice(Q,1),0===L.listeners.length?M=S.listensToRemoteStore()?0:1:!L.hasRemoteListeners()&&S.listensToRemoteStore()&&(M=2))}switch(M){case 0:return R.queries.delete(N),R.onUnlisten(N,!0);case 1:return R.queries.delete(N),R.onUnlisten(N,!1);case 2:return R.onLastRemoteStoreUnlisten(N);default:return}}function eventManagerOnWatchChange(Q,S){let R=debugCast(Q),N=!1;for(let Q of S){let S=Q.query,M=R.queries.get(S);if(M){for(let S of M.listeners)S.onViewSnapshot(Q)&&(N=!0);M.viewSnap=Q}}N&&raiseSnapshotsInSyncEvent(R)}function eventManagerOnWatchError(Q,S,R){let N=debugCast(Q),M=N.queries.get(S);if(M)for(let Q of M.listeners)Q.onError(R);N.queries.delete(S)}function eventManagerOnOnlineStateChange(Q,S){let R=debugCast(Q);R.onlineState=S;let N=!1;R.queries.forEach((Q,R)=>{for(let Q of R.listeners)Q.applyOnlineStateChange(S)&&(N=!0)}),N&&raiseSnapshotsInSyncEvent(R)}function raiseSnapshotsInSyncEvent(Q){Q.snapshotsInSyncListeners.forEach(Q=>{Q.next()})}!function(Q){Q.Default="default",Q.Cache="cache"}(U||(U={}));let QueryListener=class QueryListener{constructor(Q,S,R){this.query=Q,this.queryObserver=S,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=R||{}}onViewSnapshot(Q){if(!this.options.includeMetadataChanges){let S=[];for(let R of Q.docChanges)3!==R.type&&S.push(R);Q=new ViewSnapshot(Q.query,Q.docs,Q.oldDocs,S,Q.mutatedKeys,Q.fromCache,Q.syncStateChanged,!0,Q.hasCachedResults)}let S=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(Q)&&(this.queryObserver.next(Q),S=!0):this.shouldRaiseInitialEvent(Q,this.onlineState)&&(this.raiseInitialEvent(Q),S=!0),this.snap=Q,S}onError(Q){this.queryObserver.error(Q)}applyOnlineStateChange(Q){this.onlineState=Q;let S=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,Q)&&(this.raiseInitialEvent(this.snap),S=!0),S}shouldRaiseInitialEvent(Q,S){if(!Q.fromCache||!this.listensToRemoteStore())return!0;let R="Offline"!==S;return(!this.options.waitForSyncWhenOnline||!R)&&(!Q.docs.isEmpty()||Q.hasCachedResults||"Offline"===S)}shouldRaiseEvent(Q){if(Q.docChanges.length>0)return!0;let S=this.snap&&this.snap.hasPendingWrites!==Q.hasPendingWrites;return(!!Q.syncStateChanged||!!S)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(Q){Q=ViewSnapshot.fromInitialDocuments(Q.query,Q.docs,Q.mutatedKeys,Q.fromCache,Q.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(Q)}listensToRemoteStore(){return this.options.source!==U.Cache}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LocalViewChanges=class LocalViewChanges{constructor(Q,S,R,N){this.targetId=Q,this.fromCache=S,this.addedKeys=R,this.removedKeys=N}static fromSnapshot(Q,S){let R=documentKeySet(),N=documentKeySet();for(let Q of S.docChanges)switch(Q.type){case 0:R=R.add(Q.doc.key);break;case 1:N=N.add(Q.doc.key)}return new LocalViewChanges(Q,S.fromCache,R,N)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BundleConverterImpl=class BundleConverterImpl{constructor(Q){this.serializer=Q}toDocumentKey(Q){return fromName(this.serializer,Q)}toMutableDocument(Q){return Q.metadata.exists?fromDocument(this.serializer,Q.document,!1):MutableDocument.newNoDocument(this.toDocumentKey(Q.metadata.name),this.toSnapshotVersion(Q.metadata.readTime))}toSnapshotVersion(Q){return fromVersion(Q)}};let BundleLoader=class BundleLoader{constructor(Q,S,R){this.bundleMetadata=Q,this.localStore=S,this.serializer=R,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bundleInitialProgress(Q)}addSizedElement(Q){this.progress.bytesLoaded+=Q.byteLength;let S=this.progress.documentsLoaded;if(Q.payload.namedQuery)this.queries.push(Q.payload.namedQuery);else if(Q.payload.documentMetadata){this.documents.push({metadata:Q.payload.documentMetadata}),!Q.payload.documentMetadata.exists&&++S;let R=ResourcePath.fromString(Q.payload.documentMetadata.name);this.collectionGroups.add(R.get(R.length-2))}else Q.payload.document&&(this.documents[this.documents.length-1].document=Q.payload.document,++S);return S!==this.progress.documentsLoaded?(this.progress.documentsLoaded=S,Object.assign({},this.progress)):null}getQueryDocumentMapping(Q){let S=new Map,R=new BundleConverterImpl(this.serializer);for(let N of Q)if(N.metadata.queries){let Q=R.toDocumentKey(N.metadata.name);for(let R of N.metadata.queries){let N=(S.get(R)||documentKeySet()).add(Q);S.set(R,N)}}return S}async complete(){let Q=await localStoreApplyBundledDocuments(this.localStore,new BundleConverterImpl(this.serializer),this.documents,this.bundleMetadata.id),S=this.getQueryDocumentMapping(this.documents);for(let Q of this.queries)await localStoreSaveNamedQuery(this.localStore,Q,S.get(Q.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:Q}}};function bundleInitialProgress(Q){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}}function bundleSuccessProgress(Q){return{taskState:"Success",documentsLoaded:Q.totalDocuments,bytesLoaded:Q.totalBytes,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AddedLimboDocument=class AddedLimboDocument{constructor(Q){this.key=Q}};let RemovedLimboDocument=class RemovedLimboDocument{constructor(Q){this.key=Q}};let View=class View{constructor(Q,S){this.query=Q,this._syncedDocuments=S,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=documentKeySet(),this.mutatedKeys=documentKeySet(),this.docComparator=newQueryComparator(Q),this.documentSet=new DocumentSet(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(Q,S){let R=S?S.changeSet:new DocumentChangeSet,N=S?S.documentSet:this.documentSet,M=S?S.mutatedKeys:this.mutatedKeys,L=N,U=!1,P="F"===this.query.limitType&&N.size===this.query.limit?N.last():null,Y="L"===this.query.limitType&&N.size===this.query.limit?N.first():null;if(Q.inorderTraversal((Q,S)=>{let W=N.get(Q),K=queryMatches(this.query,S)?S:null,X=!!W&&this.mutatedKeys.has(W.key),Z=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations),$=!1;if(W&&K){let Q=W.data.isEqual(K.data);Q?X!==Z&&(R.track({type:3,doc:K}),$=!0):!this.shouldWaitForSyncedDocument(W,K)&&(R.track({type:2,doc:K}),$=!0,(P&&this.docComparator(K,P)>0||Y&&0>this.docComparator(K,Y))&&(U=!0))}else!W&&K?(R.track({type:0,doc:K}),$=!0):W&&!K&&(R.track({type:1,doc:W}),$=!0,(P||Y)&&(U=!0));$&&(K?(L=L.add(K),M=Z?M.add(Q):M.delete(Q)):(L=L.delete(Q),M=M.delete(Q)))}),null!==this.query.limit)for(;L.size>this.query.limit;){let Q="F"===this.query.limitType?L.last():L.first();L=L.delete(Q.key),M=M.delete(Q.key),R.track({type:1,doc:Q})}return{documentSet:L,changeSet:R,needsRefill:U,mutatedKeys:M}}shouldWaitForSyncedDocument(Q,S){return Q.hasLocalMutations&&S.hasCommittedMutations&&!S.hasLocalMutations}applyChanges(Q,S,R,N){let M=this.documentSet;this.documentSet=Q.documentSet,this.mutatedKeys=Q.mutatedKeys;let L=Q.changeSet.getChanges();L.sort((Q,S)=>compareChangeType(Q.type,S.type)||this.docComparator(Q.doc,S.doc)),this.applyTargetChange(R),N=null!=N&&N;let U=S&&!N?this.updateLimboDocuments():[],P=0===this.limboDocuments.size&&this.current&&!N,Y=P?1:0,W=Y!==this.syncState;if(this.syncState=Y,0===L.length&&!W)return{limboChanges:U};{let S=new ViewSnapshot(this.query,Q.documentSet,M,L,Q.mutatedKeys,0===Y,W,!1,!!R&&R.resumeToken.approximateByteSize()>0);return{snapshot:S,limboChanges:U}}}applyOnlineStateChange(Q){return this.current&&"Offline"===Q?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new DocumentChangeSet,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(Q){return!this._syncedDocuments.has(Q)&&!!this.documentSet.has(Q)&&!this.documentSet.get(Q).hasLocalMutations}applyTargetChange(Q){Q&&(Q.addedDocuments.forEach(Q=>this._syncedDocuments=this._syncedDocuments.add(Q)),Q.modifiedDocuments.forEach(Q=>{}),Q.removedDocuments.forEach(Q=>this._syncedDocuments=this._syncedDocuments.delete(Q)),this.current=Q.current)}updateLimboDocuments(){if(!this.current)return[];let Q=this.limboDocuments;this.limboDocuments=documentKeySet(),this.documentSet.forEach(Q=>{this.shouldBeInLimbo(Q.key)&&(this.limboDocuments=this.limboDocuments.add(Q.key))});let S=[];return Q.forEach(Q=>{this.limboDocuments.has(Q)||S.push(new RemovedLimboDocument(Q))}),this.limboDocuments.forEach(R=>{Q.has(R)||S.push(new AddedLimboDocument(R))}),S}synchronizeWithPersistedState(Q){this._syncedDocuments=Q.remoteKeys,this.limboDocuments=documentKeySet();let S=this.computeDocChanges(Q.documents);return this.applyChanges(S,!0)}computeInitialSnapshot(){return ViewSnapshot.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}};function compareChangeType(Q,S){let order=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return order(Q)-order(S)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nA="SyncEngine";let QueryView=class QueryView{constructor(Q,S,R){this.query=Q,this.targetId=S,this.view=R}};let LimboResolution=class LimboResolution{constructor(Q){this.key=Q,this.receivedDocument=!1}};let SyncEngineImpl=class SyncEngineImpl{constructor(Q,S,R,N,M,L){this.localStore=Q,this.remoteStore=S,this.eventManager=R,this.sharedClientState=N,this.currentUser=M,this.maxConcurrentLimboResolutions=L,this.syncEngineListener={},this.queryViewsByQuery=new ObjectMap(Q=>canonifyQuery(Q),queryEquals),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new SortedMap(DocumentKey.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new ReferenceSet,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=TargetIdGenerator.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}};function newSyncEngine(Q,S,R,N,M,L,U){let P=new SyncEngineImpl(Q,S,R,N,M,L);return U&&(P._isPrimaryClient=!0),P}async function syncEngineListen(Q,S,R=!0){let N;let M=ensureWatchCallbacks(Q),L=M.queryViewsByQuery.get(S);return L?(M.sharedClientState.addLocalQueryTarget(L.targetId),N=L.view.computeInitialSnapshot()):N=await allocateTargetAndMaybeListen(M,S,R,!0),N}async function triggerRemoteStoreListen(Q,S){let R=ensureWatchCallbacks(Q);await allocateTargetAndMaybeListen(R,S,!0,!1)}async function allocateTargetAndMaybeListen(Q,S,R,N){let M;let L=await localStoreAllocateTarget(Q.localStore,queryToTarget(S)),U=L.targetId,P=R?Q.sharedClientState.addLocalQueryTarget(U):"not-current";return N&&(M=await initializeViewAndComputeSnapshot(Q,S,U,"current"===P,L.resumeToken)),Q.isPrimaryClient&&R&&remoteStoreListen(Q.remoteStore,L),M}async function initializeViewAndComputeSnapshot(Q,S,R,N,M){Q.applyDocChanges=(S,R,N)=>applyDocChanges(Q,S,R,N);let L=await localStoreExecuteQuery(Q.localStore,S,!0),U=new View(S,L.remoteKeys),P=U.computeDocChanges(L.documents),Y=TargetChange.createSynthesizedTargetChangeForCurrentChange(R,N&&"Offline"!==Q.onlineState,M),W=U.applyChanges(P,Q.isPrimaryClient,Y);updateTrackedLimbos(Q,R,W.limboChanges);let K=new QueryView(S,R,U);return Q.queryViewsByQuery.set(S,K),Q.queriesByTarget.has(R)?Q.queriesByTarget.get(R).push(S):Q.queriesByTarget.set(R,[S]),W.snapshot}async function syncEngineUnlisten(Q,S,R){let N=debugCast(Q),M=N.queryViewsByQuery.get(S),L=N.queriesByTarget.get(M.targetId);if(L.length>1){N.queriesByTarget.set(M.targetId,L.filter(Q=>!queryEquals(Q,S))),N.queryViewsByQuery.delete(S);return}if(N.isPrimaryClient){N.sharedClientState.removeLocalQueryTarget(M.targetId);let Q=N.sharedClientState.isActiveQueryTarget(M.targetId);Q||await localStoreReleaseTarget(N.localStore,M.targetId,!1).then(()=>{N.sharedClientState.clearQueryState(M.targetId),R&&remoteStoreUnlisten(N.remoteStore,M.targetId),removeAndCleanupTarget(N,M.targetId)}).catch(ignoreIfPrimaryLeaseLoss)}else removeAndCleanupTarget(N,M.targetId),await localStoreReleaseTarget(N.localStore,M.targetId,!0)}async function triggerRemoteStoreUnlisten(Q,S){let R=debugCast(Q),N=R.queryViewsByQuery.get(S),M=R.queriesByTarget.get(N.targetId);R.isPrimaryClient&&1===M.length&&(R.sharedClientState.removeLocalQueryTarget(N.targetId),remoteStoreUnlisten(R.remoteStore,N.targetId))}async function syncEngineWrite(Q,S,R){let N=syncEngineEnsureWriteCallbacks(Q);try{let Q=await localStoreWriteLocally(N.localStore,S);N.sharedClientState.addPendingMutation(Q.batchId),addMutationCallback(N,Q.batchId,R),await syncEngineEmitNewSnapsAndNotifyLocalStore(N,Q.changes),await fillWritePipeline(N.remoteStore)}catch(S){let Q=wrapInUserErrorIfRecoverable(S,"Failed to persist write");R.reject(Q)}}async function syncEngineApplyRemoteEvent(Q,S){let R=debugCast(Q);try{let Q=await localStoreApplyRemoteEventToLocalCache(R.localStore,S);S.targetChanges.forEach((Q,S)=>{let N=R.activeLimboResolutionsByTarget.get(S);N&&(hardAssert(Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size<=1),Q.addedDocuments.size>0?N.receivedDocument=!0:Q.modifiedDocuments.size>0?hardAssert(N.receivedDocument):Q.removedDocuments.size>0&&(hardAssert(N.receivedDocument),N.receivedDocument=!1))}),await syncEngineEmitNewSnapsAndNotifyLocalStore(R,Q,S)}catch(Q){await ignoreIfPrimaryLeaseLoss(Q)}}function syncEngineApplyOnlineStateChange(Q,S,R){let N=debugCast(Q);if(N.isPrimaryClient&&0===R||!N.isPrimaryClient&&1===R){let Q=[];N.queryViewsByQuery.forEach((R,N)=>{let M=N.view.applyOnlineStateChange(S);M.snapshot&&Q.push(M.snapshot)}),eventManagerOnOnlineStateChange(N.eventManager,S),Q.length&&N.syncEngineListener.onWatchChange(Q),N.onlineState=S,N.isPrimaryClient&&N.sharedClientState.setOnlineState(S)}}async function syncEngineRejectListen(Q,S,R){let N=debugCast(Q);N.sharedClientState.updateQueryState(S,"rejected",R);let M=N.activeLimboResolutionsByTarget.get(S),L=M&&M.key;if(L){let Q=new SortedMap(DocumentKey.comparator);Q=Q.insert(L,MutableDocument.newNoDocument(L,SnapshotVersion.min()));let R=documentKeySet().add(L),M=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(primitiveComparator),Q,R);await syncEngineApplyRemoteEvent(N,M),N.activeLimboTargetsByKey=N.activeLimboTargetsByKey.remove(L),N.activeLimboResolutionsByTarget.delete(S),pumpEnqueuedLimboResolutions(N)}else await localStoreReleaseTarget(N.localStore,S,!1).then(()=>removeAndCleanupTarget(N,S,R)).catch(ignoreIfPrimaryLeaseLoss)}async function syncEngineApplySuccessfulWrite(Q,S){let R=debugCast(Q),N=S.batch.batchId;try{let Q=await localStoreAcknowledgeBatch(R.localStore,S);processUserCallback(R,N,null),triggerPendingWritesCallbacks(R,N),R.sharedClientState.updateMutationState(N,"acknowledged"),await syncEngineEmitNewSnapsAndNotifyLocalStore(R,Q)}catch(Q){await ignoreIfPrimaryLeaseLoss(Q)}}async function syncEngineRejectFailedWrite(Q,S,R){let N=debugCast(Q);try{let Q=await localStoreRejectBatch(N.localStore,S);processUserCallback(N,S,R),triggerPendingWritesCallbacks(N,S),N.sharedClientState.updateMutationState(S,"rejected",R),await syncEngineEmitNewSnapsAndNotifyLocalStore(N,Q)}catch(Q){await ignoreIfPrimaryLeaseLoss(Q)}}function triggerPendingWritesCallbacks(Q,S){(Q.pendingWritesCallbacks.get(S)||[]).forEach(Q=>{Q.resolve()}),Q.pendingWritesCallbacks.delete(S)}function rejectOutstandingPendingWritesCallbacks(Q,S){Q.pendingWritesCallbacks.forEach(Q=>{Q.forEach(Q=>{Q.reject(new FirestoreError(ec.CANCELLED,S))})}),Q.pendingWritesCallbacks.clear()}function addMutationCallback(Q,S,R){let N=Q.mutationUserCallbacks[Q.currentUser.toKey()];N||(N=new SortedMap(primitiveComparator)),N=N.insert(S,R),Q.mutationUserCallbacks[Q.currentUser.toKey()]=N}function processUserCallback(Q,S,R){let N=debugCast(Q),M=N.mutationUserCallbacks[N.currentUser.toKey()];if(M){let Q=M.get(S);Q&&(R?Q.reject(R):Q.resolve(),M=M.remove(S)),N.mutationUserCallbacks[N.currentUser.toKey()]=M}}function removeAndCleanupTarget(Q,S,R=null){for(let N of(Q.sharedClientState.removeLocalQueryTarget(S),Q.queriesByTarget.get(S)))Q.queryViewsByQuery.delete(N),R&&Q.syncEngineListener.onWatchError(N,R);if(Q.queriesByTarget.delete(S),Q.isPrimaryClient){let R=Q.limboDocumentRefs.removeReferencesForId(S);R.forEach(S=>{let R=Q.limboDocumentRefs.containsKey(S);R||removeLimboTarget(Q,S)})}}function removeLimboTarget(Q,S){Q.enqueuedLimboResolutions.delete(S.path.canonicalString());let R=Q.activeLimboTargetsByKey.get(S);null!==R&&(remoteStoreUnlisten(Q.remoteStore,R),Q.activeLimboTargetsByKey=Q.activeLimboTargetsByKey.remove(S),Q.activeLimboResolutionsByTarget.delete(R),pumpEnqueuedLimboResolutions(Q))}function updateTrackedLimbos(Q,S,R){for(let N of R)if(N instanceof AddedLimboDocument)Q.limboDocumentRefs.addReference(N.key,S),trackLimboChange(Q,N);else if(N instanceof RemovedLimboDocument){logDebug(nA,"Document no longer in limbo: "+N.key),Q.limboDocumentRefs.removeReference(N.key,S);let R=Q.limboDocumentRefs.containsKey(N.key);R||removeLimboTarget(Q,N.key)}else fail()}function trackLimboChange(Q,S){let R=S.key,N=R.path.canonicalString();Q.activeLimboTargetsByKey.get(R)||Q.enqueuedLimboResolutions.has(N)||(logDebug(nA,"New document in limbo: "+R),Q.enqueuedLimboResolutions.add(N),pumpEnqueuedLimboResolutions(Q))}function pumpEnqueuedLimboResolutions(Q){for(;Q.enqueuedLimboResolutions.size>0&&Q.activeLimboTargetsByKey.size<Q.maxConcurrentLimboResolutions;){let S=Q.enqueuedLimboResolutions.values().next().value;Q.enqueuedLimboResolutions.delete(S);let R=new DocumentKey(ResourcePath.fromString(S)),N=Q.limboTargetIdGenerator.next();Q.activeLimboResolutionsByTarget.set(N,new LimboResolution(R)),Q.activeLimboTargetsByKey=Q.activeLimboTargetsByKey.insert(R,N),remoteStoreListen(Q.remoteStore,new TargetData(queryToTarget(newQueryForPath(R.path)),N,"TargetPurposeLimboResolution",ListenSequence.INVALID))}}async function syncEngineEmitNewSnapsAndNotifyLocalStore(Q,S,R){let N=debugCast(Q),M=[],L=[],U=[];N.queryViewsByQuery.isEmpty()||(N.queryViewsByQuery.forEach((Q,P)=>{U.push(N.applyDocChanges(P,S,R).then(Q=>{if((Q||R)&&N.isPrimaryClient&&N.sharedClientState.updateQueryState(P.targetId,(null==Q?void 0:Q.fromCache)?"not-current":"current"),Q){M.push(Q);let S=LocalViewChanges.fromSnapshot(P.targetId,Q);L.push(S)}}))}),await Promise.all(U),N.syncEngineListener.onWatchChange(M),await localStoreNotifyLocalViewChanges(N.localStore,L))}async function applyDocChanges(Q,S,R,N){let M=S.view.computeDocChanges(R);M.needsRefill&&(M=await localStoreExecuteQuery(Q.localStore,S.query,!1).then(({documents:Q})=>S.view.computeDocChanges(Q,M)));let L=N&&N.targetChanges.get(S.targetId),U=N&&null!=N.targetMismatches.get(S.targetId),P=S.view.applyChanges(M,Q.isPrimaryClient,L,U);return updateTrackedLimbos(Q,S.targetId,P.limboChanges),P.snapshot}async function syncEngineHandleCredentialChange(Q,S){let R=debugCast(Q),N=!R.currentUser.isEqual(S);if(N){logDebug(nA,"User change. New user:",S.toKey());let Q=await localStoreHandleUserChange(R.localStore,S);R.currentUser=S,rejectOutstandingPendingWritesCallbacks(R,"'waitForPendingWrites' promise is rejected due to a user change."),R.sharedClientState.handleUserChange(S,Q.removedBatchIds,Q.addedBatchIds),await syncEngineEmitNewSnapsAndNotifyLocalStore(R,Q.affectedDocuments)}}function syncEngineGetRemoteKeysForTarget(Q,S){let R=debugCast(Q),N=R.activeLimboResolutionsByTarget.get(S);if(N&&N.receivedDocument)return documentKeySet().add(N.key);{let Q=documentKeySet(),N=R.queriesByTarget.get(S);if(!N)return Q;for(let S of N){let N=R.queryViewsByQuery.get(S);Q=Q.unionWith(N.view.syncedDocuments)}return Q}}async function synchronizeViewAndComputeSnapshot(Q,S){let R=debugCast(Q),N=await localStoreExecuteQuery(R.localStore,S.query,!0),M=S.view.synchronizeWithPersistedState(N);return R.isPrimaryClient&&updateTrackedLimbos(R,S.targetId,M.limboChanges),M}async function syncEngineSynchronizeWithChangedDocuments(Q,S){let R=debugCast(Q);return localStoreGetNewDocumentChanges(R.localStore,S).then(Q=>syncEngineEmitNewSnapsAndNotifyLocalStore(R,Q))}async function syncEngineApplyBatchState(Q,S,R,N){let M=debugCast(Q),L=await localStoreLookupMutationDocuments(M.localStore,S);if(null===L){logDebug(nA,"Cannot apply mutation batch with id: "+S);return}"pending"===R?await fillWritePipeline(M.remoteStore):"acknowledged"===R||"rejected"===R?(processUserCallback(M,S,N||null),triggerPendingWritesCallbacks(M,S),localStoreRemoveCachedMutationBatchMetadata(M.localStore,S)):fail(),await syncEngineEmitNewSnapsAndNotifyLocalStore(M,L)}async function syncEngineApplyPrimaryState(Q,S){let R=debugCast(Q);if(ensureWatchCallbacks(R),syncEngineEnsureWriteCallbacks(R),!0===S&&!0!==R._isPrimaryClient){let Q=R.sharedClientState.getAllActiveQueryTargets(),S=await synchronizeQueryViewsAndRaiseSnapshots(R,Q.toArray());for(let Q of(R._isPrimaryClient=!0,await remoteStoreApplyPrimaryState(R.remoteStore,!0),S))remoteStoreListen(R.remoteStore,Q)}else if(!1===S&&!1!==R._isPrimaryClient){let Q=[],S=Promise.resolve();R.queriesByTarget.forEach((N,M)=>{R.sharedClientState.isLocalQueryTarget(M)?Q.push(M):S=S.then(()=>(removeAndCleanupTarget(R,M),localStoreReleaseTarget(R.localStore,M,!0))),remoteStoreUnlisten(R.remoteStore,M)}),await S,await synchronizeQueryViewsAndRaiseSnapshots(R,Q),resetLimboDocuments(R),R._isPrimaryClient=!1,await remoteStoreApplyPrimaryState(R.remoteStore,!1)}}function resetLimboDocuments(Q){let S=debugCast(Q);S.activeLimboResolutionsByTarget.forEach((Q,R)=>{remoteStoreUnlisten(S.remoteStore,R)}),S.limboDocumentRefs.removeAllReferences(),S.activeLimboResolutionsByTarget=new Map,S.activeLimboTargetsByKey=new SortedMap(DocumentKey.comparator)}async function synchronizeQueryViewsAndRaiseSnapshots(Q,S,R){let N=debugCast(Q),M=[],L=[];for(let Q of S){let S;let R=N.queriesByTarget.get(Q);if(R&&0!==R.length)for(let Q of(S=await localStoreAllocateTarget(N.localStore,queryToTarget(R[0])),R)){let S=N.queryViewsByQuery.get(Q),R=await synchronizeViewAndComputeSnapshot(N,S);R.snapshot&&L.push(R.snapshot)}else{let R=await localStoreGetCachedTarget(N.localStore,Q);S=await localStoreAllocateTarget(N.localStore,R),await initializeViewAndComputeSnapshot(N,synthesizeTargetToQuery(R),Q,!1,S.resumeToken)}M.push(S)}return N.syncEngineListener.onWatchChange(L),M}function synthesizeTargetToQuery(Q){return newQuery(Q.path,Q.collectionGroup,Q.orderBy,Q.filters,Q.limit,"F",Q.startAt,Q.endAt)}function syncEngineGetActiveClients(Q){let S=debugCast(Q);return localStoreGetActiveClients(S.localStore)}async function syncEngineApplyTargetState(Q,S,R,N){let M=debugCast(Q);if(M._isPrimaryClient){logDebug(nA,"Ignoring unexpected query state notification.");return}let L=M.queriesByTarget.get(S);if(L&&L.length>0)switch(R){case"current":case"not-current":{let Q=await localStoreGetNewDocumentChanges(M.localStore,queryCollectionGroup(L[0])),N=RemoteEvent.createSynthesizedRemoteEventForCurrentChange(S,"current"===R,ByteString.EMPTY_BYTE_STRING);await syncEngineEmitNewSnapsAndNotifyLocalStore(M,Q,N);break}case"rejected":await localStoreReleaseTarget(M.localStore,S,!0),removeAndCleanupTarget(M,S,N);break;default:fail()}}async function syncEngineApplyActiveTargetsChange(Q,S,R){let N=ensureWatchCallbacks(Q);if(N._isPrimaryClient){for(let Q of S){let S=N.queriesByTarget.has(Q)&&N.sharedClientState.isActiveQueryTarget(Q);if(S){logDebug(nA,"Adding an already active target "+Q);continue}let R=await localStoreGetCachedTarget(N.localStore,Q),M=await localStoreAllocateTarget(N.localStore,R);await initializeViewAndComputeSnapshot(N,synthesizeTargetToQuery(R),M.targetId,!1,M.resumeToken),remoteStoreListen(N.remoteStore,M)}for(let Q of R)N.queriesByTarget.has(Q)&&await localStoreReleaseTarget(N.localStore,Q,!1).then(()=>{remoteStoreUnlisten(N.remoteStore,Q),removeAndCleanupTarget(N,Q)}).catch(ignoreIfPrimaryLeaseLoss)}}function ensureWatchCallbacks(Q){let S=debugCast(Q);return S.remoteStore.remoteSyncer.applyRemoteEvent=syncEngineApplyRemoteEvent.bind(null,S),S.remoteStore.remoteSyncer.getRemoteKeysForTarget=syncEngineGetRemoteKeysForTarget.bind(null,S),S.remoteStore.remoteSyncer.rejectListen=syncEngineRejectListen.bind(null,S),S.syncEngineListener.onWatchChange=eventManagerOnWatchChange.bind(null,S.eventManager),S.syncEngineListener.onWatchError=eventManagerOnWatchError.bind(null,S.eventManager),S}function syncEngineEnsureWriteCallbacks(Q){let S=debugCast(Q);return S.remoteStore.remoteSyncer.applySuccessfulWrite=syncEngineApplySuccessfulWrite.bind(null,S),S.remoteStore.remoteSyncer.rejectFailedWrite=syncEngineRejectFailedWrite.bind(null,S),S}async function loadBundleImpl(Q,S,R){try{let N=await S.getMetadata(),M=await localStoreHasNewerBundle(Q.localStore,N);if(M)return await S.close(),R._completeWith(bundleSuccessProgress(N)),Promise.resolve(new Set);R._updateProgress(bundleInitialProgress(N));let L=new BundleLoader(N,Q.localStore,S.serializer),U=await S.nextElement();for(;U;){let Q=await L.addSizedElement(U);Q&&R._updateProgress(Q),U=await S.nextElement()}let P=await L.complete();return await syncEngineEmitNewSnapsAndNotifyLocalStore(Q,P.changedDocs,void 0),await localStoreSaveBundle(Q.localStore,N),R._completeWith(P.progress),Promise.resolve(P.changedCollectionGroups)}catch(Q){return logWarn(nA,`Loading bundle failed with ${Q}`),R._failWith(Q),Promise.resolve(new Set)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryOfflineComponentProvider=class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(Q){this.serializer=newSerializer(Q.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(Q),this.persistence=this.createPersistence(Q),await this.persistence.start(),this.localStore=this.createLocalStore(Q),this.gcScheduler=this.createGarbageCollectionScheduler(Q,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(Q,this.localStore)}createGarbageCollectionScheduler(Q,S){return null}createIndexBackfillerScheduler(Q,S){return null}createLocalStore(Q){return newLocalStore(this.persistence,new QueryEngine,Q.initialUser,this.serializer)}createPersistence(Q){return new MemoryPersistence(MemoryEagerDelegate.factory,this.serializer)}createSharedClientState(Q){return new MemorySharedClientState}async terminate(){var Q,S;null===(Q=this.gcScheduler)||void 0===Q||Q.stop(),null===(S=this.indexBackfillerScheduler)||void 0===S||S.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};let IndexedDbOfflineComponentProvider=class IndexedDbOfflineComponentProvider extends null{constructor(Q,S,R){super(),this.onlineComponentProvider=Q,this.cacheSizeBytes=S,this.forceOwnership=R,this.synchronizeTabs=!1}async initialize(Q){await super.initialize(Q),await this.onlineComponentProvider.initialize(this,Q),await syncEngineEnsureWriteCallbacks(this.onlineComponentProvider.syncEngine),await fillWritePipeline(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(Q){return newLocalStore(this.persistence,new QueryEngine,Q.initialUser,this.serializer)}createGarbageCollectionScheduler(Q,S){let R=this.persistence.referenceDelegate.garbageCollector;return new LruScheduler(R,Q.asyncQueue,S)}createIndexBackfillerScheduler(Q,S){let R=new IndexBackfiller(S,this.persistence);return new IndexBackfillerScheduler(Q.asyncQueue,R)}createPersistence(Q){let S=indexedDbStoragePrefix(Q.databaseInfo.databaseId,Q.databaseInfo.persistenceKey),R=void 0!==this.cacheSizeBytes?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new IndexedDbPersistence(this.synchronizeTabs,S,Q.clientId,R,Q.asyncQueue,getWindow(),getDocument(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(Q){return new MemorySharedClientState}};let OnlineComponentProvider=class OnlineComponentProvider{async initialize(Q,S){this.localStore||(this.localStore=Q.localStore,this.sharedClientState=Q.sharedClientState,this.datastore=this.createDatastore(S),this.remoteStore=this.createRemoteStore(S),this.eventManager=this.createEventManager(S),this.syncEngine=this.createSyncEngine(S,!Q.synchronizeTabs),this.sharedClientState.onlineStateHandler=Q=>syncEngineApplyOnlineStateChange(this.syncEngine,Q,1),this.remoteStore.remoteSyncer.handleCredentialChange=syncEngineHandleCredentialChange.bind(null,this.syncEngine),await remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(Q){return newEventManager()}createDatastore(Q){let S=newSerializer(Q.databaseInfo.databaseId),R=newConnection(Q.databaseInfo);return newDatastore(Q.authCredentials,Q.appCheckCredentials,R,S)}createRemoteStore(Q){return newRemoteStore(this.localStore,this.datastore,Q.asyncQueue,Q=>syncEngineApplyOnlineStateChange(this.syncEngine,Q,0),newConnectivityMonitor())}createSyncEngine(Q,S){return newSyncEngine(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,Q.initialUser,Q.maxConcurrentLimboResolutions,S)}async terminate(){var Q;await remoteStoreShutdown(this.remoteStore),null===(Q=this.datastore)||void 0===Q||Q.terminate()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=10240;function toByteStreamReaderHelper(Q,S=nc){let R=0,N={async read(){if(R<Q.byteLength){let N={value:Q.slice(R,R+S),done:!1};return R+=S,N}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()};return N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateNonEmptyArgument(Q,S,R){if(!R)throw new FirestoreError(ec.INVALID_ARGUMENT,`Function ${Q}() cannot be called with an empty ${S}.`)}function validateIsNotUsedTogether(Q,S,R,N){if(!0===S&&!0===N)throw new FirestoreError(ec.INVALID_ARGUMENT,`${Q} and ${R} cannot be used together.`)}function validateDocumentPath(Q){if(!DocumentKey.isDocumentKey(Q))throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Q} has ${Q.length}.`)}function validateCollectionPath(Q){if(DocumentKey.isDocumentKey(Q))throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Q} has ${Q.length}.`)}function isPlainObject(Q){return"object"==typeof Q&&null!==Q&&(Object.getPrototypeOf(Q)===Object.prototype||null===Object.getPrototypeOf(Q))}function valueDescription(Q){if(void 0===Q)return"undefined";if(null===Q)return"null";if("string"==typeof Q)return Q.length>20&&(Q=`${Q.substring(0,20)}...`),JSON.stringify(Q);if("number"==typeof Q||"boolean"==typeof Q)return""+Q;if("object"==typeof Q){if(Q instanceof Array)return"an array";{let S=tryGetCustomObjectType(Q);return S?`a custom ${S} object`:"an object"}}if("function"==typeof Q)return"a function";return fail()}function tryGetCustomObjectType(Q){return Q.constructor?Q.constructor.name:null}function cast(Q,S){if("_delegate"in Q&&(Q=Q._delegate),!(Q instanceof S)){if(S.name===Q.constructor.name)throw new FirestoreError(ec.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let R=valueDescription(Q);throw new FirestoreError(ec.INVALID_ARGUMENT,`Expected type '${S.name}', but it was: ${R}`)}}return Q}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toByteStreamReader(Q,S){if(!(Q instanceof Uint8Array))throw new FirestoreError(ec.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${valueDescription(Q)}`);return toByteStreamReaderHelper(Q,S)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AsyncObserver=class AsyncObserver{constructor(Q){this.observer=Q,this.muted=!1}next(Q){this.observer.next&&this.scheduleEvent(this.observer.next,Q)}error(Q){this.observer.error?this.scheduleEvent(this.observer.error,Q):logError("Uncaught Error in snapshot listener:",Q.toString())}mute(){this.muted=!0}scheduleEvent(Q,S){this.muted||setTimeout(()=>{this.muted||Q(S)},0)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SizedBundleElement=class SizedBundleElement{constructor(Q,S){this.payload=Q,this.byteLength=S}isBundleMetadata(){return"metadata"in this.payload}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BundleReaderImpl=class BundleReaderImpl{constructor(Q,S){this.reader=Q,this.serializer=S,this.metadata=new Deferred,this.buffer=new Uint8Array,this.textDecoder=newTextDecoder(),this.nextElementImpl().then(Q=>{Q&&Q.isBundleMetadata()?this.metadata.resolve(Q.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==Q?void 0:Q.payload)}`))},Q=>this.metadata.reject(Q))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let Q=await this.readLength();if(null===Q)return null;let S=this.textDecoder.decode(Q),R=Number(S);isNaN(R)&&this.raiseError(`length string (${S}) is not valid number`);let N=await this.readJsonString(R);return new SizedBundleElement(JSON.parse(N),Q.length+R)}indexOfOpenBracket(){return this.buffer.findIndex(Q=>123===Q)}async readLength(){for(;0>this.indexOfOpenBracket();){let Q=await this.pullMoreDataToBuffer();if(Q)break}if(0===this.buffer.length)return null;let Q=this.indexOfOpenBracket();Q<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let S=this.buffer.slice(0,Q);return this.buffer=this.buffer.slice(Q),S}async readJsonString(Q){for(;this.buffer.length<Q;){let Q=await this.pullMoreDataToBuffer();Q&&this.raiseError("Reached the end of bundle when more is expected.")}let S=this.textDecoder.decode(this.buffer.slice(0,Q));return this.buffer=this.buffer.slice(Q),S}raiseError(Q){throw this.reader.cancel(),Error(`Invalid bundle format: ${Q}`)}async pullMoreDataToBuffer(){let Q=await this.reader.read();if(!Q.done){let S=new Uint8Array(this.buffer.length+Q.value.length);S.set(this.buffer),S.set(Q.value,this.buffer.length),this.buffer=S}return Q.done}};function newBundleReader(Q,S){return new BundleReaderImpl(Q,S)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Transaction$2=class Transaction$2{constructor(Q){this.datastore=Q,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(Q){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new FirestoreError(ec.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let S=await invokeBatchGetDocumentsRpc(this.datastore,Q);return S.forEach(Q=>this.recordVersion(Q)),S}set(Q,S){this.write(S.toMutation(Q,this.precondition(Q))),this.writtenDocs.add(Q.toString())}update(Q,S){try{this.write(S.toMutation(Q,this.preconditionForUpdate(Q)))}catch(Q){this.lastTransactionError=Q}this.writtenDocs.add(Q.toString())}delete(Q){this.write(new DeleteMutation(Q,this.precondition(Q))),this.writtenDocs.add(Q.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let Q=this.readVersions;this.mutations.forEach(S=>{Q.delete(S.key.toString())}),Q.forEach((Q,S)=>{let R=DocumentKey.fromPath(S);this.mutations.push(new VerifyMutation(R,this.precondition(R)))}),await invokeCommitRpc(this.datastore,this.mutations),this.committed=!0}recordVersion(Q){let S;if(Q.isFoundDocument())S=Q.version;else if(Q.isNoDocument())S=SnapshotVersion.min();else throw fail();let R=this.readVersions.get(Q.key.toString());if(R){if(!S.isEqual(R))throw new FirestoreError(ec.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(Q.key.toString(),S)}precondition(Q){let S=this.readVersions.get(Q.toString());return this.writtenDocs.has(Q.toString())||!S?Precondition.none():S.isEqual(SnapshotVersion.min())?Precondition.exists(!1):Precondition.updateTime(S)}preconditionForUpdate(Q){let S=this.readVersions.get(Q.toString());if(this.writtenDocs.has(Q.toString())||!S)return Precondition.exists(!0);if(S.isEqual(SnapshotVersion.min()))throw new FirestoreError(ec.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Precondition.updateTime(S)}write(Q){this.ensureCommitNotCalled(),this.mutations.push(Q)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu="FirestoreClient",nh=100,nd=11,ng=20,np=22;let FirestoreClient=class FirestoreClient{constructor(Q,S,R,N){this.authCredentials=Q,this.appCheckCredentials=S,this.asyncQueue=R,this.databaseInfo=N,this.user=User.UNAUTHENTICATED,this.clientId=AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(R,async Q=>{logDebug(nu,"Received user=",Q.uid),await this.authCredentialListener(Q),this.user=Q}),this.appCheckCredentials.start(R,Q=>(logDebug(nu,"Received new app check token=",Q),this.appCheckCredentialListener(Q,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:nh}}setCredentialChangeListener(Q){this.authCredentialListener=Q}setAppCheckTokenChangeListener(Q){this.appCheckCredentialListener=Q}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(ec.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let Q=new Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),Q.resolve()}catch(R){let S=wrapInUserErrorIfRecoverable(R,"Failed to shutdown persistence");Q.reject(S)}}),Q.promise}};async function setOfflineComponentProvider(Q,S){Q.asyncQueue.verifyOperationInProgress(),logDebug(nu,"Initializing OfflineComponentProvider");let R=Q.configuration;await S.initialize(R);let N=R.initialUser;Q.setCredentialChangeListener(async Q=>{N.isEqual(Q)||(await localStoreHandleUserChange(S.localStore,Q),N=Q)}),S.persistence.setDatabaseDeletedListener(()=>Q.terminate()),Q._offlineComponents=S}async function setOnlineComponentProvider(Q,S){Q.asyncQueue.verifyOperationInProgress();let R=await ensureOfflineComponents(Q);logDebug(nu,"Initializing OnlineComponentProvider"),await S.initialize(R,Q.configuration),Q.setCredentialChangeListener(Q=>remoteStoreHandleCredentialChange(S.remoteStore,Q)),Q.setAppCheckTokenChangeListener((Q,R)=>remoteStoreHandleCredentialChange(S.remoteStore,R)),Q._onlineComponents=S}function canFallbackFromIndexedDbError(Q){return"FirebaseError"===Q.name?Q.code===ec.FAILED_PRECONDITION||Q.code===ec.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&Q instanceof DOMException)||Q.code===np||Q.code===ng||Q.code===nd}async function ensureOfflineComponents(Q){if(!Q._offlineComponents){if(Q._uninitializedComponentsProvider){logDebug(nu,"Using user provided OfflineComponentProvider");try{await setOfflineComponentProvider(Q,Q._uninitializedComponentsProvider._offline)}catch(R){let S=R;if(!canFallbackFromIndexedDbError(S))throw S;logWarn("Error using user provided cache. Falling back to memory cache: "+S),await setOfflineComponentProvider(Q,new MemoryOfflineComponentProvider)}}else logDebug(nu,"Using default OfflineComponentProvider"),await setOfflineComponentProvider(Q,new MemoryOfflineComponentProvider)}return Q._offlineComponents}async function ensureOnlineComponents(Q){return Q._onlineComponents||(Q._uninitializedComponentsProvider?(logDebug(nu,"Using user provided OnlineComponentProvider"),await setOnlineComponentProvider(Q,Q._uninitializedComponentsProvider._online)):(logDebug(nu,"Using default OnlineComponentProvider"),await setOnlineComponentProvider(Q,new OnlineComponentProvider))),Q._onlineComponents}function getLocalStore(Q){return ensureOfflineComponents(Q).then(Q=>Q.localStore)}function getSyncEngine(Q){return ensureOnlineComponents(Q).then(Q=>Q.syncEngine)}function getDatastore(Q){return ensureOnlineComponents(Q).then(Q=>Q.datastore)}async function getEventManager(Q){let S=await ensureOnlineComponents(Q),R=S.eventManager;return R.onListen=syncEngineListen.bind(null,S.syncEngine),R.onUnlisten=syncEngineUnlisten.bind(null,S.syncEngine),R.onFirstRemoteStoreListen=triggerRemoteStoreListen.bind(null,S.syncEngine),R.onLastRemoteStoreUnlisten=triggerRemoteStoreUnlisten.bind(null,S.syncEngine),R}function firestoreClientGetDocumentsViaSnapshotListener(Q,S,R={}){let N=new Deferred;return Q.asyncQueue.enqueueAndForget(async()=>{let M=await getEventManager(Q);return executeQueryViaSnapshotListener(M,Q.asyncQueue,S,R,N)}),N.promise}function firestoreClientWrite(Q,S){let R=new Deferred;return Q.asyncQueue.enqueueAndForget(async()=>{let N=await getSyncEngine(Q);return syncEngineWrite(N,S,R)}),R.promise}function executeQueryViaSnapshotListener(Q,S,R,N,M){let L=new AsyncObserver({next:R=>{S.enqueueAndForget(()=>eventManagerUnlisten(Q,U)),R.fromCache&&"server"===N.source?M.reject(new FirestoreError(ec.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):M.resolve(R)},error:Q=>M.reject(Q)}),U=new QueryListener(R,L,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return eventManagerListen(Q,U)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function longPollingOptionsEqual(Q,S){return Q.timeoutSeconds===S.timeoutSeconds}function cloneLongPollingOptions(Q){let S={};return void 0!==Q.timeoutSeconds&&(S.timeoutSeconds=Q.timeoutSeconds),S}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf="ComponentProvider",nE=new Map;function removeComponents(Q){let S=nE.get(Q);S&&(logDebug(nf,"Removing Datastore"),nE.delete(Q),S.terminate())}function makeDatabaseInfo(Q,S,R,N){return new DatabaseInfo(Q,S,R,N.host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,cloneLongPollingOptions(N.experimentalLongPollingOptions),N.useFetchStreams)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm="firestore.googleapis.com",nC=!0,nI=5,nB=30,ny=!0;let FirestoreSettingsImpl=class FirestoreSettingsImpl{constructor(Q){var S,R;if(void 0===Q.host){if(void 0!==Q.ssl)throw new FirestoreError(ec.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nm,this.ssl=nC}else this.host=Q.host,this.ssl=null!==(S=Q.ssl)&&void 0!==S?S:nC;if(this.credentials=Q.credentials,this.ignoreUndefinedProperties=!!Q.ignoreUndefinedProperties,this.localCache=Q.localCache,void 0===Q.cacheSizeBytes)this.cacheSizeBytes=rS;else{if(Q.cacheSizeBytes!==rQ&&Q.cacheSizeBytes<rw)throw new FirestoreError(ec.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${rw}`);this.cacheSizeBytes=Q.cacheSizeBytes}validateIsNotUsedTogether("experimentalForceLongPolling",Q.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",Q.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!Q.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===Q.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=ny:this.experimentalAutoDetectLongPolling=!!Q.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cloneLongPollingOptions(null!==(R=Q.experimentalLongPollingOptions)&&void 0!==R?R:{}),validateLongPollingOptions(this.experimentalLongPollingOptions),this.useFetchStreams=!!Q.useFetchStreams}isEqual(Q){return this.host===Q.host&&this.ssl===Q.ssl&&this.credentials===Q.credentials&&this.cacheSizeBytes===Q.cacheSizeBytes&&this.experimentalForceLongPolling===Q.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===Q.experimentalAutoDetectLongPolling&&longPollingOptionsEqual(this.experimentalLongPollingOptions,Q.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===Q.ignoreUndefinedProperties&&this.useFetchStreams===Q.useFetchStreams}};function validateLongPollingOptions(Q){if(void 0!==Q.timeoutSeconds){if(isNaN(Q.timeoutSeconds))throw new FirestoreError(ec.INVALID_ARGUMENT,`invalid long polling timeout: ${Q.timeoutSeconds} (must not be NaN)`);if(Q.timeoutSeconds<nI)throw new FirestoreError(ec.INVALID_ARGUMENT,`invalid long polling timeout: ${Q.timeoutSeconds} (minimum allowed value is ${nI})`);if(Q.timeoutSeconds>nB)throw new FirestoreError(ec.INVALID_ARGUMENT,`invalid long polling timeout: ${Q.timeoutSeconds} (maximum allowed value is ${nB})`)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Firestore$1=class Firestore$1{constructor(Q,S,R,N){this._authCredentials=Q,this._appCheckCredentials=S,this._databaseId=R,this._app=N,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(ec.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(Q){if(this._settingsFrozen)throw new FirestoreError(ec.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(Q),void 0!==Q.credentials&&(this._authCredentials=makeAuthCredentialsProvider(Q.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return removeComponents(this),Promise.resolve()}};function connectFirestoreEmulator(Q,S,R,N={}){var M;Q=cast(Q,Firestore$1);let L=Q._getSettings(),U=`${S}:${R}`;if(L.host!==nm&&L.host!==U&&logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),Q._setSettings(Object.assign(Object.assign({},L),{host:U,ssl:!1})),N.mockUserToken){let S,R;if("string"==typeof N.mockUserToken)S=N.mockUserToken,R=User.MOCK_USER;else{S=(0,X.Sg)(N.mockUserToken,null===(M=Q._app)||void 0===M?void 0:M.options.projectId);let L=N.mockUserToken.sub||N.mockUserToken.user_id;if(!L)throw new FirestoreError(ec.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new User(L)}Q._authCredentials=new EmulatorAuthCredentialsProvider(new OAuthToken(S,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Query=class Query{constructor(Q,S,R){this.converter=S,this._query=R,this.type="query",this.firestore=Q}withConverter(Q){return new Query(this.firestore,Q,this._query)}};let DocumentReference=class DocumentReference{constructor(Q,S,R){this.converter=S,this._key=R,this.type="document",this.firestore=Q}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(Q){return new DocumentReference(this.firestore,Q,this._key)}};let CollectionReference=class CollectionReference extends Query{constructor(Q,S,R){super(Q,S,newQueryForPath(R)),this._path=R,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let Q=this._path.popLast();return Q.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(Q))}withConverter(Q){return new CollectionReference(this.firestore,Q,this._path)}};function collection(Q,S,...R){if(Q=(0,X.m9)(Q),validateNonEmptyArgument("collection","path",S),Q instanceof Firestore$1){let N=ResourcePath.fromString(S,...R);return validateCollectionPath(N),new CollectionReference(Q,null,N)}{if(!(Q instanceof DocumentReference)&&!(Q instanceof CollectionReference))throw new FirestoreError(ec.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let N=Q._path.child(ResourcePath.fromString(S,...R));return validateCollectionPath(N),new CollectionReference(Q.firestore,null,N)}}function doc(Q,S,...R){if(Q=(0,X.m9)(Q),1==arguments.length&&(S=AutoId.newId()),validateNonEmptyArgument("doc","path",S),Q instanceof Firestore$1){let N=ResourcePath.fromString(S,...R);return validateDocumentPath(N),new DocumentReference(Q,null,new DocumentKey(N))}{if(!(Q instanceof DocumentReference)&&!(Q instanceof CollectionReference))throw new FirestoreError(ec.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let N=Q._path.child(ResourcePath.fromString(S,...R));return validateDocumentPath(N),new DocumentReference(Q.firestore,Q instanceof CollectionReference?Q.converter:null,new DocumentKey(N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nQ="AsyncQueue";let AsyncQueueImpl=class AsyncQueueImpl{constructor(){this.tail=Promise.resolve(),this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new ExponentialBackoff(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()}}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(Q){this.enqueue(Q)}enqueueAndForgetEvenWhileRestricted(Q){this.verifyNotFailed(),this.enqueueInternal(Q)}enterRestrictedMode(Q){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=Q||!1)}enqueue(Q){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let S=new Deferred;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(Q().then(S.resolve,S.reject),S.promise)).then(()=>S.promise)}enqueueRetryable(Q){this.enqueueAndForget(()=>(this.retryableOps.push(Q),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(Q){if(isIndexedDbTransactionError(Q))logDebug(nQ,"Operation failed with retryable error: "+Q);else throw Q}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(Q){let S=this.tail.then(()=>(this.operationInProgress=!0,Q().catch(Q=>{this.failure=Q,this.operationInProgress=!1;let S=getMessageOrStack(Q);throw logError("INTERNAL UNHANDLED ERROR: ",S),Q}).then(Q=>(this.operationInProgress=!1,Q))));return this.tail=S,S}enqueueAfterDelay(Q,S,R){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(Q)>-1&&(S=0);let N=DelayedOperation.createAndSchedule(this,Q,S,R,Q=>this.removeDelayedOperation(Q));return this.delayedOperations.push(N),N}verifyNotFailed(){this.failure&&fail()}verifyOperationInProgress(){}async drain(){let Q;do Q=this.tail,await Q;while(Q!==this.tail)}containsDelayedOperation(Q){for(let S of this.delayedOperations)if(S.timerId===Q)return!0;return!1}runAllDelayedOperationsUntil(Q){return this.drain().then(()=>{for(let S of(this.delayedOperations.sort((Q,S)=>Q.targetTimeMs-S.targetTimeMs),this.delayedOperations))if(S.skipDelay(),"all"!==Q&&S.timerId===Q)break;return this.drain()})}skipDelaysForTimerId(Q){this.timerIdsToSkip.push(Q)}removeDelayedOperation(Q){let S=this.delayedOperations.indexOf(Q);this.delayedOperations.splice(S,1)}};function newAsyncQueue(){return new AsyncQueueImpl}function getMessageOrStack(Q){let S=Q.message||"";return Q.stack&&(S=Q.stack.includes(Q.message)?Q.stack:Q.message+"\n"+Q.stack),S}let Firestore=class Firestore extends Firestore$1{constructor(Q,S,R,N){super(Q,S,R,N),this.type="firestore",this._queue=newAsyncQueue(),this._persistenceKey=(null==N?void 0:N.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||configureFirestore(this),this._firestoreClient.terminate()}};function getFirestore(Q,S){let R="object"==typeof Q?Q:(0,P.Mq)(),N="string"==typeof Q?Q:S||tV,M=(0,P.qX)(R,"firestore").getImmediate({identifier:N});if(!M._initialized){let Q=(0,X.P0)("firestore");Q&&connectFirestoreEmulator(M,...Q)}return M}function ensureFirestoreConfigured(Q){return Q._firestoreClient||configureFirestore(Q),Q._firestoreClient.verifyNotTerminated(),Q._firestoreClient}function configureFirestore(Q){var S,R,N;let M=Q._freezeSettings(),L=makeDatabaseInfo(Q._databaseId,(null===(S=Q._app)||void 0===S?void 0:S.options.appId)||"",Q._persistenceKey,M);Q._firestoreClient=new FirestoreClient(Q._authCredentials,Q._appCheckCredentials,Q._queue,L),(null===(R=M.localCache)||void 0===R?void 0:R._offlineComponentProvider)&&(null===(N=M.localCache)||void 0===N?void 0:N._onlineComponentProvider)&&(Q._firestoreClient._uninitializedComponentsProvider={_offlineKind:M.localCache.kind,_offline:M.localCache._offlineComponentProvider,_online:M.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerFirestore(Q,S=!0){setSDKVersion(P.Jn),(0,P.Xd)(new Y.wA("firestore",(Q,{instanceIdentifier:R,options:N})=>{let M=Q.getProvider("app").getImmediate(),L=new Firestore(new FirebaseAuthCredentialsProvider(Q.getProvider("auth-internal")),new FirebaseAppCheckTokenProvider(Q.getProvider("app-check-internal")),databaseIdFromApp(M,R),M);return N=Object.assign({useFetchStreams:S},N),L._setSettings(N),L},"PUBLIC").setMultipleInstances(!0)),(0,P.KN)(ei,es,Q),(0,P.KN)(ei,es,"esm2017")}let AggregateQuerySnapshot=class AggregateQuerySnapshot{constructor(Q,S,R){this._userDataWriter=S,this._data=R,this.type="AggregateQuerySnapshot",this.query=Q}data(){return this._userDataWriter.convertObjectMap(this._data)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bytes=class Bytes{constructor(Q){this._byteString=Q}static fromBase64String(Q){try{return new Bytes(ByteString.fromBase64String(Q))}catch(Q){throw new FirestoreError(ec.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Q)}}static fromUint8Array(Q){return new Bytes(ByteString.fromUint8Array(Q))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(Q){return this._byteString.isEqual(Q._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldPath=class FieldPath{constructor(...Q){for(let S=0;S<Q.length;++S)if(0===Q[S].length)throw new FirestoreError(ec.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(Q)}isEqual(Q){return this._internalPath.isEqual(Q._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldValue=class FieldValue{constructor(Q){this._methodName=Q}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GeoPoint=class GeoPoint{constructor(Q,S){if(!isFinite(Q)||Q<-90||Q>90)throw new FirestoreError(ec.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+Q);if(!isFinite(S)||S<-180||S>180)throw new FirestoreError(ec.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+S);this._lat=Q,this._long=S}get latitude(){return this._lat}get longitude(){return this._long}isEqual(Q){return this._lat===Q._lat&&this._long===Q._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(Q){return primitiveComparator(this._lat,Q._lat)||primitiveComparator(this._long,Q._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nS=/^__.*__$/;let ParsedSetData=class ParsedSetData{constructor(Q,S,R){this.data=Q,this.fieldMask=S,this.fieldTransforms=R}toMutation(Q,S){return null!==this.fieldMask?new PatchMutation(Q,this.data,this.fieldMask,S,this.fieldTransforms):new SetMutation(Q,this.data,S,this.fieldTransforms)}};let ParsedUpdateData=class ParsedUpdateData{constructor(Q,S,R){this.data=Q,this.fieldMask=S,this.fieldTransforms=R}toMutation(Q,S){return new PatchMutation(Q,this.data,this.fieldMask,S,this.fieldTransforms)}};function isWrite(Q){switch(Q){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}let ParseContextImpl=class ParseContextImpl{constructor(Q,S,R,N,M,L){this.settings=Q,this.databaseId=S,this.serializer=R,this.ignoreUndefinedProperties=N,void 0===M&&this.validatePath(),this.fieldTransforms=M||[],this.fieldMask=L||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(Q){return new ParseContextImpl(Object.assign(Object.assign({},this.settings),Q),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(Q){var S;let R=null===(S=this.path)||void 0===S?void 0:S.child(Q),N=this.contextWith({path:R,arrayElement:!1});return N.validatePathSegment(Q),N}childContextForFieldPath(Q){var S;let R=null===(S=this.path)||void 0===S?void 0:S.child(Q),N=this.contextWith({path:R,arrayElement:!1});return N.validatePath(),N}childContextForArray(Q){return this.contextWith({path:void 0,arrayElement:!0})}createError(Q){return createError(Q,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(Q){return void 0!==this.fieldMask.find(S=>Q.isPrefixOf(S))||void 0!==this.fieldTransforms.find(S=>Q.isPrefixOf(S.field))}validatePath(){if(this.path)for(let Q=0;Q<this.path.length;Q++)this.validatePathSegment(this.path.get(Q))}validatePathSegment(Q){if(0===Q.length)throw this.createError("Document fields must not be empty");if(isWrite(this.dataSource)&&nS.test(Q))throw this.createError('Document fields cannot begin and end with "__"')}};let UserDataReader=class UserDataReader{constructor(Q,S,R){this.databaseId=Q,this.ignoreUndefinedProperties=S,this.serializer=R||newSerializer(Q)}createContext(Q,S,R,N=!1){return new ParseContextImpl({dataSource:Q,methodName:S,targetDoc:R,path:FieldPath$1.emptyPath(),arrayElement:!1,hasConverter:N},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function newUserDataReader(Q){let S=Q._freezeSettings(),R=newSerializer(Q._databaseId);return new UserDataReader(Q._databaseId,!!S.ignoreUndefinedProperties,R)}function parseSetData(Q,S,R,N,M,L={}){let U,P;let Y=Q.createContext(L.merge||L.mergeFields?2:0,S,R,M);validatePlainObject("Data must be an object, but it was:",Y,N);let W=parseObject(N,Y);if(L.merge)U=new FieldMask(Y.fieldMask),P=Y.fieldTransforms;else if(L.mergeFields){let Q=[];for(let N of L.mergeFields){let M=fieldPathFromArgument$1(S,N,R);if(!Y.contains(M))throw new FirestoreError(ec.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);fieldMaskContains(Q,M)||Q.push(M)}U=new FieldMask(Q),P=Y.fieldTransforms.filter(Q=>U.covers(Q.field))}else U=null,P=Y.fieldTransforms;return new ParsedSetData(new ObjectValue(W),U,P)}let DeleteFieldValueImpl=class DeleteFieldValueImpl extends null{_toFieldTransform(Q){if(2===Q.dataSource)Q.fieldMask.push(Q.path);else if(1===Q.dataSource)throw Q.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw Q.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(Q){return Q instanceof DeleteFieldValueImpl}};function createSentinelChildContext(Q,S,R){return new ParseContextImpl({dataSource:3,targetDoc:S.settings.targetDoc,methodName:Q._methodName,arrayElement:R},S.databaseId,S.serializer,S.ignoreUndefinedProperties)}let ServerTimestampFieldValueImpl=class ServerTimestampFieldValueImpl extends null{_toFieldTransform(Q){return new FieldTransform(Q.path,new ServerTimestampTransform)}isEqual(Q){return Q instanceof ServerTimestampFieldValueImpl}};let ArrayUnionFieldValueImpl=class ArrayUnionFieldValueImpl extends null{constructor(Q,S){super(Q),this._elements=S}_toFieldTransform(Q){let S=createSentinelChildContext(this,Q,!0),R=this._elements.map(Q=>parseData(Q,S)),N=new ArrayUnionTransformOperation(R);return new FieldTransform(Q.path,N)}isEqual(Q){return Q instanceof ArrayUnionFieldValueImpl&&deepEqual(this._elements,Q._elements)}};let ArrayRemoveFieldValueImpl=class ArrayRemoveFieldValueImpl extends null{constructor(Q,S){super(Q),this._elements=S}_toFieldTransform(Q){let S=createSentinelChildContext(this,Q,!0),R=this._elements.map(Q=>parseData(Q,S)),N=new ArrayRemoveTransformOperation(R);return new FieldTransform(Q.path,N)}isEqual(Q){return Q instanceof ArrayRemoveFieldValueImpl&&deepEqual(this._elements,Q._elements)}};let NumericIncrementFieldValueImpl=class NumericIncrementFieldValueImpl extends null{constructor(Q,S){super(Q),this._operand=S}_toFieldTransform(Q){let S=new NumericIncrementTransformOperation(Q.serializer,toNumber(Q.serializer,this._operand));return new FieldTransform(Q.path,S)}isEqual(Q){return Q instanceof NumericIncrementFieldValueImpl&&this._operand===Q._operand}};function parseQueryValue(Q,S,R,N=!1){let M=Q.createContext(N?4:3,S),L=parseData(R,M);return L}function parseData(Q,S){if(looksLikeJsonObject(Q=(0,X.m9)(Q)))return validatePlainObject("Unsupported field value:",S,Q),parseObject(Q,S);if(Q instanceof FieldValue)return parseSentinelFieldValue(Q,S),null;if(void 0===Q&&S.ignoreUndefinedProperties)return null;if(S.path&&S.fieldMask.push(S.path),!(Q instanceof Array))return parseScalarValue(Q,S);if(S.settings.arrayElement&&4!==S.dataSource)throw S.createError("Nested arrays are not supported");return parseArray(Q,S)}function parseObject(Q,S){let R={};return isEmpty(Q)?S.path&&S.path.length>0&&S.fieldMask.push(S.path):forEach(Q,(Q,N)=>{let M=parseData(N,S.childContextForField(Q));null!=M&&(R[Q]=M)}),{mapValue:{fields:R}}}function parseArray(Q,S){let R=[],N=0;for(let M of Q){let Q=parseData(M,S.childContextForArray(N));null==Q&&(Q={nullValue:"NULL_VALUE"}),R.push(Q),N++}return{arrayValue:{values:R}}}function parseSentinelFieldValue(Q,S){if(!isWrite(S.dataSource))throw S.createError(`${Q._methodName}() can only be used with update() and set()`);if(!S.path)throw S.createError(`${Q._methodName}() is not currently supported inside arrays`);let R=Q._toFieldTransform(S);R&&S.fieldTransforms.push(R)}function parseScalarValue(Q,S){if(null===(Q=(0,X.m9)(Q)))return{nullValue:"NULL_VALUE"};if("number"==typeof Q)return toNumber(S.serializer,Q);if("boolean"==typeof Q)return{booleanValue:Q};if("string"==typeof Q)return{stringValue:Q};if(Q instanceof Date){let R=Timestamp.fromDate(Q);return{timestampValue:toTimestamp(S.serializer,R)}}if(Q instanceof Timestamp){let R=new Timestamp(Q.seconds,1e3*Math.floor(Q.nanoseconds/1e3));return{timestampValue:toTimestamp(S.serializer,R)}}if(Q instanceof GeoPoint)return{geoPointValue:{latitude:Q.latitude,longitude:Q.longitude}};else if(Q instanceof Bytes)return{bytesValue:toBytes(S.serializer,Q._byteString)};else if(Q instanceof DocumentReference){let R=S.databaseId,N=Q.firestore._databaseId;if(!N.isEqual(R))throw S.createError(`Document reference is for database ${N.projectId}/${N.database} but should be for database ${R.projectId}/${R.database}`);return{referenceValue:toResourceName(Q.firestore._databaseId||S.databaseId,Q._key.path)}}else throw S.createError(`Unsupported field value: ${valueDescription(Q)}`)}function looksLikeJsonObject(Q){return"object"==typeof Q&&null!==Q&&!(Q instanceof Array)&&!(Q instanceof Date)&&!(Q instanceof Timestamp)&&!(Q instanceof GeoPoint)&&!(Q instanceof Bytes)&&!(Q instanceof DocumentReference)&&!(Q instanceof FieldValue)}function validatePlainObject(Q,S,R){if(!looksLikeJsonObject(R)||!isPlainObject(R)){let N=valueDescription(R);if("an object"===N)throw S.createError(Q+" a custom object");throw S.createError(Q+" "+N)}}function fieldPathFromArgument$1(Q,S,R){if((S=(0,X.m9)(S))instanceof FieldPath)return S._internalPath;if("string"==typeof S)return fieldPathFromDotSeparatedString(Q,S);{let S="Field path arguments must be of type string or ";throw createError(S,Q,!1,void 0,R)}}let nb=RegExp("[~\\*/\\[\\]]");function fieldPathFromDotSeparatedString(Q,S,R){let N=S.search(nb);if(N>=0)throw createError(`Invalid field path (${S}). Paths must not contain '~', '*', '/', '[', or ']'`,Q,!1,void 0,R);try{return new FieldPath(...S.split("."))._internalPath}catch(N){throw createError(`Invalid field path (${S}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Q,!1,void 0,R)}}function createError(Q,S,R,N,M){let L=N&&!N.isEmpty(),U=void 0!==M,P=`Function ${S}() called with invalid data`;R&&(P+=" (via `toFirestore()`)"),P+=". ";let Y="";return(L||U)&&(Y+=" (found",L&&(Y+=` in field ${N}`),U&&(Y+=` in document ${M}`),Y+=")"),new FirestoreError(ec.INVALID_ARGUMENT,P+Q+Y)}function fieldMaskContains(Q,S){return Q.some(Q=>Q.isEqual(S))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentSnapshot$1=class DocumentSnapshot$1{constructor(Q,S,R,N,M){this._firestore=Q,this._userDataWriter=S,this._key=R,this._document=N,this._converter=M}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let Q=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(Q)}}}get(Q){if(this._document){let S=this._document.data.field(fieldPathFromArgument("DocumentSnapshot.get",Q));if(null!==S)return this._userDataWriter.convertValue(S)}}};let QueryDocumentSnapshot$1=class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}};function fieldPathFromArgument(Q,S){return"string"==typeof S?fieldPathFromDotSeparatedString(Q,S):S instanceof FieldPath?S._internalPath:S._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateHasExplicitOrderByForLimitToLast(Q){if("L"===Q.limitType&&0===Q.explicitOrderBy.length)throw new FirestoreError(ec.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let QueryFieldFilterConstraint=class QueryFieldFilterConstraint extends null{constructor(Q,S,R){super(),this._field=Q,this._op=S,this._value=R,this.type="where"}static _create(Q,S,R){return new QueryFieldFilterConstraint(Q,S,R)}_apply(Q){let S=this._parse(Q);return validateNewFieldFilter(Q._query,S),new Query(Q.firestore,Q.converter,queryWithAddedFilter(Q._query,S))}_parse(Q){let S=newUserDataReader(Q.firestore),R=newQueryFilter(Q._query,"where",S,Q.firestore._databaseId,this._field,this._op,this._value);return R}};let QueryCompositeFilterConstraint=class QueryCompositeFilterConstraint extends null{constructor(Q,S){super(),this.type=Q,this._queryConstraints=S}static _create(Q,S){return new QueryCompositeFilterConstraint(Q,S)}_parse(Q){let S=this._queryConstraints.map(S=>S._parse(Q)).filter(Q=>Q.getFilters().length>0);return 1===S.length?S[0]:CompositeFilter.create(S,this._getOperator())}_apply(Q){let S=this._parse(Q);return 0===S.getFilters().length?Q:(validateNewFilter(Q._query,S),new Query(Q.firestore,Q.converter,queryWithAddedFilter(Q._query,S)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}};let QueryOrderByConstraint=class QueryOrderByConstraint extends null{constructor(Q,S){super(),this._field=Q,this._direction=S,this.type="orderBy"}static _create(Q,S){return new QueryOrderByConstraint(Q,S)}_apply(Q){let S=newQueryOrderBy(Q._query,this._field,this._direction);return new Query(Q.firestore,Q.converter,queryWithAddedOrderBy(Q._query,S))}};let QueryLimitConstraint=class QueryLimitConstraint extends null{constructor(Q,S,R){super(),this.type=Q,this._limit=S,this._limitType=R}static _create(Q,S,R){return new QueryLimitConstraint(Q,S,R)}_apply(Q){return new Query(Q.firestore,Q.converter,queryWithLimit(Q._query,this._limit,this._limitType))}};let QueryStartAtConstraint=class QueryStartAtConstraint extends null{constructor(Q,S,R){super(),this.type=Q,this._docOrFields=S,this._inclusive=R}static _create(Q,S,R){return new QueryStartAtConstraint(Q,S,R)}_apply(Q){let S=newQueryBoundFromDocOrFields(Q,this.type,this._docOrFields,this._inclusive);return new Query(Q.firestore,Q.converter,queryWithStartAt(Q._query,S))}};let QueryEndAtConstraint=class QueryEndAtConstraint extends null{constructor(Q,S,R){super(),this.type=Q,this._docOrFields=S,this._inclusive=R}static _create(Q,S,R){return new QueryEndAtConstraint(Q,S,R)}_apply(Q){let S=newQueryBoundFromDocOrFields(Q,this.type,this._docOrFields,this._inclusive);return new Query(Q.firestore,Q.converter,queryWithEndAt(Q._query,S))}};function newQueryBoundFromDocOrFields(Q,S,R,N){if(R[0]=getModularInstance(R[0]),R[0]instanceof DocumentSnapshot$1)return newQueryBoundFromDocument(Q._query,Q.firestore._databaseId,S,R[0]._document,N);{let M=newUserDataReader(Q.firestore);return newQueryBoundFromFields(Q._query,Q.firestore._databaseId,M,S,R,N)}}function newQueryFilter(Q,S,R,N,M,L,U){let P;if(M.isKeyField()){if("array-contains"===L||"array-contains-any"===L)throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid Query. You can't perform '${L}' queries on documentId().`);if("in"===L||"not-in"===L){validateDisjunctiveFilterElements(U,L);let S=[];for(let R of U)S.push(parseDocumentIdValue(N,Q,R));P={arrayValue:{values:S}}}else P=parseDocumentIdValue(N,Q,U)}else("in"===L||"not-in"===L||"array-contains-any"===L)&&validateDisjunctiveFilterElements(U,L),P=parseQueryValue(R,S,U,"in"===L||"not-in"===L);let Y=FieldFilter.create(M,L,P);return Y}function newQueryOrderBy(Q,S,R){if(null!==Q.startAt)throw new FirestoreError(ec.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==Q.endAt)throw new FirestoreError(ec.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");let N=new OrderBy(S,R);return N}function newQueryBoundFromDocument(Q,S,R,N,M){if(!N)throw new FirestoreError(ec.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);let L=[];for(let R of queryNormalizedOrderBy(Q))if(R.field.isKeyField())L.push(refValue(S,N.key));else{let Q=N.data.field(R.field);if(isServerTimestamp(Q))throw new FirestoreError(ec.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==Q)L.push(Q);else{let Q=R.field.canonicalString();throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}}return new Bound(L,M)}function newQueryBoundFromFields(Q,S,R,N,M,L){let U=Q.explicitOrderBy;if(M.length>U.length)throw new FirestoreError(ec.INVALID_ARGUMENT,`Too many arguments provided to ${N}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let P=[];for(let L=0;L<M.length;L++){let Y=M[L],W=U[L];if(W.field.isKeyField()){if("string"!=typeof Y)throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${N}(), but got a ${typeof Y}`);if(!isCollectionGroupQuery(Q)&&-1!==Y.indexOf("/"))throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${N}() must be a plain document ID, but '${Y}' contains a slash.`);let R=Q.path.child(ResourcePath.fromString(Y));if(!DocumentKey.isDocumentKey(R))throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${N}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);let M=new DocumentKey(R);P.push(refValue(S,M))}else{let Q=parseQueryValue(R,N,Y);P.push(Q)}}return new Bound(P,L)}function parseDocumentIdValue(Q,S,R){if("string"==typeof(R=getModularInstance(R))){if(""===R)throw new FirestoreError(ec.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!isCollectionGroupQuery(S)&&-1!==R.indexOf("/"))throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${R}' contains a '/' character.`);let N=S.path.child(ResourcePath.fromString(R));if(!DocumentKey.isDocumentKey(N))throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${N}' is not because it has an odd number of segments (${N.length}).`);return refValue(Q,new DocumentKey(N))}if(R instanceof DocumentReference)return refValue(Q,R._key);throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${valueDescription(R)}.`)}function validateDisjunctiveFilterElements(Q,S){if(!Array.isArray(Q)||0===Q.length)throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${S.toString()}' filters.`)}function conflictingOps(Q){switch(Q){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function validateNewFieldFilter(Q,S){let R=findOpInsideFilters(Q.filters,conflictingOps(S.op));if(null!==R){if(R===S.op)throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${S.op.toString()}' filter.`);throw new FirestoreError(ec.INVALID_ARGUMENT,`Invalid query. You cannot use '${S.op.toString()}' filters with '${R.toString()}' filters.`)}}function validateNewFilter(Q,S){let R=Q,N=S.getFlattenedFilters();for(let Q of N)validateNewFieldFilter(R,Q),R=queryWithAddedFilter(R,Q)}function findOpInsideFilters(Q,S){for(let R of Q)for(let Q of R.getFlattenedFilters())if(S.indexOf(Q.op)>=0)return Q.op;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AbstractUserDataWriter=class AbstractUserDataWriter{convertValue(Q,S="none"){switch(typeOrder(Q)){case 0:return null;case 1:return Q.booleanValue;case 2:return normalizeNumber(Q.integerValue||Q.doubleValue);case 3:return this.convertTimestamp(Q.timestampValue);case 4:return this.convertServerTimestamp(Q,S);case 5:return Q.stringValue;case 6:return this.convertBytes(normalizeByteString(Q.bytesValue));case 7:return this.convertReference(Q.referenceValue);case 8:return this.convertGeoPoint(Q.geoPointValue);case 9:return this.convertArray(Q.arrayValue,S);case 10:return this.convertObject(Q.mapValue,S);default:throw fail()}}convertObject(Q,S){return this.convertObjectMap(Q.fields,S)}convertObjectMap(Q,S="none"){let R={};return forEach(Q,(Q,N)=>{R[Q]=this.convertValue(N,S)}),R}convertGeoPoint(Q){return new GeoPoint(normalizeNumber(Q.latitude),normalizeNumber(Q.longitude))}convertArray(Q,S){return(Q.values||[]).map(Q=>this.convertValue(Q,S))}convertServerTimestamp(Q,S){switch(S){case"previous":let R=getPreviousValue(Q);if(null==R)return null;return this.convertValue(R,S);case"estimate":return this.convertTimestamp(getLocalWriteTime(Q));default:return null}}convertTimestamp(Q){let S=normalizeTimestamp(Q);return new Timestamp(S.seconds,S.nanos)}convertDocumentKey(Q,S){let R=ResourcePath.fromString(Q);hardAssert(isValidResourceName(R));let N=new DatabaseId(R.get(1),R.get(3)),M=new DocumentKey(R.popFirst(5));return N.isEqual(S)||logError(`Document ${M} contains a document reference within a different database (${N.projectId}/${N.database}) which is not supported. It will be treated as a reference in the current database (${S.projectId}/${S.database}) instead.`),M}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function applyFirestoreDataConverter(Q,S,R){return Q?R&&(R.merge||R.mergeFields)?Q.toFirestore(S,R):Q.toFirestore(S):S}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SnapshotMetadata=class SnapshotMetadata{constructor(Q,S){this.hasPendingWrites=Q,this.fromCache=S}isEqual(Q){return this.hasPendingWrites===Q.hasPendingWrites&&this.fromCache===Q.fromCache}};let DocumentSnapshot=class DocumentSnapshot extends DocumentSnapshot$1{constructor(Q,S,R,N,M,L){super(Q,S,R,N,L),this._firestore=Q,this._firestoreImpl=Q,this.metadata=M}exists(){return super.exists()}data(Q={}){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value,Q.serverTimestamps);{let S=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(S,Q)}}}get(Q,S={}){if(this._document){let R=this._document.data.field(fieldPathFromArgument("DocumentSnapshot.get",Q));if(null!==R)return this._userDataWriter.convertValue(R,S.serverTimestamps)}}};let QueryDocumentSnapshot=class QueryDocumentSnapshot extends DocumentSnapshot{data(Q={}){return super.data(Q)}};let QuerySnapshot=class QuerySnapshot{constructor(Q,S,R,N){this._firestore=Q,this._userDataWriter=S,this._snapshot=N,this.metadata=new SnapshotMetadata(N.hasPendingWrites,N.fromCache),this.query=R}get docs(){let Q=[];return this.forEach(S=>Q.push(S)),Q}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(Q,S){this._snapshot.docs.forEach(R=>{Q.call(S,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,R.key,R,new SnapshotMetadata(this._snapshot.mutatedKeys.has(R.key),this._snapshot.fromCache),this.query.converter))})}docChanges(Q={}){let S=!!Q.includeMetadataChanges;if(S&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(ec.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===S||(this._cachedChanges=changesFromSnapshot(this,S),this._cachedChangesIncludeMetadataChanges=S),this._cachedChanges}};function changesFromSnapshot(Q,S){if(Q._snapshot.oldDocs.isEmpty()){let S=0;return Q._snapshot.docChanges.map(R=>{let N=new QueryDocumentSnapshot(Q._firestore,Q._userDataWriter,R.doc.key,R.doc,new SnapshotMetadata(Q._snapshot.mutatedKeys.has(R.doc.key),Q._snapshot.fromCache),Q.query.converter);return R.doc,{type:"added",doc:N,oldIndex:-1,newIndex:S++}})}{let R=Q._snapshot.oldDocs;return Q._snapshot.docChanges.filter(Q=>S||3!==Q.type).map(S=>{let N=new QueryDocumentSnapshot(Q._firestore,Q._userDataWriter,S.doc.key,S.doc,new SnapshotMetadata(Q._snapshot.mutatedKeys.has(S.doc.key),Q._snapshot.fromCache),Q.query.converter),M=-1,L=-1;return 0!==S.type&&(M=R.indexOf(S.doc.key),R=R.delete(S.doc.key)),1!==S.type&&(L=(R=R.add(S.doc)).indexOf(S.doc.key)),{type:resultChangeType(S.type),doc:N,oldIndex:M,newIndex:L}})}}function resultChangeType(Q){switch(Q){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}let ExpUserDataWriter=class ExpUserDataWriter extends AbstractUserDataWriter{constructor(Q){super(),this.firestore=Q}convertBytes(Q){return new Bytes(Q)}convertReference(Q){let S=this.convertDocumentKey(Q,this.firestore._databaseId);return new DocumentReference(this.firestore,null,S)}};function getDocs(Q){Q=cast(Q,Query);let S=cast(Q.firestore,Firestore),R=ensureFirestoreConfigured(S),N=new ExpUserDataWriter(S);return validateHasExplicitOrderByForLimitToLast(Q._query),firestoreClientGetDocumentsViaSnapshotListener(R,Q._query).then(R=>new QuerySnapshot(S,N,Q,R))}function addDoc(Q,S){let R=cast(Q.firestore,Firestore),N=doc(Q),M=applyFirestoreDataConverter(Q.converter,S),L=newUserDataReader(Q.firestore),U=parseSetData(L,"addDoc",N._key,M,null!==Q.converter,{}),P=U.toMutation(N._key,Precondition.exists(!1));return executeWrite(R,[P]).then(()=>N)}function executeWrite(Q,S){let R=ensureFirestoreConfigured(Q);return firestoreClientWrite(R,S)}let SingleTabManagerImpl=class SingleTabManagerImpl{constructor(Q){this.forceOwnership=Q,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(Q){this._onlineComponentProvider=new OnlineComponentProvider,this._offlineComponentProvider=new IndexedDbOfflineComponentProvider(this._onlineComponentProvider,null==Q?void 0:Q.cacheSizeBytes,this.forceOwnership)}};new WeakMap,/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerFirestore("node")},31640:(Q,S,R)=>{"use strict";R.d(S,{Jt:()=>getDownloadURL,cF:()=>getStorage,iH:()=>ref});var N,M,L=R(55087),U=R(51780);R(12781);var P=R(42753),Y=R(77345);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W="firebasestorage.googleapis.com",K="storageBucket",X=12e4,Z=6e5,$=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StorageError=class StorageError extends U.ZR{constructor(Q,S,R=0){super(prependCode(Q),`Firebase Storage: ${S} (${prependCode(Q)})`),this.status_=R,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return prependCode(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};function prependCode(Q){return"storage/"+Q}function unknown(){let Q="An unknown error occurred, please check the error payload for server response.";return new StorageError(N.UNKNOWN,Q)}function objectNotFound(Q){return new StorageError(N.OBJECT_NOT_FOUND,"Object '"+Q+"' does not exist.")}function quotaExceeded(Q){return new StorageError(N.QUOTA_EXCEEDED,"Quota for bucket '"+Q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){let Q="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(N.UNAUTHENTICATED,Q)}function unauthorizedApp(){return new StorageError(N.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(Q){return new StorageError(N.UNAUTHORIZED,"User does not have permission to access '"+Q+"'.")}function retryLimitExceeded(){return new StorageError(N.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(N.CANCELED,"User canceled the upload/download.")}function invalidUrl(Q){return new StorageError(N.INVALID_URL,"Invalid URL '"+Q+"'.")}function invalidDefaultBucket(Q){return new StorageError(N.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Q+"'.")}function noDefaultBucket(){return new StorageError(N.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+K+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(N.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function serverFileWrongSize(){return new StorageError(N.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function noDownloadURL(){return new StorageError(N.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function invalidArgument(Q){return new StorageError(N.INVALID_ARGUMENT,Q)}function appDeleted(){return new StorageError(N.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(Q){return new StorageError(N.INVALID_ROOT_OPERATION,"The operation '"+Q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(Q,S){return new StorageError(N.INVALID_FORMAT,"String does not match format '"+Q+"': "+S)}function internalError(Q){throw new StorageError(N.INTERNAL_ERROR,"Internal error: "+Q)}!function(Q){Q.UNKNOWN="unknown",Q.OBJECT_NOT_FOUND="object-not-found",Q.BUCKET_NOT_FOUND="bucket-not-found",Q.PROJECT_NOT_FOUND="project-not-found",Q.QUOTA_EXCEEDED="quota-exceeded",Q.UNAUTHENTICATED="unauthenticated",Q.UNAUTHORIZED="unauthorized",Q.UNAUTHORIZED_APP="unauthorized-app",Q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Q.INVALID_CHECKSUM="invalid-checksum",Q.CANCELED="canceled",Q.INVALID_EVENT_NAME="invalid-event-name",Q.INVALID_URL="invalid-url",Q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Q.NO_DEFAULT_BUCKET="no-default-bucket",Q.CANNOT_SLICE_BLOB="cannot-slice-blob",Q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Q.NO_DOWNLOAD_URL="no-download-url",Q.INVALID_ARGUMENT="invalid-argument",Q.INVALID_ARGUMENT_COUNT="invalid-argument-count",Q.APP_DELETED="app-deleted",Q.INVALID_ROOT_OPERATION="invalid-root-operation",Q.INVALID_FORMAT="invalid-format",Q.INTERNAL_ERROR="internal-error",Q.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(N||(N={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Location=class Location{constructor(Q,S){this.bucket=Q,this.path_=S}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){let Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o"}static makeFromBucketSpec(Q,S){let R;try{R=Location.makeFromUrl(Q,S)}catch(S){return new Location(Q,"")}if(""===R.path)return R;throw invalidDefaultBucket(Q)}static makeFromUrl(Q,S){let R=null,N="([A-Za-z0-9.\\-_]+)";function gsModify(Q){"/"===Q.path.charAt(Q.path.length-1)&&(Q.path_=Q.path_.slice(0,-1))}let M="(/(.*))?$",L=RegExp("^gs://"+N+M,"i"),U={bucket:1,path:3};function httpModify(Q){Q.path_=decodeURIComponent(Q.path)}let P="v[A-Za-z0-9_]+",Y=S.replace(/[.]/g,"\\."),K="(/([^?#]*).*)?$",X=RegExp(`^https?://${Y}/${P}/b/${N}/o${K}`,"i"),Z={bucket:1,path:3},$=S===W?"(?:storage.googleapis.com|storage.cloud.google.com)":S,ee="([^?#]*)",et=RegExp(`^https?://${$}/${N}/${ee}`,"i"),en={bucket:1,path:2},ei=[{regex:L,indices:U,postModify:gsModify},{regex:X,indices:Z,postModify:httpModify},{regex:et,indices:en,postModify:httpModify}];for(let S=0;S<ei.length;S++){let N=ei[S],M=N.regex.exec(Q);if(M){let Q=M[N.indices.bucket],S=M[N.indices.path];S||(S=""),R=new Location(Q,S),N.postModify(R);break}}if(null==R)throw invalidUrl(Q);return R}};let FailRequest=class FailRequest{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(Q,S,R){let N=1,M=null,L=null,U=!1,P=0;function canceled(){return 2===P}let Y=!1;function triggerCallback(...Q){Y||(Y=!0,S.apply(null,Q))}function callWithDelay(S){M=setTimeout(()=>{M=null,Q(responseHandler,canceled())},S)}function clearGlobalTimeout(){L&&clearTimeout(L)}function responseHandler(Q,...S){let R;if(Y){clearGlobalTimeout();return}if(Q){clearGlobalTimeout(),triggerCallback.call(null,Q,...S);return}let M=canceled()||U;if(M){clearGlobalTimeout(),triggerCallback.call(null,Q,...S);return}N<64&&(N*=2),1===P?(P=2,R=0):R=(N+Math.random())*1e3,callWithDelay(R)}let W=!1;function stop(Q){!W&&(W=!0,clearGlobalTimeout(),!Y&&(null!==M?(Q||(P=2),clearTimeout(M),callWithDelay(0)):Q||(P=1)))}return callWithDelay(0),L=setTimeout(()=>{U=!0,stop(!0)},R),stop}function stop(Q){Q(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(Q){return void 0!==Q}function isFunction(Q){return"function"==typeof Q}function isNonArrayObject(Q){return"object"==typeof Q&&!Array.isArray(Q)}function isString(Q){return"string"==typeof Q||Q instanceof String}function isNativeBlob(Q){return isNativeBlobDefined()&&Q instanceof Blob}function isNativeBlobDefined(){return"undefined"!=typeof Blob}function validateNumber(Q,S,R,N){if(N<S)throw invalidArgument(`Invalid value for '${Q}'. Expected ${S} or greater.`);if(N>R)throw invalidArgument(`Invalid value for '${Q}'. Expected ${R} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(Q,S,R){let N=S;return null==R&&(N=`https://${S}`),`${R}://${N}/v0${Q}`}function makeQueryString(Q){let S=encodeURIComponent,R="?";for(let N in Q)if(Q.hasOwnProperty(N)){let M=S(N)+"="+S(Q[N]);R=R+M+"&"}return R.slice(0,-1)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(Q,S){let R=Q>=500&&Q<600,N=[408,429],M=-1!==N.indexOf(Q),L=-1!==S.indexOf(Q);return R||M||L}!function(Q){Q[Q.NO_ERROR=0]="NO_ERROR",Q[Q.NETWORK_ERROR=1]="NETWORK_ERROR",Q[Q.ABORT=2]="ABORT"}(M||(M={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NetworkRequest=class NetworkRequest{constructor(Q,S,R,N,M,L,U,P,Y,W,K,X=!0){this.url_=Q,this.method_=S,this.headers_=R,this.body_=N,this.successCodes_=M,this.additionalRetryCodes_=L,this.callback_=U,this.errorCallback_=P,this.timeout_=Y,this.progressCallback_=W,this.connectionFactory_=K,this.retry=X,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,S)=>{this.resolve_=Q,this.reject_=S,this.start_()})}start_(){let doTheRequest=(Q,S)=>{if(S){Q(!1,new RequestEndStatus(!1,null,!0));return}let R=this.connectionFactory_();this.pendingConnection_=R;let progressListener=Q=>{let S=Q.loaded,R=Q.lengthComputable?Q.total:-1;null!==this.progressCallback_&&this.progressCallback_(S,R)};null!==this.progressCallback_&&R.addUploadProgressListener(progressListener),R.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&R.removeUploadProgressListener(progressListener),this.pendingConnection_=null;let S=R.getErrorCode()===M.NO_ERROR,N=R.getStatus();if(!S||isRetryStatusCode(N,this.additionalRetryCodes_)&&this.retry){let S=R.getErrorCode()===M.ABORT;Q(!1,new RequestEndStatus(!1,null,S));return}let L=-1!==this.successCodes_.indexOf(N);Q(!0,new RequestEndStatus(L,R))})},backoffDone=(Q,S)=>{let R=this.resolve_,N=this.reject_,M=S.connection;if(S.wasSuccessCode)try{let Q=this.callback_(M,M.getResponse());isJustDef(Q)?R(Q):R()}catch(Q){N(Q)}else if(null!==M){let Q=unknown();Q.serverResponse=M.getErrorText(),N(this.errorCallback_?this.errorCallback_(M,Q):Q)}else if(S.canceled){let Q=this.appDelete_?appDeleted():canceled();N(Q)}else{let Q=retryLimitExceeded();N(Q)}};this.canceled_?backoffDone(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(doTheRequest,backoffDone,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&stop(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}};let RequestEndStatus=class RequestEndStatus{constructor(Q,S,R){this.wasSuccessCode=Q,this.connection=S,this.canceled=!!R}};function addAuthHeader_(Q,S){null!==S&&S.length>0&&(Q.Authorization="Firebase "+S)}function addVersionHeader_(Q,S){Q["X-Firebase-Storage-Version"]="webjs/"+(null!=S?S:"AppManager")}function addGmpidHeader_(Q,S){S&&(Q["X-Firebase-GMPID"]=S)}function addAppCheckHeader_(Q,S){null!==S&&(Q["X-Firebase-AppCheck"]=S)}function makeRequest(Q,S,R,N,M,L,U=!0){let P=makeQueryString(Q.urlParams),Y=Q.url+P,W=Object.assign({},Q.headers);return addGmpidHeader_(W,S),addAuthHeader_(W,R),addVersionHeader_(W,L),addAppCheckHeader_(W,N),new NetworkRequest(Y,Q.method,W,Q.body,Q.successCodes,Q.additionalRetryCodes,Q.handler,Q.errorHandler,Q.timeout,Q.progressCallback,M,U)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function getBlob$1(...Q){let S=getBlobBuilder();if(void 0!==S){let R=new S;for(let S=0;S<Q.length;S++)R.append(Q[S]);return R.getBlob()}if(isNativeBlobDefined())return new Blob(Q);throw new StorageError(N.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function sliceBlob(Q,S,R){return Q.webkitSlice?Q.webkitSlice(S,R):Q.mozSlice?Q.mozSlice(S,R):Q.slice?Q.slice(S,R):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(Q){if(/[^-A-Za-z0-9+/=]/.test(Q))throw invalidFormat("base64","Invalid character found");return Buffer.from(Q,"base64").toString("binary")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ee={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};let StringData=class StringData{constructor(Q,S){this.data=Q,this.contentType=S||null}};function dataFromString(Q,S){switch(Q){case ee.RAW:return new StringData(utf8Bytes_(S));case ee.BASE64:case ee.BASE64URL:return new StringData(base64Bytes_(Q,S));case ee.DATA_URL:return new StringData(dataURLBytes_(S),dataURLContentType_(S))}throw unknown()}function utf8Bytes_(Q){let S=[];for(let R=0;R<Q.length;R++){let N=Q.charCodeAt(R);if(N<=127)S.push(N);else if(N<=2047)S.push(192|N>>6,128|63&N);else if((64512&N)==55296){let M=R<Q.length-1&&(64512&Q.charCodeAt(R+1))==56320;if(M){let M=N,L=Q.charCodeAt(++R);N=65536|(1023&M)<<10|1023&L,S.push(240|N>>18,128|N>>12&63,128|N>>6&63,128|63&N)}else S.push(239,191,189)}else(64512&N)==56320?S.push(239,191,189):S.push(224|N>>12,128|N>>6&63,128|63&N)}return new Uint8Array(S)}function percentEncodedBytes_(Q){let S;try{S=decodeURIComponent(Q)}catch(Q){throw invalidFormat(ee.DATA_URL,"Malformed data URL.")}return utf8Bytes_(S)}function base64Bytes_(Q,S){let R;switch(Q){case ee.BASE64:{let R=-1!==S.indexOf("-"),N=-1!==S.indexOf("_");if(R||N){let S=R?"-":"_";throw invalidFormat(Q,"Invalid character '"+S+"' found: is it base64url encoded?")}break}case ee.BASE64URL:{let R=-1!==S.indexOf("+"),N=-1!==S.indexOf("/");if(R||N){let S=R?"+":"/";throw invalidFormat(Q,"Invalid character '"+S+"' found: is it base64 encoded?")}S=S.replace(/-/g,"+").replace(/_/g,"/")}}try{R=decodeBase64(S)}catch(S){if(S.message.includes("polyfill"))throw S;throw invalidFormat(Q,"Invalid character found")}let N=new Uint8Array(R.length);for(let Q=0;Q<R.length;Q++)N[Q]=R.charCodeAt(Q);return N}let DataURLParts=class DataURLParts{constructor(Q){this.base64=!1,this.contentType=null;let S=Q.match(/^data:([^,]+)?,/);if(null===S)throw invalidFormat(ee.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let R=S[1]||null;null!=R&&(this.base64=endsWith(R,";base64"),this.contentType=this.base64?R.substring(0,R.length-7):R),this.rest=Q.substring(Q.indexOf(",")+1)}};function dataURLBytes_(Q){let S=new DataURLParts(Q);return S.base64?base64Bytes_(ee.BASE64,S.rest):percentEncodedBytes_(S.rest)}function dataURLContentType_(Q){let S=new DataURLParts(Q);return S.contentType}function endsWith(Q,S){let R=Q.length>=S.length;return!!R&&Q.substring(Q.length-S.length)===S}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FbsBlob=class FbsBlob{constructor(Q,S){let R=0,N="";isNativeBlob(Q)?(this.data_=Q,R=Q.size,N=Q.type):Q instanceof ArrayBuffer?(S?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),R=this.data_.length):Q instanceof Uint8Array&&(S?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),R=Q.length),this.size_=R,this.type_=N}size(){return this.size_}type(){return this.type_}slice(Q,S){if(isNativeBlob(this.data_)){let R=this.data_,N=sliceBlob(R,Q,S);return null===N?null:new FbsBlob(N)}{let R=new Uint8Array(this.data_.buffer,Q,S-Q);return new FbsBlob(R,!0)}}static getBlob(...Q){if(isNativeBlobDefined()){let S=Q.map(Q=>Q instanceof FbsBlob?Q.data_:Q);return new FbsBlob(getBlob$1.apply(null,S))}{let S=Q.map(Q=>isString(Q)?dataFromString(ee.RAW,Q).data:Q.data_),R=0;S.forEach(Q=>{R+=Q.byteLength});let N=new Uint8Array(R),M=0;return S.forEach(Q=>{for(let S=0;S<Q.length;S++)N[M++]=Q[S]}),new FbsBlob(N,!0)}}uploadData(){return this.data_}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(Q){let S;try{S=JSON.parse(Q)}catch(Q){return null}return isNonArrayObject(S)?S:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function index_node_esm_parent(Q){if(0===Q.length)return null;let S=Q.lastIndexOf("/");if(-1===S)return"";let R=Q.slice(0,S);return R}function child(Q,S){let R=S.split("/").filter(Q=>Q.length>0).join("/");return 0===Q.length?R:Q+"/"+R}function lastComponent(Q){let S=Q.lastIndexOf("/",Q.length-2);return -1===S?Q:Q.slice(S+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(Q,S){return S}let Mapping=class Mapping{constructor(Q,S,R,N){this.server=Q,this.local=S||Q,this.writable=!!R,this.xform=N||noXform_}};let et=null;function xformPath(Q){return!isString(Q)||Q.length<2?Q:lastComponent(Q)}function getMappings(){if(et)return et;let Q=[];function mappingsXformPath(Q,S){return xformPath(S)}Q.push(new Mapping("bucket")),Q.push(new Mapping("generation")),Q.push(new Mapping("metageneration")),Q.push(new Mapping("name","fullPath",!0));let S=new Mapping("name");function xformSize(Q,S){return void 0!==S?Number(S):S}S.xform=mappingsXformPath,Q.push(S);let R=new Mapping("size");return R.xform=xformSize,Q.push(R),Q.push(new Mapping("timeCreated")),Q.push(new Mapping("updated")),Q.push(new Mapping("md5Hash",null,!0)),Q.push(new Mapping("cacheControl",null,!0)),Q.push(new Mapping("contentDisposition",null,!0)),Q.push(new Mapping("contentEncoding",null,!0)),Q.push(new Mapping("contentLanguage",null,!0)),Q.push(new Mapping("contentType",null,!0)),Q.push(new Mapping("metadata","customMetadata",!0)),et=Q}function addRef(Q,S){function generateRef(){let R=Q.bucket,N=Q.fullPath,M=new Location(R,N);return S._makeStorageReference(M)}Object.defineProperty(Q,"ref",{get:generateRef})}function fromResource(Q,S,R){let N={};N.type="file";let M=R.length;for(let Q=0;Q<M;Q++){let M=R[Q];N[M.local]=M.xform(N,S[M.server])}return addRef(N,Q),N}function fromResourceString(Q,S,R){let N=jsonObjectOrNull(S);if(null===N)return null;let M=N;return fromResource(Q,M,R)}function downloadUrlFromResourceString(Q,S,R,N){let M=jsonObjectOrNull(S);if(null===M||!isString(M.downloadTokens))return null;let L=M.downloadTokens;if(0===L.length)return null;let U=encodeURIComponent,P=L.split(","),Y=P.map(S=>{let M=Q.bucket,L=Q.fullPath,P="/b/"+U(M)+"/o/"+U(L),Y=makeUrl(P,R,N),W=makeQueryString({alt:"media",token:S});return Y+W});return Y[0]}function toResourceString(Q,S){let R={},N=S.length;for(let M=0;M<N;M++){let N=S[M];N.writable&&(R[N.server]=Q[N.local])}return JSON.stringify(R)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en="prefixes",ei="items";function fromBackendResponse(Q,S,R){let N={prefixes:[],items:[],nextPageToken:R.nextPageToken};if(R[en])for(let M of R[en]){let R=M.replace(/\/$/,""),L=Q._makeStorageReference(new Location(S,R));N.prefixes.push(L)}if(R[ei])for(let M of R[ei]){let R=Q._makeStorageReference(new Location(S,M.name));N.items.push(R)}return N}function fromResponseString(Q,S,R){let N=jsonObjectOrNull(R);if(null===N)return null;let M=N;return fromBackendResponse(Q,S,M)}let RequestInfo=class RequestInfo{constructor(Q,S,R,N){this.url=Q,this.method=S,this.handler=R,this.timeout=N,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(Q){if(!Q)throw unknown()}function metadataHandler(Q,S){return function(R,N){let M=fromResourceString(Q,N,S);return handlerCheck(null!==M),M}}function listHandler(Q,S){return function(R,N){let M=fromResponseString(Q,S,N);return handlerCheck(null!==M),M}}function downloadUrlHandler(Q,S){return function(R,N){let M=fromResourceString(Q,N,S);return handlerCheck(null!==M),downloadUrlFromResourceString(M,N,Q.host,Q._protocol)}}function sharedErrorHandler(Q){return function(S,R){let N;return(N=401===S.getStatus()?S.getErrorText().includes("Firebase App Check token is invalid")?unauthorizedApp():unauthenticated():402===S.getStatus()?quotaExceeded(Q.bucket):403===S.getStatus()?unauthorized(Q.path):R).status=S.getStatus(),N.serverResponse=R.serverResponse,N}}function objectErrorHandler(Q){let S=sharedErrorHandler(Q);return function(R,N){let M=S(R,N);return 404===R.getStatus()&&(M=objectNotFound(Q.path)),M.serverResponse=N.serverResponse,M}}function getMetadata$2(Q,S,R){let N=S.fullServerUrl(),M=makeUrl(N,Q.host,Q._protocol),L="GET",U=Q.maxOperationRetryTime,P=new RequestInfo(M,L,metadataHandler(Q,R),U);return P.errorHandler=objectErrorHandler(S),P}function list$2(Q,S,R,N,M){let L={};S.isRoot?L.prefix="":L.prefix=S.path+"/",R&&R.length>0&&(L.delimiter=R),N&&(L.pageToken=N),M&&(L.maxResults=M);let U=S.bucketOnlyServerUrl(),P=makeUrl(U,Q.host,Q._protocol),Y="GET",W=Q.maxOperationRetryTime,K=new RequestInfo(P,Y,listHandler(Q,S.bucket),W);return K.urlParams=L,K.errorHandler=sharedErrorHandler(S),K}function getDownloadUrl(Q,S,R){let N=S.fullServerUrl(),M=makeUrl(N,Q.host,Q._protocol),L="GET",U=Q.maxOperationRetryTime,P=new RequestInfo(M,L,downloadUrlHandler(Q,R),U);return P.errorHandler=objectErrorHandler(S),P}function determineContentType_(Q,S){return Q&&Q.contentType||S&&S.type()||"application/octet-stream"}function metadataForUpload_(Q,S,R){let N=Object.assign({},R);return N.fullPath=Q.path,N.size=S.size(),N.contentType||(N.contentType=determineContentType_(null,S)),N}function multipartUpload(Q,S,R,N,M){let L=S.bucketOnlyServerUrl(),U={"X-Goog-Upload-Protocol":"multipart"};function genBoundary(){let Q="";for(let S=0;S<2;S++)Q+=Math.random().toString().slice(2);return Q}let P=genBoundary();U["Content-Type"]="multipart/related; boundary="+P;let Y=metadataForUpload_(S,N,M),W=toResourceString(Y,R),K="--"+P+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+W+"\r\n--"+P+"\r\nContent-Type: "+Y.contentType+"\r\n\r\n",X="\r\n--"+P+"--",Z=FbsBlob.getBlob(K,N,X);if(null===Z)throw cannotSliceBlob();let $={name:Y.fullPath},ee=makeUrl(L,Q.host,Q._protocol),et="POST",en=Q.maxUploadRetryTime,ei=new RequestInfo(ee,et,metadataHandler(Q,R),en);return ei.urlParams=$,ei.headers=U,ei.body=Z.uploadData(),ei.errorHandler=sharedErrorHandler(S),ei}let ResumableUploadStatus=class ResumableUploadStatus{constructor(Q,S,R,N){this.current=Q,this.total=S,this.finalized=!!R,this.metadata=N||null}};function checkResumeHeader_(Q,S){let R=null;try{R=Q.getResponseHeader("X-Goog-Upload-Status")}catch(Q){handlerCheck(!1)}let N=S||["active"];return handlerCheck(!!R&&-1!==N.indexOf(R)),R}function createResumableUpload(Q,S,R,N,M){let L=S.bucketOnlyServerUrl(),U=metadataForUpload_(S,N,M),P={name:U.fullPath},Y=makeUrl(L,Q.host,Q._protocol),W="POST",K={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${N.size()}`,"X-Goog-Upload-Header-Content-Type":U.contentType,"Content-Type":"application/json; charset=utf-8"},X=toResourceString(U,R),Z=Q.maxUploadRetryTime;function handler(Q){let S;checkResumeHeader_(Q);try{S=Q.getResponseHeader("X-Goog-Upload-URL")}catch(Q){handlerCheck(!1)}return handlerCheck(isString(S)),S}let $=new RequestInfo(Y,W,handler,Z);return $.urlParams=P,$.headers=K,$.body=X,$.errorHandler=sharedErrorHandler(S),$}function getResumableUploadStatus(Q,S,R,N){let M={"X-Goog-Upload-Command":"query"};function handler(Q){let S=checkResumeHeader_(Q,["active","final"]),R=null;try{R=Q.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Q){handlerCheck(!1)}R||handlerCheck(!1);let M=Number(R);return handlerCheck(!isNaN(M)),new ResumableUploadStatus(M,N.size(),"final"===S)}let L="POST",U=Q.maxUploadRetryTime,P=new RequestInfo(R,L,handler,U);return P.headers=M,P.errorHandler=sharedErrorHandler(S),P}let es=null;function continueResumableUpload(Q,S,R,N,M,L,U,P){let Y=new ResumableUploadStatus(0,0);if(U?(Y.current=U.current,Y.total=U.total):(Y.current=0,Y.total=N.size()),N.size()!==Y.total)throw serverFileWrongSize();let W=Y.total-Y.current,K=W;M>0&&(K=Math.min(K,M));let X=Y.current,Z=X+K,$="";$=0===K?"finalize":W===K?"upload, finalize":"upload";let ee={"X-Goog-Upload-Command":$,"X-Goog-Upload-Offset":`${Y.current}`},et=N.slice(X,Z);if(null===et)throw cannotSliceBlob();function handler(Q,R){let M;let U=checkResumeHeader_(Q,["active","final"]),P=Y.current+K,W=N.size();return M="final"===U?metadataHandler(S,L)(Q,R):null,new ResumableUploadStatus(P,W,"final"===U,M)}let en="POST",ei=S.maxUploadRetryTime,es=new RequestInfo(R,en,handler,ei);return es.headers=ee,es.body=et.uploadData(),es.progressCallback=P||null,es.errorHandler=sharedErrorHandler(Q),es}let eo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function taskStateFromInternalTaskState(Q){switch(Q){case"running":case"pausing":case"canceling":return eo.RUNNING;case"paused":return eo.PAUSED;case"success":return eo.SUCCESS;case"canceled":return eo.CANCELED;default:return eo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Observer=class Observer{constructor(Q,S,R){let N=isFunction(Q)||null!=S||null!=R;if(N)this.next=Q,this.error=null!=S?S:void 0,this.complete=null!=R?R:void 0;else{let S=Q;this.next=S.next,this.error=S.error,this.complete=S.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function index_node_esm_async(Q){return(...S)=>{Promise.resolve().then(()=>Q(...S))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea=null;let FetchConnection=class FetchConnection{constructor(){this.errorText_="",this.sent_=!1,this.fetch_=P.he,this.errorCode_=M.NO_ERROR}async send(Q,S,R,N){if(this.sent_)throw internalError("cannot .send() more than once");this.sent_=!0;try{let L=await this.fetch_(Q,{method:S,headers:N||{},body:R});this.headers_=L.headers,this.statusCode_=L.status,this.errorCode_=M.NO_ERROR,this.body_=await L.arrayBuffer()}catch(Q){this.errorText_=null==Q?void 0:Q.message,this.statusCode_=0,this.errorCode_=M.NETWORK_ERROR}}getErrorCode(){if(void 0===this.errorCode_)throw internalError("cannot .getErrorCode() before receiving response");return this.errorCode_}getStatus(){if(void 0===this.statusCode_)throw internalError("cannot .getStatus() before receiving response");return this.statusCode_}getErrorText(){return this.errorText_}abort(){}getResponseHeader(Q){if(!this.headers_)throw internalError("cannot .getResponseHeader() before receiving response");return this.headers_.get(Q)}addUploadProgressListener(Q){}removeUploadProgressListener(Q){}};let FetchTextConnection=class FetchTextConnection extends FetchConnection{getResponse(){if(!this.body_)throw internalError("cannot .getResponse() before receiving response");return Buffer.from(this.body_).toString("utf-8")}};function newTextConnection(){return ea?ea():new FetchTextConnection}let FetchBytesConnection=class FetchBytesConnection extends null{getResponse(){if(!this.body_)throw internalError("cannot .getResponse() before sending");return this.body_}};let FetchStreamConnection=class FetchStreamConnection extends null{constructor(){super(...arguments),this.stream_=null}async send(Q,S,R,N){if(this.sent_)throw internalError("cannot .send() more than once");this.sent_=!0;try{let L=await this.fetch_(Q,{method:S,headers:N||{},body:R});this.headers_=L.headers,this.statusCode_=L.status,this.errorCode_=M.NO_ERROR,this.stream_=L.body}catch(Q){this.errorText_=null==Q?void 0:Q.message,this.statusCode_=0,this.errorCode_=M.NETWORK_ERROR}}getResponse(){if(!this.stream_)throw internalError("cannot .getResponse() before sending");return this.stream_}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Reference=class Reference{constructor(Q,S){this._service=Q,S instanceof Location?this._location=S:this._location=Location.makeFromUrl(S,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,S){return new Reference(Q,S)}get root(){let Q=new Location(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){let Q=index_node_esm_parent(this._location.path);if(null===Q)return null;let S=new Location(this._location.bucket,Q);return new Reference(this._service,S)}_throwIfRoot(Q){if(""===this._location.path)throw invalidRootOperation(Q)}};function list$1(Q,S){null!=S&&"number"==typeof S.maxResults&&validateNumber("options.maxResults",1,1e3,S.maxResults);let R=S||{},N=list$2(Q.storage,Q._location,"/",R.pageToken,R.maxResults);return Q.storage.makeRequestWithTokens(N,newTextConnection)}function getDownloadURL$1(Q){Q._throwIfRoot("getDownloadURL");let S=getDownloadUrl(Q.storage,Q._location,getMappings());return Q.storage.makeRequestWithTokens(S,newTextConnection).then(Q=>{if(null===Q)throw noDownloadURL();return Q})}function _getChild$1(Q,S){let R=child(Q._location.path,S),N=new Location(Q._location.bucket,R);return new Reference(Q.storage,N)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(Q){return/^[A-Za-z]+:\/\//.test(Q)}function refFromURL(Q,S){return new Reference(Q,S)}function refFromPath(Q,S){if(Q instanceof FirebaseStorageImpl){let R=Q;if(null==R._bucket)throw noDefaultBucket();let N=new Reference(R,R._bucket);return null!=S?refFromPath(N,S):N}return void 0!==S?_getChild$1(Q,S):Q}function ref$1(Q,S){if(!(S&&isUrl(S)))return refFromPath(Q,S);if(Q instanceof FirebaseStorageImpl)return refFromURL(Q,S);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}function extractBucket(Q,S){let R=null==S?void 0:S[K];return null==R?null:Location.makeFromBucketSpec(R,Q)}function connectStorageEmulator$1(Q,S,R,N={}){Q.host=`${S}:${R}`,Q._protocol="http";let{mockUserToken:M}=N;M&&(Q._overrideAuthToken="string"==typeof M?M:(0,U.Sg)(M,Q.app.options.projectId))}let FirebaseStorageImpl=class FirebaseStorageImpl{constructor(Q,S,R,N,M){this.app=Q,this._authProvider=S,this._appCheckProvider=R,this._url=N,this._firebaseVersion=M,this._bucket=null,this._host=W,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=X,this._maxUploadRetryTime=Z,this._requests=new Set,null!=N?this._bucket=Location.makeFromBucketSpec(N,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,null!=this._url?this._bucket=Location.makeFromBucketSpec(this._url,Q):this._bucket=extractBucket(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){validateNumber("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){validateNumber("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let Q=this._authProvider.getImmediate({optional:!0});if(Q){let S=await Q.getToken();if(null!==S)return S.accessToken}return null}async _getAppCheckToken(){let Q=this._appCheckProvider.getImmediate({optional:!0});if(Q){let S=await Q.getToken();return S.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new Reference(this,Q)}_makeRequest(Q,S,R,N,M=!0){if(this._deleted)return new FailRequest(appDeleted());{let L=makeRequest(Q,this._appId,R,N,S,this._firebaseVersion,M);return this._requests.add(L),L.getPromise().then(()=>this._requests.delete(L),()=>this._requests.delete(L)),L}}async makeRequestWithTokens(Q,S){let[R,N]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(Q,S,R,N).getPromise()}};let eA="@firebase/storage",ec="0.12.5",eu="storage";function getDownloadURL(Q){return getDownloadURL$1(Q=(0,U.m9)(Q))}function ref(Q,S){return ref$1(Q=(0,U.m9)(Q),S)}function getStorage(Q=(0,L.Mq)(),S){Q=(0,U.m9)(Q);let R=(0,L.qX)(Q,eu),N=R.getImmediate({identifier:S}),M=(0,U.P0)("storage");return M&&connectStorageEmulator(N,...M),N}function connectStorageEmulator(Q,S,R,N={}){connectStorageEmulator$1(Q,S,R,N)}function factory(Q,{instanceIdentifier:S}){let R=Q.getProvider("app").getImmediate(),N=Q.getProvider("auth-internal"),M=Q.getProvider("app-check-internal");return new FirebaseStorageImpl(R,N,M,S,L.Jn)}(function(){(0,L.Xd)(new Y.wA(eu,factory,"PUBLIC").setMultipleInstances(!0)),(0,L.KN)(eA,ec)})()},97105:(Q,S,R)=>{"use strict";var N=R(9885),M=R(920);function isObject(Q){return"object"==typeof Q&&null!==Q&&Q.constructor&&"Object"===Object.prototype.toString.call(Q).slice(8,-1)}function extend(Q,S){let R=["__proto__","constructor","prototype"];Object.keys(S).filter(Q=>0>R.indexOf(Q)).forEach(R=>{void 0===Q[R]?Q[R]=S[R]:isObject(S[R])&&isObject(Q[R])&&Object.keys(S[R]).length>0?S[R].__swiper__?Q[R]=S[R]:extend(Q[R],S[R]):Q[R]=S[R]})}function needsNavigation(Q){return void 0===Q&&(Q={}),Q.navigation&&void 0===Q.navigation.nextEl&&void 0===Q.navigation.prevEl}function needsPagination(Q){return void 0===Q&&(Q={}),Q.pagination&&void 0===Q.pagination.el}function needsScrollbar(Q){return void 0===Q&&(Q={}),Q.scrollbar&&void 0===Q.scrollbar.el}function uniqueClasses(Q){void 0===Q&&(Q="");let S=Q.split(" ").map(Q=>Q.trim()).filter(Q=>!!Q),R=[];return S.forEach(Q=>{0>R.indexOf(Q)&&R.push(Q)}),R.join(" ")}let L=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function getParams(Q){void 0===Q&&(Q={});let S={on:{}},R={},N={};extend(S,M.ZP.defaults),extend(S,M.ZP.extendedDefaults),S._emitClasses=!0,S.init=!1;let U={},P=L.map(Q=>Q.replace(/_/,""));return Object.keys(Q).forEach(M=>{P.indexOf(M)>=0?isObject(Q[M])?(S[M]={},N[M]={},extend(S[M],Q[M]),extend(N[M],Q[M])):(S[M]=Q[M],N[M]=Q[M]):0===M.search(/on[A-Z]/)&&"function"==typeof Q[M]?R[`${M[2].toLowerCase()}${M.substr(3)}`]=Q[M]:U[M]=Q[M]}),["navigation","pagination","scrollbar"].forEach(Q=>{!0===S[Q]&&(S[Q]={}),!1===S[Q]&&delete S[Q]}),{params:S,passedParams:N,rest:U,events:R}}function mountSwiper(Q,S){let{el:R,nextEl:N,prevEl:M,paginationEl:L,scrollbarEl:U,swiper:P}=Q;needsNavigation(S)&&N&&M&&(P.params.navigation.nextEl=N,P.originalParams.navigation.nextEl=N,P.params.navigation.prevEl=M,P.originalParams.navigation.prevEl=M),needsPagination(S)&&L&&(P.params.pagination.el=L,P.originalParams.pagination.el=L),needsScrollbar(S)&&U&&(P.params.scrollbar.el=U,P.originalParams.scrollbar.el=U),P.init(R)}function calcLoopedSlides(Q,S){let R=S.slidesPerView;if(S.breakpoints){let Q=M.ZP.prototype.getBreakpoint(S.breakpoints),N=Q in S.breakpoints?S.breakpoints[Q]:void 0;N&&N.slidesPerView&&(R=N.slidesPerView)}let N=Math.ceil(parseFloat(S.loopedSlides||R,10));return(N+=S.loopAdditionalSlides)>Q.length&&(N=Q.length),N}function renderLoop(Q,S,R){let M=S.map((S,R)=>N.cloneElement(S,{swiper:Q,"data-swiper-slide-index":R}));function duplicateSlide(Q,S,M){return N.cloneElement(Q,{key:`${Q.key}-duplicate-${S}-${M}`,className:`${Q.props.className||""} ${R.slideDuplicateClass}`})}if(R.loopFillGroupWithBlank){let Q=R.slidesPerGroup-M.length%R.slidesPerGroup;if(Q!==R.slidesPerGroup)for(let S=0;S<Q;S+=1){let Q=N.createElement("div",{className:`${R.slideClass} ${R.slideBlankClass}`});M.push(Q)}}"auto"!==R.slidesPerView||R.loopedSlides||(R.loopedSlides=M.length);let L=calcLoopedSlides(M,R),U=[],P=[];return M.forEach((Q,S)=>{S<L&&P.push(duplicateSlide(Q,S,"prepend")),S<M.length&&S>=M.length-L&&U.push(duplicateSlide(Q,S,"append"))}),Q&&(Q.loopedSlides=L),[...U,...M,...P]}function getChangedParams(Q,S,R,N){let M=[];if(!S)return M;let addKey=Q=>{0>M.indexOf(Q)&&M.push(Q)},U=N.map(Q=>Q.key),P=R.map(Q=>Q.key);U.join("")!==P.join("")&&addKey("children"),N.length!==R.length&&addKey("children");let Y=L.filter(Q=>"_"===Q[0]).map(Q=>Q.replace(/_/,""));return Y.forEach(R=>{if(R in Q&&R in S){if(isObject(Q[R])&&isObject(S[R])){let N=Object.keys(Q[R]),M=Object.keys(S[R]);N.length!==M.length?addKey(R):(N.forEach(N=>{Q[R][N]!==S[R][N]&&addKey(R)}),M.forEach(N=>{Q[R][N]!==S[R][N]&&addKey(R)}))}else Q[R]!==S[R]&&addKey(R)}}),M}function processChildren(Q){let S=[];return N.Children.toArray(Q).forEach(Q=>{Q.type&&"SwiperSlide"===Q.type.displayName?S.push(Q):Q.props&&Q.props.children&&processChildren(Q.props.children).forEach(Q=>S.push(Q))}),S}function getChildren(Q){let S=[],R={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return N.Children.toArray(Q).forEach(Q=>{if(Q.type&&"SwiperSlide"===Q.type.displayName)S.push(Q);else if(Q.props&&Q.props.slot&&R[Q.props.slot])R[Q.props.slot].push(Q);else if(Q.props&&Q.props.children){let N=processChildren(Q.props.children);N.length>0?N.forEach(Q=>S.push(Q)):R["container-end"].push(Q)}else R["container-end"].push(Q)}),{slides:S,slots:R}}function updateSwiper(Q){let S,R,N,M,L,{swiper:U,slides:P,passedParams:Y,changedParams:W,nextEl:K,prevEl:X,scrollbarEl:Z,paginationEl:$}=Q,ee=W.filter(Q=>"children"!==Q&&"direction"!==Q),{params:et,pagination:en,navigation:ei,scrollbar:es,virtual:eo,thumbs:ea}=U;W.includes("thumbs")&&Y.thumbs&&Y.thumbs.swiper&&et.thumbs&&!et.thumbs.swiper&&(S=!0),W.includes("controller")&&Y.controller&&Y.controller.control&&et.controller&&!et.controller.control&&(R=!0),W.includes("pagination")&&Y.pagination&&(Y.pagination.el||$)&&(et.pagination||!1===et.pagination)&&en&&!en.el&&(N=!0),W.includes("scrollbar")&&Y.scrollbar&&(Y.scrollbar.el||Z)&&(et.scrollbar||!1===et.scrollbar)&&es&&!es.el&&(M=!0),W.includes("navigation")&&Y.navigation&&(Y.navigation.prevEl||X)&&(Y.navigation.nextEl||K)&&(et.navigation||!1===et.navigation)&&ei&&!ei.prevEl&&!ei.nextEl&&(L=!0);let destroyModule=Q=>{U[Q]&&(U[Q].destroy(),"navigation"===Q?(et[Q].prevEl=void 0,et[Q].nextEl=void 0,U[Q].prevEl=void 0,U[Q].nextEl=void 0):(et[Q].el=void 0,U[Q].el=void 0))};if(ee.forEach(Q=>{if(isObject(et[Q])&&isObject(Y[Q]))extend(et[Q],Y[Q]);else{let S=Y[Q];(!0===S||!1===S)&&("navigation"===Q||"pagination"===Q||"scrollbar"===Q)?!1===S&&destroyModule(Q):et[Q]=Y[Q]}}),ee.includes("controller")&&!R&&U.controller&&U.controller.control&&et.controller&&et.controller.control&&(U.controller.control=et.controller.control),W.includes("children")&&eo&&et.virtual.enabled?(eo.slides=P,eo.update(!0)):W.includes("children")&&U.lazy&&U.params.lazy.enabled&&U.lazy.load(),S){let Q=ea.init();Q&&ea.update(!0)}R&&(U.controller.control=et.controller.control),N&&($&&(et.pagination.el=$),en.init(),en.render(),en.update()),M&&(Z&&(et.scrollbar.el=Z),es.init(),es.updateSize(),es.setTranslate()),L&&(K&&(et.navigation.nextEl=K),X&&(et.navigation.prevEl=X),ei.init(),ei.update()),W.includes("allowSlideNext")&&(U.allowSlideNext=Y.allowSlideNext),W.includes("allowSlidePrev")&&(U.allowSlidePrev=Y.allowSlidePrev),W.includes("direction")&&U.changeDirection(Y.direction,!1),U.update()}function updateOnVirtualData(Q){Q&&!Q.destroyed&&Q.params.virtual&&(!Q.params.virtual||Q.params.virtual.enabled)&&(Q.updateSlides(),Q.updateProgress(),Q.updateSlidesClasses(),Q.lazy&&Q.params.lazy.enabled&&Q.lazy.load(),Q.parallax&&Q.params.parallax&&Q.params.parallax.enabled&&Q.parallax.setTranslate())}function renderVirtual(Q,S,R){if(!R)return null;let M=Q.isHorizontal()?{[Q.rtlTranslate?"right":"left"]:`${R.offset}px`}:{top:`${R.offset}px`};return S.filter((Q,S)=>S>=R.from&&S<=R.to).map(S=>N.cloneElement(S,{swiper:Q,style:M}))}function useIsomorphicLayoutEffect(Q,S){return"undefined"==typeof window?(0,N.useEffect)(Q,S):(0,N.useLayoutEffect)(Q,S)}let U=(0,N.createContext)(null),P=(0,N.createContext)(null);function _extends(){return(_extends=Object.assign||function(Q){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(Q[N]=R[N])}return Q}).apply(this,arguments)}let Y=(0,N.forwardRef)(function(Q,S){let{className:R,tag:L="div",wrapperTag:U="div",children:Y,onSwiper:W,...K}=void 0===Q?{}:Q,X=!1,[Z,$]=(0,N.useState)("swiper"),[ee,et]=(0,N.useState)(null),[en,ei]=(0,N.useState)(!1),es=(0,N.useRef)(!1),eo=(0,N.useRef)(null),ea=(0,N.useRef)(null),eA=(0,N.useRef)(null),ec=(0,N.useRef)(null),eu=(0,N.useRef)(null),eh=(0,N.useRef)(null),ed=(0,N.useRef)(null),eg=(0,N.useRef)(null),{params:ep,passedParams:ef,rest:eE,events:em}=getParams(K),{slides:eC,slots:eI}=getChildren(Y),onBeforeBreakpoint=()=>{ei(!en)};Object.assign(ep.on,{_containerClasses(Q,S){$(S)}});let initSwiper=()=>{if(Object.assign(ep.on,em),X=!0,ea.current=new M.ZP(ep),ea.current.loopCreate=()=>{},ea.current.loopDestroy=()=>{},ep.loop&&(ea.current.loopedSlides=calcLoopedSlides(eC,ep)),ea.current.virtual&&ea.current.params.virtual.enabled){ea.current.virtual.slides=eC;let Q={cache:!1,slides:eC,renderExternal:et,renderExternalUpdate:!1};extend(ea.current.params.virtual,Q),extend(ea.current.originalParams.virtual,Q)}};eo.current||initSwiper(),ea.current&&ea.current.on("_beforeBreakpoint",onBeforeBreakpoint);let attachEvents=()=>{!X&&em&&ea.current&&Object.keys(em).forEach(Q=>{ea.current.on(Q,em[Q])})},detachEvents=()=>{em&&ea.current&&Object.keys(em).forEach(Q=>{ea.current.off(Q,em[Q])})};function renderSlides(){return ep.virtual?renderVirtual(ea.current,eC,ee):!ep.loop||ea.current&&ea.current.destroyed?eC.map(Q=>N.cloneElement(Q,{swiper:ea.current})):renderLoop(ea.current,eC,ep)}return(0,N.useEffect)(()=>()=>{ea.current&&ea.current.off("_beforeBreakpoint",onBeforeBreakpoint)}),(0,N.useEffect)(()=>{!es.current&&ea.current&&(ea.current.emitSlidesClasses(),es.current=!0)}),useIsomorphicLayoutEffect(()=>{if(S&&(S.current=eo.current),eo.current)return ea.current.destroyed&&initSwiper(),mountSwiper({el:eo.current,nextEl:eu.current,prevEl:eh.current,paginationEl:ed.current,scrollbarEl:eg.current,swiper:ea.current},ep),W&&W(ea.current),()=>{ea.current&&!ea.current.destroyed&&ea.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect(()=>{attachEvents();let Q=getChangedParams(ef,eA.current,eC,ec.current);return eA.current=ef,ec.current=eC,Q.length&&ea.current&&!ea.current.destroyed&&updateSwiper({swiper:ea.current,slides:eC,passedParams:ef,changedParams:Q,nextEl:eu.current,prevEl:eh.current,scrollbarEl:eg.current,paginationEl:ed.current}),()=>{detachEvents()}}),useIsomorphicLayoutEffect(()=>{updateOnVirtualData(ea.current)},[ee]),N.createElement(L,_extends({ref:eo,className:uniqueClasses(`${Z}${R?` ${R}`:""}`)},eE),N.createElement(P.Provider,{value:{swiper:ea.current,nextEl:eu.current,prevEl:eh.current,scrollbarEl:eg.current,paginationEl:ed.current}},eI["container-start"],needsNavigation(ep)&&N.createElement(N.Fragment,null,N.createElement("div",{ref:eh,className:"swiper-button-prev"}),N.createElement("div",{ref:eu,className:"swiper-button-next"})),needsScrollbar(ep)&&N.createElement("div",{ref:eg,className:"swiper-scrollbar"}),needsPagination(ep)&&N.createElement("div",{ref:ed,className:"swiper-pagination"}),N.createElement(U,{className:"swiper-wrapper"},eI["wrapper-start"],renderSlides(),eI["wrapper-end"]),eI["container-end"]))});function swiper_slide_extends(){return(swiper_slide_extends=Object.assign||function(Q){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(Q[N]=R[N])}return Q}).apply(this,arguments)}Y.displayName="Swiper";let W=(0,N.forwardRef)(function(Q,S){let{tag:R="div",children:M,className:L="",swiper:P,zoom:Y,virtualIndex:W,...K}=void 0===Q?{}:Q,X=(0,N.useRef)(null),[Z,$]=(0,N.useState)("swiper-slide");function updateClasses(Q,S,R){S===X.current&&$(R)}useIsomorphicLayoutEffect(()=>{if(S&&(S.current=X.current),X.current&&P){if(P.destroyed){"swiper-slide"!==Z&&$("swiper-slide");return}return P.on("_slideClass",updateClasses),()=>{P&&P.off("_slideClass",updateClasses)}}}),useIsomorphicLayoutEffect(()=>{P&&X.current&&$(P.getSlideClasses(X.current))},[P]);let ee={isActive:Z.indexOf("swiper-slide-active")>=0||Z.indexOf("swiper-slide-duplicate-active")>=0,isVisible:Z.indexOf("swiper-slide-visible")>=0,isDuplicate:Z.indexOf("swiper-slide-duplicate")>=0,isPrev:Z.indexOf("swiper-slide-prev")>=0||Z.indexOf("swiper-slide-duplicate-prev")>=0,isNext:Z.indexOf("swiper-slide-next")>=0||Z.indexOf("swiper-slide-duplicate-next")>=0},renderChildren=()=>"function"==typeof M?M(ee):M;return N.createElement(R,swiper_slide_extends({ref:X,className:uniqueClasses(`${Z}${L?` ${L}`:""}`),"data-swiper-slide-index":W},K),N.createElement(U.Provider,{value:ee},Y?N.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof Y?Y:void 0},renderChildren()):renderChildren()))});W.displayName="SwiperSlide"},920:(Q,S,R)=>{"use strict";let N,M,L;function ssr_window_esm_isObject(Q){return null!==Q&&"object"==typeof Q&&"constructor"in Q&&Q.constructor===Object}function extend(Q={},S={}){Object.keys(S).forEach(R=>{void 0===Q[R]?Q[R]=S[R]:ssr_window_esm_isObject(S[R])&&ssr_window_esm_isObject(Q[R])&&Object.keys(S[R]).length>0&&extend(Q[R],S[R])})}R.d(S,{W_:()=>Navigation,ZP:()=>ep});let U={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ssr_window_esm_getDocument(){let Q="undefined"!=typeof document?document:{};return extend(Q,U),Q}let P={document:U,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:Q=>"undefined"==typeof setTimeout?(Q(),null):setTimeout(Q,0),cancelAnimationFrame(Q){"undefined"!=typeof setTimeout&&clearTimeout(Q)}};function ssr_window_esm_getWindow(){let Q="undefined"!=typeof window?window:{};return extend(Q,P),Q}function makeReactive(Q){let S=Q.__proto__;Object.defineProperty(Q,"__proto__",{get:()=>S,set(Q){S.__proto__=Q}})}let Dom7=class Dom7 extends Array{constructor(Q){"number"==typeof Q?super(Q):(super(...Q||[]),makeReactive(this))}};function arrayFlat(Q=[]){let S=[];return Q.forEach(Q=>{Array.isArray(Q)?S.push(...arrayFlat(Q)):S.push(Q)}),S}function arrayFilter(Q,S){return Array.prototype.filter.call(Q,S)}function arrayUnique(Q){let S=[];for(let R=0;R<Q.length;R+=1)-1===S.indexOf(Q[R])&&S.push(Q[R]);return S}function qsa(Q,S){if("string"!=typeof Q)return[Q];let R=[],N=S.querySelectorAll(Q);for(let Q=0;Q<N.length;Q+=1)R.push(N[Q]);return R}function dom7_esm_$(Q,S){let R=ssr_window_esm_getWindow(),N=ssr_window_esm_getDocument(),M=[];if(!S&&Q instanceof Dom7)return Q;if(!Q)return new Dom7(M);if("string"==typeof Q){let R=Q.trim();if(R.indexOf("<")>=0&&R.indexOf(">")>=0){let Q="div";0===R.indexOf("<li")&&(Q="ul"),0===R.indexOf("<tr")&&(Q="tbody"),(0===R.indexOf("<td")||0===R.indexOf("<th"))&&(Q="tr"),0===R.indexOf("<tbody")&&(Q="table"),0===R.indexOf("<option")&&(Q="select");let S=N.createElement(Q);S.innerHTML=R;for(let Q=0;Q<S.childNodes.length;Q+=1)M.push(S.childNodes[Q])}else M=qsa(Q.trim(),S||N)}else if(Q.nodeType||Q===R||Q===N)M.push(Q);else if(Array.isArray(Q)){if(Q instanceof Dom7)return Q;M=Q}return new Dom7(arrayUnique(M))}function addClass(...Q){let S=arrayFlat(Q.map(Q=>Q.split(" ")));return this.forEach(Q=>{Q.classList.add(...S)}),this}function removeClass(...Q){let S=arrayFlat(Q.map(Q=>Q.split(" ")));return this.forEach(Q=>{Q.classList.remove(...S)}),this}function toggleClass(...Q){let S=arrayFlat(Q.map(Q=>Q.split(" ")));this.forEach(Q=>{S.forEach(S=>{Q.classList.toggle(S)})})}function hasClass(...Q){let S=arrayFlat(Q.map(Q=>Q.split(" ")));return arrayFilter(this,Q=>S.filter(S=>Q.classList.contains(S)).length>0).length>0}function attr(Q,S){if(1==arguments.length&&"string"==typeof Q)return this[0]?this[0].getAttribute(Q):void 0;for(let R=0;R<this.length;R+=1)if(2==arguments.length)this[R].setAttribute(Q,S);else for(let S in Q)this[R][S]=Q[S],this[R].setAttribute(S,Q[S]);return this}function removeAttr(Q){for(let S=0;S<this.length;S+=1)this[S].removeAttribute(Q);return this}function transform(Q){for(let S=0;S<this.length;S+=1)this[S].style.transform=Q;return this}function transition(Q){for(let S=0;S<this.length;S+=1)this[S].style.transitionDuration="string"!=typeof Q?`${Q}ms`:Q;return this}function on(...Q){let S,[R,N,M,L]=Q;function handleLiveEvent(Q){let S=Q.target;if(!S)return;let R=Q.target.dom7EventData||[];if(0>R.indexOf(Q)&&R.unshift(Q),dom7_esm_$(S).is(N))M.apply(S,R);else{let Q=dom7_esm_$(S).parents();for(let S=0;S<Q.length;S+=1)dom7_esm_$(Q[S]).is(N)&&M.apply(Q[S],R)}}function handleEvent(Q){let S=Q&&Q.target&&Q.target.dom7EventData||[];0>S.indexOf(Q)&&S.unshift(Q),M.apply(this,S)}"function"==typeof Q[1]&&([R,M,L]=Q,N=void 0),L||(L=!1);let U=R.split(" ");for(let Q=0;Q<this.length;Q+=1){let R=this[Q];if(N)for(S=0;S<U.length;S+=1){let Q=U[S];R.dom7LiveListeners||(R.dom7LiveListeners={}),R.dom7LiveListeners[Q]||(R.dom7LiveListeners[Q]=[]),R.dom7LiveListeners[Q].push({listener:M,proxyListener:handleLiveEvent}),R.addEventListener(Q,handleLiveEvent,L)}else for(S=0;S<U.length;S+=1){let Q=U[S];R.dom7Listeners||(R.dom7Listeners={}),R.dom7Listeners[Q]||(R.dom7Listeners[Q]=[]),R.dom7Listeners[Q].push({listener:M,proxyListener:handleEvent}),R.addEventListener(Q,handleEvent,L)}}return this}function off(...Q){let[S,R,N,M]=Q;"function"==typeof Q[1]&&([S,N,M]=Q,R=void 0),M||(M=!1);let L=S.split(" ");for(let Q=0;Q<L.length;Q+=1){let S=L[Q];for(let Q=0;Q<this.length;Q+=1){let L;let U=this[Q];if(!R&&U.dom7Listeners?L=U.dom7Listeners[S]:R&&U.dom7LiveListeners&&(L=U.dom7LiveListeners[S]),L&&L.length)for(let Q=L.length-1;Q>=0;Q-=1){let R=L[Q];N&&R.listener===N?(U.removeEventListener(S,R.proxyListener,M),L.splice(Q,1)):N&&R.listener&&R.listener.dom7proxy&&R.listener.dom7proxy===N?(U.removeEventListener(S,R.proxyListener,M),L.splice(Q,1)):N||(U.removeEventListener(S,R.proxyListener,M),L.splice(Q,1))}}}return this}function trigger(...Q){let S=ssr_window_esm_getWindow(),R=Q[0].split(" "),N=Q[1];for(let M=0;M<R.length;M+=1){let L=R[M];for(let R=0;R<this.length;R+=1){let M=this[R];if(S.CustomEvent){let R=new S.CustomEvent(L,{detail:N,bubbles:!0,cancelable:!0});M.dom7EventData=Q.filter((Q,S)=>S>0),M.dispatchEvent(R),M.dom7EventData=[],delete M.dom7EventData}}}return this}function transitionEnd(Q){let S=this;function fireCallBack(R){R.target===this&&(Q.call(this,R),S.off("transitionend",fireCallBack))}return Q&&S.on("transitionend",fireCallBack),this}function dom7_esm_outerWidth(Q){if(this.length>0){if(Q){let Q=this.styles();return this[0].offsetWidth+parseFloat(Q.getPropertyValue("margin-right"))+parseFloat(Q.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function dom7_esm_outerHeight(Q){if(this.length>0){if(Q){let Q=this.styles();return this[0].offsetHeight+parseFloat(Q.getPropertyValue("margin-top"))+parseFloat(Q.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function offset(){if(this.length>0){let Q=ssr_window_esm_getWindow(),S=ssr_window_esm_getDocument(),R=this[0],N=R.getBoundingClientRect(),M=S.body,L=R.clientTop||M.clientTop||0,U=R.clientLeft||M.clientLeft||0,P=R===Q?Q.scrollY:R.scrollTop,Y=R===Q?Q.scrollX:R.scrollLeft;return{top:N.top+P-L,left:N.left+Y-U}}return null}function styles(){let Q=ssr_window_esm_getWindow();return this[0]?Q.getComputedStyle(this[0],null):{}}function css(Q,S){let R;let N=ssr_window_esm_getWindow();if(1==arguments.length){if("string"==typeof Q){if(this[0])return N.getComputedStyle(this[0],null).getPropertyValue(Q)}else{for(R=0;R<this.length;R+=1)for(let S in Q)this[R].style[S]=Q[S];return this}}if(2==arguments.length&&"string"==typeof Q)for(R=0;R<this.length;R+=1)this[R].style[Q]=S;return this}function each(Q){return Q&&this.forEach((S,R)=>{Q.apply(S,[S,R])}),this}function filter(Q){let S=arrayFilter(this,Q);return dom7_esm_$(S)}function html(Q){if(void 0===Q)return this[0]?this[0].innerHTML:null;for(let S=0;S<this.length;S+=1)this[S].innerHTML=Q;return this}function dom7_esm_text(Q){if(void 0===Q)return this[0]?this[0].textContent.trim():null;for(let S=0;S<this.length;S+=1)this[S].textContent=Q;return this}function is(Q){let S,R;let N=ssr_window_esm_getWindow(),M=ssr_window_esm_getDocument(),L=this[0];if(!L||void 0===Q)return!1;if("string"==typeof Q){if(L.matches)return L.matches(Q);if(L.webkitMatchesSelector)return L.webkitMatchesSelector(Q);if(L.msMatchesSelector)return L.msMatchesSelector(Q);for(R=0,S=dom7_esm_$(Q);R<S.length;R+=1)if(S[R]===L)return!0;return!1}if(Q===M)return L===M;if(Q===N)return L===N;if(Q.nodeType||Q instanceof Dom7){for(R=0,S=Q.nodeType?[Q]:Q;R<S.length;R+=1)if(S[R]===L)return!0}return!1}function index(){let Q,S=this[0];if(S){for(Q=0;null!==(S=S.previousSibling);)1===S.nodeType&&(Q+=1);return Q}}function eq(Q){if(void 0===Q)return this;let S=this.length;if(Q>S-1)return dom7_esm_$([]);if(Q<0){let R=S+Q;return R<0?dom7_esm_$([]):dom7_esm_$([this[R]])}return dom7_esm_$([this[Q]])}function append(...Q){let S;let R=ssr_window_esm_getDocument();for(let N=0;N<Q.length;N+=1){S=Q[N];for(let Q=0;Q<this.length;Q+=1)if("string"==typeof S){let N=R.createElement("div");for(N.innerHTML=S;N.firstChild;)this[Q].appendChild(N.firstChild)}else if(S instanceof Dom7)for(let R=0;R<S.length;R+=1)this[Q].appendChild(S[R]);else this[Q].appendChild(S)}return this}function prepend(Q){let S,R;let N=ssr_window_esm_getDocument();for(S=0;S<this.length;S+=1)if("string"==typeof Q){let M=N.createElement("div");for(M.innerHTML=Q,R=M.childNodes.length-1;R>=0;R-=1)this[S].insertBefore(M.childNodes[R],this[S].childNodes[0])}else if(Q instanceof Dom7)for(R=0;R<Q.length;R+=1)this[S].insertBefore(Q[R],this[S].childNodes[0]);else this[S].insertBefore(Q,this[S].childNodes[0]);return this}function next(Q){if(this.length>0){if(Q)return this[0].nextElementSibling&&dom7_esm_$(this[0].nextElementSibling).is(Q)?dom7_esm_$([this[0].nextElementSibling]):dom7_esm_$([]);if(this[0].nextElementSibling)return dom7_esm_$([this[0].nextElementSibling])}return dom7_esm_$([])}function nextAll(Q){let S=[],R=this[0];if(!R)return dom7_esm_$([]);for(;R.nextElementSibling;){let N=R.nextElementSibling;Q?dom7_esm_$(N).is(Q)&&S.push(N):S.push(N),R=N}return dom7_esm_$(S)}function prev(Q){if(this.length>0){let S=this[0];if(Q)return S.previousElementSibling&&dom7_esm_$(S.previousElementSibling).is(Q)?dom7_esm_$([S.previousElementSibling]):dom7_esm_$([]);if(S.previousElementSibling)return dom7_esm_$([S.previousElementSibling])}return dom7_esm_$([])}function prevAll(Q){let S=[],R=this[0];if(!R)return dom7_esm_$([]);for(;R.previousElementSibling;){let N=R.previousElementSibling;Q?dom7_esm_$(N).is(Q)&&S.push(N):S.push(N),R=N}return dom7_esm_$(S)}function dom7_esm_parent(Q){let S=[];for(let R=0;R<this.length;R+=1)null!==this[R].parentNode&&(Q?dom7_esm_$(this[R].parentNode).is(Q)&&S.push(this[R].parentNode):S.push(this[R].parentNode));return dom7_esm_$(S)}function parents(Q){let S=[];for(let R=0;R<this.length;R+=1){let N=this[R].parentNode;for(;N;)Q?dom7_esm_$(N).is(Q)&&S.push(N):S.push(N),N=N.parentNode}return dom7_esm_$(S)}function closest(Q){let S=this;return void 0===Q?dom7_esm_$([]):(S.is(Q)||(S=S.parents(Q).eq(0)),S)}function find(Q){let S=[];for(let R=0;R<this.length;R+=1){let N=this[R].querySelectorAll(Q);for(let Q=0;Q<N.length;Q+=1)S.push(N[Q])}return dom7_esm_$(S)}function children(Q){let S=[];for(let R=0;R<this.length;R+=1){let N=this[R].children;for(let R=0;R<N.length;R+=1)(!Q||dom7_esm_$(N[R]).is(Q))&&S.push(N[R])}return dom7_esm_$(S)}function remove(){for(let Q=0;Q<this.length;Q+=1)this[Q].parentNode&&this[Q].parentNode.removeChild(this[Q]);return this}dom7_esm_$.fn=Dom7.prototype;let Y="resize scroll".split(" ");function shortcut(Q){return function(...S){if(void 0===S[0]){for(let S=0;S<this.length;S+=1)0>Y.indexOf(Q)&&(Q in this[S]?this[S][Q]():dom7_esm_$(this[S]).trigger(Q));return this}return this.on(Q,...S)}}shortcut("click"),shortcut("blur"),shortcut("focus"),shortcut("focusin"),shortcut("focusout"),shortcut("keyup"),shortcut("keydown"),shortcut("keypress"),shortcut("submit"),shortcut("change"),shortcut("mousedown"),shortcut("mousemove"),shortcut("mouseup"),shortcut("mouseenter"),shortcut("mouseleave"),shortcut("mouseout"),shortcut("mouseover"),shortcut("touchstart"),shortcut("touchend"),shortcut("touchmove"),shortcut("resize"),shortcut("scroll");let W={addClass:addClass,removeClass:removeClass,hasClass:hasClass,toggleClass:toggleClass,attr:attr,removeAttr:removeAttr,transform:transform,transition:transition,on:on,off:off,trigger:trigger,transitionEnd:transitionEnd,outerWidth:dom7_esm_outerWidth,outerHeight:dom7_esm_outerHeight,styles:styles,offset:offset,css:css,each:each,html:html,text:dom7_esm_text,is:is,index:index,eq:eq,append:append,prepend:prepend,next:next,nextAll:nextAll,prev:prev,prevAll:prevAll,parent:dom7_esm_parent,parents:parents,closest:closest,find:find,children:children,filter:filter,remove:remove};Object.keys(W).forEach(Q=>{Object.defineProperty(dom7_esm_$.fn,Q,{value:W[Q],writable:!0})});let K=dom7_esm_$;function deleteProps(Q){let S=Q;Object.keys(S).forEach(Q=>{try{S[Q]=null}catch(Q){}try{delete S[Q]}catch(Q){}})}function utils_nextTick(Q,S){return void 0===S&&(S=0),setTimeout(Q,S)}function utils_now(){return Date.now()}function utils_getComputedStyle(Q){let S;let R=ssr_window_esm_getWindow();return R.getComputedStyle&&(S=R.getComputedStyle(Q,null)),!S&&Q.currentStyle&&(S=Q.currentStyle),S||(S=Q.style),S}function utils_getTranslate(Q,S){let R,N,M;void 0===S&&(S="x");let L=ssr_window_esm_getWindow(),U=utils_getComputedStyle(Q,null);return L.WebKitCSSMatrix?((N=U.transform||U.webkitTransform).split(",").length>6&&(N=N.split(", ").map(Q=>Q.replace(",",".")).join(", ")),M=new L.WebKitCSSMatrix("none"===N?"":N)):R=(M=U.MozTransform||U.OTransform||U.MsTransform||U.msTransform||U.transform||U.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===S&&(N=L.WebKitCSSMatrix?M.m41:16===R.length?parseFloat(R[12]):parseFloat(R[4])),"y"===S&&(N=L.WebKitCSSMatrix?M.m42:16===R.length?parseFloat(R[13]):parseFloat(R[5])),N||0}function utils_isObject(Q){return"object"==typeof Q&&null!==Q&&Q.constructor&&"Object"===Object.prototype.toString.call(Q).slice(8,-1)}function isNode(Q){return"undefined"!=typeof window&&void 0!==window.HTMLElement?Q instanceof HTMLElement:Q&&(1===Q.nodeType||11===Q.nodeType)}function utils_extend(){let Q=Object(arguments.length<=0?void 0:arguments[0]),S=["__proto__","constructor","prototype"];for(let R=1;R<arguments.length;R+=1){let N=R<0||arguments.length<=R?void 0:arguments[R];if(null!=N&&!isNode(N)){let R=Object.keys(Object(N)).filter(Q=>0>S.indexOf(Q));for(let S=0,M=R.length;S<M;S+=1){let M=R[S],L=Object.getOwnPropertyDescriptor(N,M);void 0!==L&&L.enumerable&&(utils_isObject(Q[M])&&utils_isObject(N[M])?N[M].__swiper__?Q[M]=N[M]:utils_extend(Q[M],N[M]):!utils_isObject(Q[M])&&utils_isObject(N[M])?(Q[M]={},N[M].__swiper__?Q[M]=N[M]:utils_extend(Q[M],N[M])):Q[M]=N[M])}}}return Q}function utils_setCSSProperty(Q,S,R){Q.style.setProperty(S,R)}function animateCSSModeScroll(Q){let S,{swiper:R,targetPosition:N,side:M}=Q,L=ssr_window_esm_getWindow(),U=-R.translate,P=null,Y=R.params.speed;R.wrapperEl.style.scrollSnapType="none",L.cancelAnimationFrame(R.cssModeFrameID);let W=N>U?"next":"prev",isOutOfBound=(Q,S)=>"next"===W&&Q>=S||"prev"===W&&Q<=S,animate=()=>{S=new Date().getTime(),null===P&&(P=S);let Q=Math.max(Math.min((S-P)/Y,1),0),W=.5-Math.cos(Q*Math.PI)/2,K=U+W*(N-U);if(isOutOfBound(K,N)&&(K=N),R.wrapperEl.scrollTo({[M]:K}),isOutOfBound(K,N)){R.wrapperEl.style.overflow="hidden",R.wrapperEl.style.scrollSnapType="",setTimeout(()=>{R.wrapperEl.style.overflow="",R.wrapperEl.scrollTo({[M]:K})}),L.cancelAnimationFrame(R.cssModeFrameID);return}R.cssModeFrameID=L.requestAnimationFrame(animate)};animate()}function calcSupport(){let Q=ssr_window_esm_getWindow(),S=ssr_window_esm_getDocument();return{smoothScroll:S.documentElement&&"scrollBehavior"in S.documentElement.style,touch:!!("ontouchstart"in Q||Q.DocumentTouch&&S instanceof Q.DocumentTouch),passiveListener:function(){let S=!1;try{let R=Object.defineProperty({},"passive",{get(){S=!0}});Q.addEventListener("testPassiveListener",null,R)}catch(Q){}return S}(),gestures:"ongesturestart"in Q}}function getSupport(){return N||(N=calcSupport()),N}function calcDevice(Q){let{userAgent:S}=void 0===Q?{}:Q,R=getSupport(),N=ssr_window_esm_getWindow(),M=N.navigator.platform,L=S||N.navigator.userAgent,U={ios:!1,android:!1},P=N.screen.width,Y=N.screen.height,W=L.match(/(Android);?[\s\/]+([\d.]+)?/),K=L.match(/(iPad).*OS\s([\d_]+)/),X=L.match(/(iPod)(.*OS\s([\d_]+))?/),Z=!K&&L.match(/(iPhone\sOS|iOS)\s([\d_]+)/),$="Win32"===M,ee="MacIntel"===M,et=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!K&&ee&&R.touch&&et.indexOf(`${P}x${Y}`)>=0&&((K=L.match(/(Version)\/([\d.]+)/))||(K=[0,1,"13_0_0"]),ee=!1),W&&!$&&(U.os="android",U.android=!0),(K||Z||X)&&(U.os="ios",U.ios=!0),U}function getDevice(Q){return void 0===Q&&(Q={}),M||(M=calcDevice(Q)),M}function calcBrowser(){let Q=ssr_window_esm_getWindow();return{isSafari:function(){let S=Q.navigator.userAgent.toLowerCase();return S.indexOf("safari")>=0&&0>S.indexOf("chrome")&&0>S.indexOf("android")}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(Q.navigator.userAgent)}}function getBrowser(){return L||(L=calcBrowser()),L}function Resize(Q){let{swiper:S,on:R,emit:N}=Q,M=ssr_window_esm_getWindow(),L=null,resizeHandler=()=>{S&&!S.destroyed&&S.initialized&&(N("beforeResize"),N("resize"))},createObserver=()=>{S&&!S.destroyed&&S.initialized&&(L=new ResizeObserver(Q=>{let{width:R,height:N}=S,M=R,L=N;Q.forEach(Q=>{let{contentBoxSize:R,contentRect:N,target:U}=Q;U&&U!==S.el||(M=N?N.width:(R[0]||R).inlineSize,L=N?N.height:(R[0]||R).blockSize)}),(M!==R||L!==N)&&resizeHandler()})).observe(S.el)},removeObserver=()=>{L&&L.unobserve&&S.el&&(L.unobserve(S.el),L=null)},orientationChangeHandler=()=>{S&&!S.destroyed&&S.initialized&&N("orientationchange")};R("init",()=>{if(S.params.resizeObserver&&void 0!==M.ResizeObserver){createObserver();return}M.addEventListener("resize",resizeHandler),M.addEventListener("orientationchange",orientationChangeHandler)}),R("destroy",()=>{removeObserver(),M.removeEventListener("resize",resizeHandler),M.removeEventListener("orientationchange",orientationChangeHandler)})}function Observer(Q){let{swiper:S,extendParams:R,on:N,emit:M}=Q,L=[],U=ssr_window_esm_getWindow(),attach=function(Q,S){void 0===S&&(S={});let R=U.MutationObserver||U.WebkitMutationObserver,N=new R(Q=>{if(1===Q.length){M("observerUpdate",Q[0]);return}let observerUpdate=function(){M("observerUpdate",Q[0])};U.requestAnimationFrame?U.requestAnimationFrame(observerUpdate):U.setTimeout(observerUpdate,0)});N.observe(Q,{attributes:void 0===S.attributes||S.attributes,childList:void 0===S.childList||S.childList,characterData:void 0===S.characterData||S.characterData}),L.push(N)},init=()=>{if(S.params.observer){if(S.params.observeParents){let Q=S.$el.parents();for(let S=0;S<Q.length;S+=1)attach(Q[S])}attach(S.$el[0],{childList:S.params.observeSlideChildren}),attach(S.$wrapperEl[0],{attributes:!1})}},destroy=()=>{L.forEach(Q=>{Q.disconnect()}),L.splice(0,L.length)};R({observer:!1,observeParents:!1,observeSlideChildren:!1}),N("init",init),N("destroy",destroy)}let X={on(Q,S,R){let N=this;if("function"!=typeof S)return N;let M=R?"unshift":"push";return Q.split(" ").forEach(Q=>{N.eventsListeners[Q]||(N.eventsListeners[Q]=[]),N.eventsListeners[Q][M](S)}),N},once(Q,S,R){let N=this;if("function"!=typeof S)return N;function onceHandler(){N.off(Q,onceHandler),onceHandler.__emitterProxy&&delete onceHandler.__emitterProxy;for(var R=arguments.length,M=Array(R),L=0;L<R;L++)M[L]=arguments[L];S.apply(N,M)}return onceHandler.__emitterProxy=S,N.on(Q,onceHandler,R)},onAny(Q,S){let R=this;if("function"!=typeof Q)return R;let N=S?"unshift":"push";return 0>R.eventsAnyListeners.indexOf(Q)&&R.eventsAnyListeners[N](Q),R},offAny(Q){let S=this;if(!S.eventsAnyListeners)return S;let R=S.eventsAnyListeners.indexOf(Q);return R>=0&&S.eventsAnyListeners.splice(R,1),S},off(Q,S){let R=this;return R.eventsListeners&&Q.split(" ").forEach(Q=>{void 0===S?R.eventsListeners[Q]=[]:R.eventsListeners[Q]&&R.eventsListeners[Q].forEach((N,M)=>{(N===S||N.__emitterProxy&&N.__emitterProxy===S)&&R.eventsListeners[Q].splice(M,1)})}),R},emit(){let Q,S,R;let N=this;if(!N.eventsListeners)return N;for(var M=arguments.length,L=Array(M),U=0;U<M;U++)L[U]=arguments[U];"string"==typeof L[0]||Array.isArray(L[0])?(Q=L[0],S=L.slice(1,L.length),R=N):(Q=L[0].events,S=L[0].data,R=L[0].context||N),S.unshift(R);let P=Array.isArray(Q)?Q:Q.split(" ");return P.forEach(Q=>{N.eventsAnyListeners&&N.eventsAnyListeners.length&&N.eventsAnyListeners.forEach(N=>{N.apply(R,[Q,...S])}),N.eventsListeners&&N.eventsListeners[Q]&&N.eventsListeners[Q].forEach(Q=>{Q.apply(R,S)})}),N}};function updateSize(){let Q,S;let R=this,N=R.$el;Q=void 0!==R.params.width&&null!==R.params.width?R.params.width:N[0].clientWidth,S=void 0!==R.params.height&&null!==R.params.height?R.params.height:N[0].clientHeight,0===Q&&R.isHorizontal()||0===S&&R.isVertical()||(Q=Q-parseInt(N.css("padding-left")||0,10)-parseInt(N.css("padding-right")||0,10),S=S-parseInt(N.css("padding-top")||0,10)-parseInt(N.css("padding-bottom")||0,10),Number.isNaN(Q)&&(Q=0),Number.isNaN(S)&&(S=0),Object.assign(R,{width:Q,height:S,size:R.isHorizontal()?Q:S}))}function updateSlides(){let Q;let S=this;function getDirectionLabel(Q){return S.isHorizontal()?Q:({width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"})[Q]}function getDirectionPropertyValue(Q,S){return parseFloat(Q.getPropertyValue(getDirectionLabel(S))||0)}let R=S.params,{$wrapperEl:N,size:M,rtlTranslate:L,wrongRTL:U}=S,P=S.virtual&&R.virtual.enabled,Y=P?S.virtual.slides.length:S.slides.length,W=N.children(`.${S.params.slideClass}`),K=P?S.virtual.slides.length:W.length,X=[],Z=[],$=[],ee=R.slidesOffsetBefore;"function"==typeof ee&&(ee=R.slidesOffsetBefore.call(S));let et=R.slidesOffsetAfter;"function"==typeof et&&(et=R.slidesOffsetAfter.call(S));let en=S.snapGrid.length,ei=S.slidesGrid.length,es=R.spaceBetween,eo=-ee,ea=0,eA=0;if(void 0===M)return;"string"==typeof es&&es.indexOf("%")>=0&&(es=parseFloat(es.replace("%",""))/100*M),S.virtualSize=-es,L?W.css({marginLeft:"",marginBottom:"",marginTop:""}):W.css({marginRight:"",marginBottom:"",marginTop:""}),R.centeredSlides&&R.cssMode&&(utils_setCSSProperty(S.wrapperEl,"--swiper-centered-offset-before",""),utils_setCSSProperty(S.wrapperEl,"--swiper-centered-offset-after",""));let ec=R.grid&&R.grid.rows>1&&S.grid;ec&&S.grid.initSlides(K);let eu="auto"===R.slidesPerView&&R.breakpoints&&Object.keys(R.breakpoints).filter(Q=>void 0!==R.breakpoints[Q].slidesPerView).length>0;for(let N=0;N<K;N+=1){Q=0;let L=W.eq(N);if(ec&&S.grid.updateSlide(N,L,K,getDirectionLabel),"none"!==L.css("display")){if("auto"===R.slidesPerView){eu&&(W[N].style[getDirectionLabel("width")]="");let M=getComputedStyle(L[0]),U=L[0].style.transform,P=L[0].style.webkitTransform;if(U&&(L[0].style.transform="none"),P&&(L[0].style.webkitTransform="none"),R.roundLengths)Q=S.isHorizontal()?L.outerWidth(!0):L.outerHeight(!0);else{let S=getDirectionPropertyValue(M,"width"),R=getDirectionPropertyValue(M,"padding-left"),N=getDirectionPropertyValue(M,"padding-right"),U=getDirectionPropertyValue(M,"margin-left"),P=getDirectionPropertyValue(M,"margin-right"),Y=M.getPropertyValue("box-sizing");if(Y&&"border-box"===Y)Q=S+U+P;else{let{clientWidth:M,offsetWidth:Y}=L[0];Q=S+R+N+U+P+(Y-M)}}U&&(L[0].style.transform=U),P&&(L[0].style.webkitTransform=P),R.roundLengths&&(Q=Math.floor(Q))}else Q=(M-(R.slidesPerView-1)*es)/R.slidesPerView,R.roundLengths&&(Q=Math.floor(Q)),W[N]&&(W[N].style[getDirectionLabel("width")]=`${Q}px`);W[N]&&(W[N].swiperSlideSize=Q),$.push(Q),R.centeredSlides?(eo=eo+Q/2+ea/2+es,0===ea&&0!==N&&(eo=eo-M/2-es),0===N&&(eo=eo-M/2-es),.001>Math.abs(eo)&&(eo=0),R.roundLengths&&(eo=Math.floor(eo)),eA%R.slidesPerGroup==0&&X.push(eo),Z.push(eo)):(R.roundLengths&&(eo=Math.floor(eo)),(eA-Math.min(S.params.slidesPerGroupSkip,eA))%S.params.slidesPerGroup==0&&X.push(eo),Z.push(eo),eo=eo+Q+es),S.virtualSize+=Q+es,ea=Q,eA+=1}}if(S.virtualSize=Math.max(S.virtualSize,M)+et,L&&U&&("slide"===R.effect||"coverflow"===R.effect)&&N.css({width:`${S.virtualSize+R.spaceBetween}px`}),R.setWrapperSize&&N.css({[getDirectionLabel("width")]:`${S.virtualSize+R.spaceBetween}px`}),ec&&S.grid.updateWrapperSize(Q,X,getDirectionLabel),!R.centeredSlides){let Q=[];for(let N=0;N<X.length;N+=1){let L=X[N];R.roundLengths&&(L=Math.floor(L)),X[N]<=S.virtualSize-M&&Q.push(L)}X=Q,Math.floor(S.virtualSize-M)-Math.floor(X[X.length-1])>1&&X.push(S.virtualSize-M)}if(0===X.length&&(X=[0]),0!==R.spaceBetween){let Q=S.isHorizontal()&&L?"marginLeft":getDirectionLabel("marginRight");W.filter((Q,S)=>!R.cssMode||S!==W.length-1).css({[Q]:`${es}px`})}if(R.centeredSlides&&R.centeredSlidesBounds){let Q=0;$.forEach(S=>{Q+=S+(R.spaceBetween?R.spaceBetween:0)}),Q-=R.spaceBetween;let S=Q-M;X=X.map(Q=>Q<0?-ee:Q>S?S+et:Q)}if(R.centerInsufficientSlides){let Q=0;if($.forEach(S=>{Q+=S+(R.spaceBetween?R.spaceBetween:0)}),(Q-=R.spaceBetween)<M){let S=(M-Q)/2;X.forEach((Q,R)=>{X[R]=Q-S}),Z.forEach((Q,R)=>{Z[R]=Q+S})}}if(Object.assign(S,{slides:W,snapGrid:X,slidesGrid:Z,slidesSizesGrid:$}),R.centeredSlides&&R.cssMode&&!R.centeredSlidesBounds){utils_setCSSProperty(S.wrapperEl,"--swiper-centered-offset-before",`${-X[0]}px`),utils_setCSSProperty(S.wrapperEl,"--swiper-centered-offset-after",`${S.size/2-$[$.length-1]/2}px`);let Q=-S.snapGrid[0],R=-S.slidesGrid[0];S.snapGrid=S.snapGrid.map(S=>S+Q),S.slidesGrid=S.slidesGrid.map(Q=>Q+R)}K!==Y&&S.emit("slidesLengthChange"),X.length!==en&&(S.params.watchOverflow&&S.checkOverflow(),S.emit("snapGridLengthChange")),Z.length!==ei&&S.emit("slidesGridLengthChange"),R.watchSlidesProgress&&S.updateSlidesOffset(),P||R.cssMode||"slide"!==R.effect&&"fade"!==R.effect||(K<=R.maxBackfaceHiddenSlides?S.$el.addClass(`${R.containerModifierClass}backface-hidden`):S.$el.removeClass(`${R.containerModifierClass}backface-hidden`))}function updateAutoHeight(Q){let S;let R=this,N=[],M=R.virtual&&R.params.virtual.enabled,L=0;"number"==typeof Q?R.setTransition(Q):!0===Q&&R.setTransition(R.params.speed);let getSlideByIndex=Q=>M?R.slides.filter(S=>parseInt(S.getAttribute("data-swiper-slide-index"),10)===Q)[0]:R.slides.eq(Q)[0];if("auto"!==R.params.slidesPerView&&R.params.slidesPerView>1){if(R.params.centeredSlides)R.visibleSlides.each(Q=>{N.push(Q)});else for(S=0;S<Math.ceil(R.params.slidesPerView);S+=1){let Q=R.activeIndex+S;if(Q>R.slides.length&&!M)break;N.push(getSlideByIndex(Q))}}else N.push(getSlideByIndex(R.activeIndex));for(S=0;S<N.length;S+=1)if(void 0!==N[S]){let Q=N[S].offsetHeight;L=Q>L?Q:L}(L||0===L)&&R.$wrapperEl.css("height",`${L}px`)}function updateSlidesOffset(){let Q=this,S=Q.slides;for(let R=0;R<S.length;R+=1)S[R].swiperSlideOffset=Q.isHorizontal()?S[R].offsetLeft:S[R].offsetTop}function updateSlidesProgress(Q){void 0===Q&&(Q=this&&this.translate||0);let S=this,R=S.params,{slides:N,rtlTranslate:M,snapGrid:L}=S;if(0===N.length)return;void 0===N[0].swiperSlideOffset&&S.updateSlidesOffset();let U=-Q;M&&(U=Q),N.removeClass(R.slideVisibleClass),S.visibleSlidesIndexes=[],S.visibleSlides=[];for(let Q=0;Q<N.length;Q+=1){let P=N[Q],Y=P.swiperSlideOffset;R.cssMode&&R.centeredSlides&&(Y-=N[0].swiperSlideOffset);let W=(U+(R.centeredSlides?S.minTranslate():0)-Y)/(P.swiperSlideSize+R.spaceBetween),K=(U-L[0]+(R.centeredSlides?S.minTranslate():0)-Y)/(P.swiperSlideSize+R.spaceBetween),X=-(U-Y),Z=X+S.slidesSizesGrid[Q],$=X>=0&&X<S.size-1||Z>1&&Z<=S.size||X<=0&&Z>=S.size;$&&(S.visibleSlides.push(P),S.visibleSlidesIndexes.push(Q),N.eq(Q).addClass(R.slideVisibleClass)),P.progress=M?-W:W,P.originalProgress=M?-K:K}S.visibleSlides=K(S.visibleSlides)}function updateProgress(Q){let S=this;if(void 0===Q){let R=S.rtlTranslate?-1:1;Q=S&&S.translate&&S.translate*R||0}let R=S.params,N=S.maxTranslate()-S.minTranslate(),{progress:M,isBeginning:L,isEnd:U}=S,P=L,Y=U;0===N?(M=0,L=!0,U=!0):(L=(M=(Q-S.minTranslate())/N)<=0,U=M>=1),Object.assign(S,{progress:M,isBeginning:L,isEnd:U}),(R.watchSlidesProgress||R.centeredSlides&&R.autoHeight)&&S.updateSlidesProgress(Q),L&&!P&&S.emit("reachBeginning toEdge"),U&&!Y&&S.emit("reachEnd toEdge"),(P&&!L||Y&&!U)&&S.emit("fromEdge"),S.emit("progress",M)}function updateSlidesClasses(){let Q;let S=this,{slides:R,params:N,$wrapperEl:M,activeIndex:L,realIndex:U}=S,P=S.virtual&&N.virtual.enabled;R.removeClass(`${N.slideActiveClass} ${N.slideNextClass} ${N.slidePrevClass} ${N.slideDuplicateActiveClass} ${N.slideDuplicateNextClass} ${N.slideDuplicatePrevClass}`),(Q=P?S.$wrapperEl.find(`.${N.slideClass}[data-swiper-slide-index="${L}"]`):R.eq(L)).addClass(N.slideActiveClass),N.loop&&(Q.hasClass(N.slideDuplicateClass)?M.children(`.${N.slideClass}:not(.${N.slideDuplicateClass})[data-swiper-slide-index="${U}"]`).addClass(N.slideDuplicateActiveClass):M.children(`.${N.slideClass}.${N.slideDuplicateClass}[data-swiper-slide-index="${U}"]`).addClass(N.slideDuplicateActiveClass));let Y=Q.nextAll(`.${N.slideClass}`).eq(0).addClass(N.slideNextClass);N.loop&&0===Y.length&&(Y=R.eq(0)).addClass(N.slideNextClass);let W=Q.prevAll(`.${N.slideClass}`).eq(0).addClass(N.slidePrevClass);N.loop&&0===W.length&&(W=R.eq(-1)).addClass(N.slidePrevClass),N.loop&&(Y.hasClass(N.slideDuplicateClass)?M.children(`.${N.slideClass}:not(.${N.slideDuplicateClass})[data-swiper-slide-index="${Y.attr("data-swiper-slide-index")}"]`).addClass(N.slideDuplicateNextClass):M.children(`.${N.slideClass}.${N.slideDuplicateClass}[data-swiper-slide-index="${Y.attr("data-swiper-slide-index")}"]`).addClass(N.slideDuplicateNextClass),W.hasClass(N.slideDuplicateClass)?M.children(`.${N.slideClass}:not(.${N.slideDuplicateClass})[data-swiper-slide-index="${W.attr("data-swiper-slide-index")}"]`).addClass(N.slideDuplicatePrevClass):M.children(`.${N.slideClass}.${N.slideDuplicateClass}[data-swiper-slide-index="${W.attr("data-swiper-slide-index")}"]`).addClass(N.slideDuplicatePrevClass)),S.emitSlidesClasses()}function updateActiveIndex(Q){let S;let R=this,N=R.rtlTranslate?R.translate:-R.translate,{slidesGrid:M,snapGrid:L,params:U,activeIndex:P,realIndex:Y,snapIndex:W}=R,K=Q;if(void 0===K){for(let Q=0;Q<M.length;Q+=1)void 0!==M[Q+1]?N>=M[Q]&&N<M[Q+1]-(M[Q+1]-M[Q])/2?K=Q:N>=M[Q]&&N<M[Q+1]&&(K=Q+1):N>=M[Q]&&(K=Q);U.normalizeSlideIndex&&(K<0||void 0===K)&&(K=0)}if(L.indexOf(N)>=0)S=L.indexOf(N);else{let Q=Math.min(U.slidesPerGroupSkip,K);S=Q+Math.floor((K-Q)/U.slidesPerGroup)}if(S>=L.length&&(S=L.length-1),K===P){S!==W&&(R.snapIndex=S,R.emit("snapIndexChange"));return}let X=parseInt(R.slides.eq(K).attr("data-swiper-slide-index")||K,10);Object.assign(R,{snapIndex:S,realIndex:X,previousIndex:P,activeIndex:K}),R.emit("activeIndexChange"),R.emit("snapIndexChange"),Y!==X&&R.emit("realIndexChange"),(R.initialized||R.params.runCallbacksOnInit)&&R.emit("slideChange")}function updateClickedSlide(Q){let S;let R=this,N=R.params,M=K(Q).closest(`.${N.slideClass}`)[0],L=!1;if(M){for(let Q=0;Q<R.slides.length;Q+=1)if(R.slides[Q]===M){L=!0,S=Q;break}}if(M&&L)R.clickedSlide=M,R.virtual&&R.params.virtual.enabled?R.clickedIndex=parseInt(K(M).attr("data-swiper-slide-index"),10):R.clickedIndex=S;else{R.clickedSlide=void 0,R.clickedIndex=void 0;return}N.slideToClickedSlide&&void 0!==R.clickedIndex&&R.clickedIndex!==R.activeIndex&&R.slideToClickedSlide()}let Z={updateSize:updateSize,updateSlides:updateSlides,updateAutoHeight:updateAutoHeight,updateSlidesOffset:updateSlidesOffset,updateSlidesProgress:updateSlidesProgress,updateProgress:updateProgress,updateSlidesClasses:updateSlidesClasses,updateActiveIndex:updateActiveIndex,updateClickedSlide:updateClickedSlide};function getSwiperTranslate(Q){void 0===Q&&(Q=this.isHorizontal()?"x":"y");let S=this,{params:R,rtlTranslate:N,translate:M,$wrapperEl:L}=S;if(R.virtualTranslate)return N?-M:M;if(R.cssMode)return M;let U=utils_getTranslate(L[0],Q);return N&&(U=-U),U||0}function setTranslate(Q,S){let R;let N=this,{rtlTranslate:M,params:L,$wrapperEl:U,wrapperEl:P,progress:Y}=N,W=0,K=0,X=0;N.isHorizontal()?W=M?-Q:Q:K=Q,L.roundLengths&&(W=Math.floor(W),K=Math.floor(K)),L.cssMode?P[N.isHorizontal()?"scrollLeft":"scrollTop"]=N.isHorizontal()?-W:-K:L.virtualTranslate||U.transform(`translate3d(${W}px, ${K}px, ${X}px)`),N.previousTranslate=N.translate,N.translate=N.isHorizontal()?W:K;let Z=N.maxTranslate()-N.minTranslate();(R=0===Z?0:(Q-N.minTranslate())/Z)!==Y&&N.updateProgress(Q),N.emit("setTranslate",N.translate,S)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(Q,S,R,N,M){let L;void 0===Q&&(Q=0),void 0===S&&(S=this.params.speed),void 0===R&&(R=!0),void 0===N&&(N=!0);let U=this,{params:P,wrapperEl:Y}=U;if(U.animating&&P.preventInteractionOnTransition)return!1;let W=U.minTranslate(),K=U.maxTranslate();if(L=N&&Q>W?W:N&&Q<K?K:Q,U.updateProgress(L),P.cssMode){let Q=U.isHorizontal();if(0===S)Y[Q?"scrollLeft":"scrollTop"]=-L;else{if(!U.support.smoothScroll)return animateCSSModeScroll({swiper:U,targetPosition:-L,side:Q?"left":"top"}),!0;Y.scrollTo({[Q?"left":"top"]:-L,behavior:"smooth"})}return!0}return 0===S?(U.setTransition(0),U.setTranslate(L),R&&(U.emit("beforeTransitionStart",S,M),U.emit("transitionEnd"))):(U.setTransition(S),U.setTranslate(L),R&&(U.emit("beforeTransitionStart",S,M),U.emit("transitionStart")),U.animating||(U.animating=!0,U.onTranslateToWrapperTransitionEnd||(U.onTranslateToWrapperTransitionEnd=function(Q){U&&!U.destroyed&&Q.target===this&&(U.$wrapperEl[0].removeEventListener("transitionend",U.onTranslateToWrapperTransitionEnd),U.$wrapperEl[0].removeEventListener("webkitTransitionEnd",U.onTranslateToWrapperTransitionEnd),U.onTranslateToWrapperTransitionEnd=null,delete U.onTranslateToWrapperTransitionEnd,R&&U.emit("transitionEnd"))}),U.$wrapperEl[0].addEventListener("transitionend",U.onTranslateToWrapperTransitionEnd),U.$wrapperEl[0].addEventListener("webkitTransitionEnd",U.onTranslateToWrapperTransitionEnd))),!0}let $={getTranslate:getSwiperTranslate,setTranslate:setTranslate,minTranslate:minTranslate,maxTranslate:maxTranslate,translateTo:translateTo};function setTransition(Q,S){let R=this;R.params.cssMode||R.$wrapperEl.transition(Q),R.emit("setTransition",Q,S)}function transitionEmit(Q){let{swiper:S,runCallbacks:R,direction:N,step:M}=Q,{activeIndex:L,previousIndex:U}=S,P=N;if(P||(P=L>U?"next":L<U?"prev":"reset"),S.emit(`transition${M}`),R&&L!==U){if("reset"===P){S.emit(`slideResetTransition${M}`);return}S.emit(`slideChangeTransition${M}`),"next"===P?S.emit(`slideNextTransition${M}`):S.emit(`slidePrevTransition${M}`)}}function transitionStart_transitionStart(Q,S){void 0===Q&&(Q=!0);let R=this,{params:N}=R;N.cssMode||(N.autoHeight&&R.updateAutoHeight(),transitionEmit({swiper:R,runCallbacks:Q,direction:S,step:"Start"}))}function transitionEnd_transitionEnd(Q,S){void 0===Q&&(Q=!0);let R=this,{params:N}=R;R.animating=!1,N.cssMode||(R.setTransition(0),transitionEmit({swiper:R,runCallbacks:Q,direction:S,step:"End"}))}let ee={setTransition:setTransition,transitionStart:transitionStart_transitionStart,transitionEnd:transitionEnd_transitionEnd};function slideTo(Q,S,R,N,M){let L;if(void 0===Q&&(Q=0),void 0===S&&(S=this.params.speed),void 0===R&&(R=!0),"number"!=typeof Q&&"string"!=typeof Q)throw Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof Q}] given.`);if("string"==typeof Q){let S=parseInt(Q,10),R=isFinite(S);if(!R)throw Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${Q}] given.`);Q=S}let U=this,P=Q;P<0&&(P=0);let{params:Y,snapGrid:W,slidesGrid:K,previousIndex:X,activeIndex:Z,rtlTranslate:$,wrapperEl:ee,enabled:et}=U;if(U.animating&&Y.preventInteractionOnTransition||!et&&!N&&!M)return!1;let en=Math.min(U.params.slidesPerGroupSkip,P),ei=en+Math.floor((P-en)/U.params.slidesPerGroup);ei>=W.length&&(ei=W.length-1),(Z||Y.initialSlide||0)===(X||0)&&R&&U.emit("beforeSlideChangeStart");let es=-W[ei];if(U.updateProgress(es),Y.normalizeSlideIndex)for(let Q=0;Q<K.length;Q+=1){let S=-Math.floor(100*es),R=Math.floor(100*K[Q]),N=Math.floor(100*K[Q+1]);void 0!==K[Q+1]?S>=R&&S<N-(N-R)/2?P=Q:S>=R&&S<N&&(P=Q+1):S>=R&&(P=Q)}if(U.initialized&&P!==Z&&(!U.allowSlideNext&&es<U.translate&&es<U.minTranslate()||!U.allowSlidePrev&&es>U.translate&&es>U.maxTranslate()&&(Z||0)!==P))return!1;if(L=P>Z?"next":P<Z?"prev":"reset",$&&-es===U.translate||!$&&es===U.translate)return U.updateActiveIndex(P),Y.autoHeight&&U.updateAutoHeight(),U.updateSlidesClasses(),"slide"!==Y.effect&&U.setTranslate(es),"reset"!==L&&(U.transitionStart(R,L),U.transitionEnd(R,L)),!1;if(Y.cssMode){let Q=U.isHorizontal(),R=$?es:-es;if(0===S){let S=U.virtual&&U.params.virtual.enabled;S&&(U.wrapperEl.style.scrollSnapType="none",U._immediateVirtual=!0),ee[Q?"scrollLeft":"scrollTop"]=R,S&&requestAnimationFrame(()=>{U.wrapperEl.style.scrollSnapType="",U._swiperImmediateVirtual=!1})}else{if(!U.support.smoothScroll)return animateCSSModeScroll({swiper:U,targetPosition:R,side:Q?"left":"top"}),!0;ee.scrollTo({[Q?"left":"top"]:R,behavior:"smooth"})}return!0}return U.setTransition(S),U.setTranslate(es),U.updateActiveIndex(P),U.updateSlidesClasses(),U.emit("beforeTransitionStart",S,N),U.transitionStart(R,L),0===S?U.transitionEnd(R,L):U.animating||(U.animating=!0,U.onSlideToWrapperTransitionEnd||(U.onSlideToWrapperTransitionEnd=function(Q){U&&!U.destroyed&&Q.target===this&&(U.$wrapperEl[0].removeEventListener("transitionend",U.onSlideToWrapperTransitionEnd),U.$wrapperEl[0].removeEventListener("webkitTransitionEnd",U.onSlideToWrapperTransitionEnd),U.onSlideToWrapperTransitionEnd=null,delete U.onSlideToWrapperTransitionEnd,U.transitionEnd(R,L))}),U.$wrapperEl[0].addEventListener("transitionend",U.onSlideToWrapperTransitionEnd),U.$wrapperEl[0].addEventListener("webkitTransitionEnd",U.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(Q,S,R,N){void 0===Q&&(Q=0),void 0===S&&(S=this.params.speed),void 0===R&&(R=!0);let M=this,L=Q;return M.params.loop&&(L+=M.loopedSlides),M.slideTo(L,S,R,N)}function slideNext(Q,S,R){void 0===Q&&(Q=this.params.speed),void 0===S&&(S=!0);let N=this,{animating:M,enabled:L,params:U}=N;if(!L)return N;let P=U.slidesPerGroup;"auto"===U.slidesPerView&&1===U.slidesPerGroup&&U.slidesPerGroupAuto&&(P=Math.max(N.slidesPerViewDynamic("current",!0),1));let Y=N.activeIndex<U.slidesPerGroupSkip?1:P;if(U.loop){if(M&&U.loopPreventsSlide)return!1;N.loopFix(),N._clientLeft=N.$wrapperEl[0].clientLeft}return U.rewind&&N.isEnd?N.slideTo(0,Q,S,R):N.slideTo(N.activeIndex+Y,Q,S,R)}function slidePrev(Q,S,R){void 0===Q&&(Q=this.params.speed),void 0===S&&(S=!0);let N=this,{params:M,animating:L,snapGrid:U,slidesGrid:P,rtlTranslate:Y,enabled:W}=N;if(!W)return N;if(M.loop){if(L&&M.loopPreventsSlide)return!1;N.loopFix(),N._clientLeft=N.$wrapperEl[0].clientLeft}let K=Y?N.translate:-N.translate;function normalize(Q){return Q<0?-Math.floor(Math.abs(Q)):Math.floor(Q)}let X=normalize(K),Z=U.map(Q=>normalize(Q)),$=U[Z.indexOf(X)-1];if(void 0===$&&M.cssMode){let Q;U.forEach((S,R)=>{X>=S&&(Q=R)}),void 0!==Q&&($=U[Q>0?Q-1:Q])}let ee=0;if(void 0!==$&&((ee=P.indexOf($))<0&&(ee=N.activeIndex-1),"auto"===M.slidesPerView&&1===M.slidesPerGroup&&M.slidesPerGroupAuto&&(ee=Math.max(ee=ee-N.slidesPerViewDynamic("previous",!0)+1,0))),M.rewind&&N.isBeginning){let M=N.params.virtual&&N.params.virtual.enabled&&N.virtual?N.virtual.slides.length-1:N.slides.length-1;return N.slideTo(M,Q,S,R)}return N.slideTo(ee,Q,S,R)}function slideReset(Q,S,R){void 0===Q&&(Q=this.params.speed),void 0===S&&(S=!0);let N=this;return N.slideTo(N.activeIndex,Q,S,R)}function slideToClosest(Q,S,R,N){void 0===Q&&(Q=this.params.speed),void 0===S&&(S=!0),void 0===N&&(N=.5);let M=this,L=M.activeIndex,U=Math.min(M.params.slidesPerGroupSkip,L),P=U+Math.floor((L-U)/M.params.slidesPerGroup),Y=M.rtlTranslate?M.translate:-M.translate;if(Y>=M.snapGrid[P]){let Q=M.snapGrid[P],S=M.snapGrid[P+1];Y-Q>(S-Q)*N&&(L+=M.params.slidesPerGroup)}else{let Q=M.snapGrid[P-1],S=M.snapGrid[P];Y-Q<=(S-Q)*N&&(L-=M.params.slidesPerGroup)}return L=Math.min(L=Math.max(L,0),M.slidesGrid.length-1),M.slideTo(L,Q,S,R)}function slideToClickedSlide(){let Q;let S=this,{params:R,$wrapperEl:N}=S,M="auto"===R.slidesPerView?S.slidesPerViewDynamic():R.slidesPerView,L=S.clickedIndex;if(R.loop){if(S.animating)return;Q=parseInt(K(S.clickedSlide).attr("data-swiper-slide-index"),10),R.centeredSlides?L<S.loopedSlides-M/2||L>S.slides.length-S.loopedSlides+M/2?(S.loopFix(),L=N.children(`.${R.slideClass}[data-swiper-slide-index="${Q}"]:not(.${R.slideDuplicateClass})`).eq(0).index(),utils_nextTick(()=>{S.slideTo(L)})):S.slideTo(L):L>S.slides.length-M?(S.loopFix(),L=N.children(`.${R.slideClass}[data-swiper-slide-index="${Q}"]:not(.${R.slideDuplicateClass})`).eq(0).index(),utils_nextTick(()=>{S.slideTo(L)})):S.slideTo(L)}else S.slideTo(L)}let et={slideTo:slideTo,slideToLoop:slideToLoop,slideNext:slideNext,slidePrev:slidePrev,slideReset:slideReset,slideToClosest:slideToClosest,slideToClickedSlide:slideToClickedSlide};function loopCreate(){let Q=this,S=ssr_window_esm_getDocument(),{params:R,$wrapperEl:N}=Q,M=N.children().length>0?K(N.children()[0].parentNode):N;M.children(`.${R.slideClass}.${R.slideDuplicateClass}`).remove();let L=M.children(`.${R.slideClass}`);if(R.loopFillGroupWithBlank){let Q=R.slidesPerGroup-L.length%R.slidesPerGroup;if(Q!==R.slidesPerGroup){for(let N=0;N<Q;N+=1){let Q=K(S.createElement("div")).addClass(`${R.slideClass} ${R.slideBlankClass}`);M.append(Q)}L=M.children(`.${R.slideClass}`)}}"auto"!==R.slidesPerView||R.loopedSlides||(R.loopedSlides=L.length),Q.loopedSlides=Math.ceil(parseFloat(R.loopedSlides||R.slidesPerView,10)),Q.loopedSlides+=R.loopAdditionalSlides,Q.loopedSlides>L.length&&(Q.loopedSlides=L.length);let U=[],P=[];L.each((S,R)=>{let N=K(S);R<Q.loopedSlides&&P.push(S),R<L.length&&R>=L.length-Q.loopedSlides&&U.push(S),N.attr("data-swiper-slide-index",R)});for(let Q=0;Q<P.length;Q+=1)M.append(K(P[Q].cloneNode(!0)).addClass(R.slideDuplicateClass));for(let Q=U.length-1;Q>=0;Q-=1)M.prepend(K(U[Q].cloneNode(!0)).addClass(R.slideDuplicateClass))}function loopFix(){let Q;let S=this;S.emit("beforeLoopFix");let{activeIndex:R,slides:N,loopedSlides:M,allowSlidePrev:L,allowSlideNext:U,snapGrid:P,rtlTranslate:Y}=S;S.allowSlidePrev=!0,S.allowSlideNext=!0;let W=-P[R],K=W-S.getTranslate();if(R<M){Q=N.length-3*M+R+M;let L=S.slideTo(Q,0,!1,!0);L&&0!==K&&S.setTranslate((Y?-S.translate:S.translate)-K)}else if(R>=N.length-M){Q=-N.length+R+M+M;let L=S.slideTo(Q,0,!1,!0);L&&0!==K&&S.setTranslate((Y?-S.translate:S.translate)-K)}S.allowSlidePrev=L,S.allowSlideNext=U,S.emit("loopFix")}function loopDestroy(){let Q=this,{$wrapperEl:S,params:R,slides:N}=Q;S.children(`.${R.slideClass}.${R.slideDuplicateClass},.${R.slideClass}.${R.slideBlankClass}`).remove(),N.removeAttr("data-swiper-slide-index")}let en={loopCreate:loopCreate,loopFix:loopFix,loopDestroy:loopDestroy};function setGrabCursor(Q){let S=this;if(S.support.touch||!S.params.simulateTouch||S.params.watchOverflow&&S.isLocked||S.params.cssMode)return;let R="container"===S.params.touchEventsTarget?S.el:S.wrapperEl;R.style.cursor="move",R.style.cursor=Q?"-webkit-grabbing":"-webkit-grab",R.style.cursor=Q?"-moz-grabbin":"-moz-grab",R.style.cursor=Q?"grabbing":"grab"}function unsetGrabCursor(){let Q=this;Q.support.touch||Q.params.watchOverflow&&Q.isLocked||Q.params.cssMode||(Q["container"===Q.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}let ei={setGrabCursor:setGrabCursor,unsetGrabCursor:unsetGrabCursor};function closestElement(Q,S){function __closestFrom(S){if(!S||S===ssr_window_esm_getDocument()||S===ssr_window_esm_getWindow())return null;S.assignedSlot&&(S=S.assignedSlot);let R=S.closest(Q);return R||__closestFrom(S.getRootNode().host)}return void 0===S&&(S=this),__closestFrom(S)}function onTouchStart(Q){let S=this,R=ssr_window_esm_getDocument(),N=ssr_window_esm_getWindow(),M=S.touchEventsData,{params:L,touches:U,enabled:P}=S;if(!P||S.animating&&L.preventInteractionOnTransition)return;!S.animating&&L.cssMode&&L.loop&&S.loopFix();let Y=Q;Y.originalEvent&&(Y=Y.originalEvent);let W=K(Y.target);if("wrapper"===L.touchEventsTarget&&!W.closest(S.wrapperEl).length||(M.isTouchEvent="touchstart"===Y.type,!M.isTouchEvent&&"which"in Y&&3===Y.which||!M.isTouchEvent&&"button"in Y&&Y.button>0||M.isTouched&&M.isMoved))return;let X=!!L.noSwipingClass&&""!==L.noSwipingClass;X&&Y.target&&Y.target.shadowRoot&&Q.path&&Q.path[0]&&(W=K(Q.path[0]));let Z=L.noSwipingSelector?L.noSwipingSelector:`.${L.noSwipingClass}`,$=!!(Y.target&&Y.target.shadowRoot);if(L.noSwiping&&($?closestElement(Z,Y.target):W.closest(Z)[0])){S.allowClick=!0;return}if(L.swipeHandler&&!W.closest(L.swipeHandler)[0])return;U.currentX="touchstart"===Y.type?Y.targetTouches[0].pageX:Y.pageX,U.currentY="touchstart"===Y.type?Y.targetTouches[0].pageY:Y.pageY;let ee=U.currentX,et=U.currentY,en=L.edgeSwipeDetection||L.iOSEdgeSwipeDetection,ei=L.edgeSwipeThreshold||L.iOSEdgeSwipeThreshold;if(en&&(ee<=ei||ee>=N.innerWidth-ei)){if("prevent"!==en)return;Q.preventDefault()}if(Object.assign(M,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),U.startX=ee,U.startY=et,M.touchStartTime=utils_now(),S.allowClick=!0,S.updateSize(),S.swipeDirection=void 0,L.threshold>0&&(M.allowThresholdMove=!1),"touchstart"!==Y.type){let Q=!0;W.is(M.focusableElements)&&(Q=!1,"SELECT"===W[0].nodeName&&(M.isTouched=!1)),R.activeElement&&K(R.activeElement).is(M.focusableElements)&&R.activeElement!==W[0]&&R.activeElement.blur();let N=Q&&S.allowTouchMove&&L.touchStartPreventDefault;(L.touchStartForcePreventDefault||N)&&!W[0].isContentEditable&&Y.preventDefault()}S.params.freeMode&&S.params.freeMode.enabled&&S.freeMode&&S.animating&&!L.cssMode&&S.freeMode.onTouchStart(),S.emit("touchStart",Y)}function onTouchMove(Q){let S=ssr_window_esm_getDocument(),R=this,N=R.touchEventsData,{params:M,touches:L,rtlTranslate:U,enabled:P}=R;if(!P)return;let Y=Q;if(Y.originalEvent&&(Y=Y.originalEvent),!N.isTouched){N.startMoving&&N.isScrolling&&R.emit("touchMoveOpposite",Y);return}if(N.isTouchEvent&&"touchmove"!==Y.type)return;let W="touchmove"===Y.type&&Y.targetTouches&&(Y.targetTouches[0]||Y.changedTouches[0]),X="touchmove"===Y.type?W.pageX:Y.pageX,Z="touchmove"===Y.type?W.pageY:Y.pageY;if(Y.preventedByNestedSwiper){L.startX=X,L.startY=Z;return}if(!R.allowTouchMove){K(Y.target).is(N.focusableElements)||(R.allowClick=!1),N.isTouched&&(Object.assign(L,{startX:X,startY:Z,currentX:X,currentY:Z}),N.touchStartTime=utils_now());return}if(N.isTouchEvent&&M.touchReleaseOnEdges&&!M.loop){if(R.isVertical()){if(Z<L.startY&&R.translate<=R.maxTranslate()||Z>L.startY&&R.translate>=R.minTranslate()){N.isTouched=!1,N.isMoved=!1;return}}else if(X<L.startX&&R.translate<=R.maxTranslate()||X>L.startX&&R.translate>=R.minTranslate())return}if(N.isTouchEvent&&S.activeElement&&Y.target===S.activeElement&&K(Y.target).is(N.focusableElements)){N.isMoved=!0,R.allowClick=!1;return}if(N.allowTouchCallbacks&&R.emit("touchMove",Y),Y.targetTouches&&Y.targetTouches.length>1)return;L.currentX=X,L.currentY=Z;let $=L.currentX-L.startX,ee=L.currentY-L.startY;if(R.params.threshold&&Math.sqrt($**2+ee**2)<R.params.threshold)return;if(void 0===N.isScrolling){let Q;R.isHorizontal()&&L.currentY===L.startY||R.isVertical()&&L.currentX===L.startX?N.isScrolling=!1:$*$+ee*ee>=25&&(Q=180*Math.atan2(Math.abs(ee),Math.abs($))/Math.PI,N.isScrolling=R.isHorizontal()?Q>M.touchAngle:90-Q>M.touchAngle)}if(N.isScrolling&&R.emit("touchMoveOpposite",Y),void 0===N.startMoving&&(L.currentX!==L.startX||L.currentY!==L.startY)&&(N.startMoving=!0),N.isScrolling){N.isTouched=!1;return}if(!N.startMoving)return;R.allowClick=!1,!M.cssMode&&Y.cancelable&&Y.preventDefault(),M.touchMoveStopPropagation&&!M.nested&&Y.stopPropagation(),N.isMoved||(M.loop&&!M.cssMode&&R.loopFix(),N.startTranslate=R.getTranslate(),R.setTransition(0),R.animating&&R.$wrapperEl.trigger("webkitTransitionEnd transitionend"),N.allowMomentumBounce=!1,M.grabCursor&&(!0===R.allowSlideNext||!0===R.allowSlidePrev)&&R.setGrabCursor(!0),R.emit("sliderFirstMove",Y)),R.emit("sliderMove",Y),N.isMoved=!0;let et=R.isHorizontal()?$:ee;L.diff=et,et*=M.touchRatio,U&&(et=-et),R.swipeDirection=et>0?"prev":"next",N.currentTranslate=et+N.startTranslate;let en=!0,ei=M.resistanceRatio;if(M.touchReleaseOnEdges&&(ei=0),et>0&&N.currentTranslate>R.minTranslate()?(en=!1,M.resistance&&(N.currentTranslate=R.minTranslate()-1+(-R.minTranslate()+N.startTranslate+et)**ei)):et<0&&N.currentTranslate<R.maxTranslate()&&(en=!1,M.resistance&&(N.currentTranslate=R.maxTranslate()+1-(R.maxTranslate()-N.startTranslate-et)**ei)),en&&(Y.preventedByNestedSwiper=!0),!R.allowSlideNext&&"next"===R.swipeDirection&&N.currentTranslate<N.startTranslate&&(N.currentTranslate=N.startTranslate),!R.allowSlidePrev&&"prev"===R.swipeDirection&&N.currentTranslate>N.startTranslate&&(N.currentTranslate=N.startTranslate),R.allowSlidePrev||R.allowSlideNext||(N.currentTranslate=N.startTranslate),M.threshold>0){if(Math.abs(et)>M.threshold||N.allowThresholdMove){if(!N.allowThresholdMove){N.allowThresholdMove=!0,L.startX=L.currentX,L.startY=L.currentY,N.currentTranslate=N.startTranslate,L.diff=R.isHorizontal()?L.currentX-L.startX:L.currentY-L.startY;return}}else{N.currentTranslate=N.startTranslate;return}}M.followFinger&&!M.cssMode&&((M.freeMode&&M.freeMode.enabled&&R.freeMode||M.watchSlidesProgress)&&(R.updateActiveIndex(),R.updateSlidesClasses()),R.params.freeMode&&M.freeMode.enabled&&R.freeMode&&R.freeMode.onTouchMove(),R.updateProgress(N.currentTranslate),R.setTranslate(N.currentTranslate))}function onTouchEnd(Q){let S;let R=this,N=R.touchEventsData,{params:M,touches:L,rtlTranslate:U,slidesGrid:P,enabled:Y}=R;if(!Y)return;let W=Q;if(W.originalEvent&&(W=W.originalEvent),N.allowTouchCallbacks&&R.emit("touchEnd",W),N.allowTouchCallbacks=!1,!N.isTouched){N.isMoved&&M.grabCursor&&R.setGrabCursor(!1),N.isMoved=!1,N.startMoving=!1;return}M.grabCursor&&N.isMoved&&N.isTouched&&(!0===R.allowSlideNext||!0===R.allowSlidePrev)&&R.setGrabCursor(!1);let K=utils_now(),X=K-N.touchStartTime;if(R.allowClick){let Q=W.path||W.composedPath&&W.composedPath();R.updateClickedSlide(Q&&Q[0]||W.target),R.emit("tap click",W),X<300&&K-N.lastClickTime<300&&R.emit("doubleTap doubleClick",W)}if(N.lastClickTime=utils_now(),utils_nextTick(()=>{R.destroyed||(R.allowClick=!0)}),!N.isTouched||!N.isMoved||!R.swipeDirection||0===L.diff||N.currentTranslate===N.startTranslate){N.isTouched=!1,N.isMoved=!1,N.startMoving=!1;return}if(N.isTouched=!1,N.isMoved=!1,N.startMoving=!1,S=M.followFinger?U?R.translate:-R.translate:-N.currentTranslate,M.cssMode)return;if(R.params.freeMode&&M.freeMode.enabled){R.freeMode.onTouchEnd({currentPos:S});return}let Z=0,$=R.slidesSizesGrid[0];for(let Q=0;Q<P.length;Q+=Q<M.slidesPerGroupSkip?1:M.slidesPerGroup){let R=Q<M.slidesPerGroupSkip-1?1:M.slidesPerGroup;void 0!==P[Q+R]?S>=P[Q]&&S<P[Q+R]&&(Z=Q,$=P[Q+R]-P[Q]):S>=P[Q]&&(Z=Q,$=P[P.length-1]-P[P.length-2])}let ee=(S-P[Z])/$,et=Z<M.slidesPerGroupSkip-1?1:M.slidesPerGroup;if(X>M.longSwipesMs){if(!M.longSwipes){R.slideTo(R.activeIndex);return}"next"===R.swipeDirection&&(ee>=M.longSwipesRatio?R.slideTo(Z+et):R.slideTo(Z)),"prev"===R.swipeDirection&&(ee>1-M.longSwipesRatio?R.slideTo(Z+et):R.slideTo(Z))}else{if(!M.shortSwipes){R.slideTo(R.activeIndex);return}let Q=R.navigation&&(W.target===R.navigation.nextEl||W.target===R.navigation.prevEl);Q?W.target===R.navigation.nextEl?R.slideTo(Z+et):R.slideTo(Z):("next"===R.swipeDirection&&R.slideTo(Z+et),"prev"===R.swipeDirection&&R.slideTo(Z))}}function onResize(){let Q=this,{params:S,el:R}=Q;if(R&&0===R.offsetWidth)return;S.breakpoints&&Q.setBreakpoint();let{allowSlideNext:N,allowSlidePrev:M,snapGrid:L}=Q;Q.allowSlideNext=!0,Q.allowSlidePrev=!0,Q.updateSize(),Q.updateSlides(),Q.updateSlidesClasses(),("auto"===S.slidesPerView||S.slidesPerView>1)&&Q.isEnd&&!Q.isBeginning&&!Q.params.centeredSlides?Q.slideTo(Q.slides.length-1,0,!1,!0):Q.slideTo(Q.activeIndex,0,!1,!0),Q.autoplay&&Q.autoplay.running&&Q.autoplay.paused&&Q.autoplay.run(),Q.allowSlidePrev=M,Q.allowSlideNext=N,Q.params.watchOverflow&&L!==Q.snapGrid&&Q.checkOverflow()}function onClick(Q){let S=this;S.enabled&&!S.allowClick&&(S.params.preventClicks&&Q.preventDefault(),S.params.preventClicksPropagation&&S.animating&&(Q.stopPropagation(),Q.stopImmediatePropagation()))}function onScroll(){let Q;let S=this,{wrapperEl:R,rtlTranslate:N,enabled:M}=S;if(!M)return;S.previousTranslate=S.translate,S.isHorizontal()?S.translate=-R.scrollLeft:S.translate=-R.scrollTop,-0===S.translate&&(S.translate=0),S.updateActiveIndex(),S.updateSlidesClasses();let L=S.maxTranslate()-S.minTranslate();(Q=0===L?0:(S.translate-S.minTranslate())/L)!==S.progress&&S.updateProgress(N?-S.translate:S.translate),S.emit("setTranslate",S.translate,!1)}let es=!1;function dummyEventListener(){}let events=(Q,S)=>{let R=ssr_window_esm_getDocument(),{params:N,touchEvents:M,el:L,wrapperEl:U,device:P,support:Y}=Q,W=!!N.nested,K="on"===S?"addEventListener":"removeEventListener",X=S;if(Y.touch){let S="touchstart"===M.start&&!!Y.passiveListener&&!!N.passiveListeners&&{passive:!0,capture:!1};L[K](M.start,Q.onTouchStart,S),L[K](M.move,Q.onTouchMove,Y.passiveListener?{passive:!1,capture:W}:W),L[K](M.end,Q.onTouchEnd,S),M.cancel&&L[K](M.cancel,Q.onTouchEnd,S)}else L[K](M.start,Q.onTouchStart,!1),R[K](M.move,Q.onTouchMove,W),R[K](M.end,Q.onTouchEnd,!1);(N.preventClicks||N.preventClicksPropagation)&&L[K]("click",Q.onClick,!0),N.cssMode&&U[K]("scroll",Q.onScroll),N.updateOnWindowResize?Q[X](P.ios||P.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):Q[X]("observerUpdate",onResize,!0)};function attachEvents(){let Q=this,S=ssr_window_esm_getDocument(),{params:R,support:N}=Q;Q.onTouchStart=onTouchStart.bind(Q),Q.onTouchMove=onTouchMove.bind(Q),Q.onTouchEnd=onTouchEnd.bind(Q),R.cssMode&&(Q.onScroll=onScroll.bind(Q)),Q.onClick=onClick.bind(Q),N.touch&&!es&&(S.addEventListener("touchstart",dummyEventListener),es=!0),events(Q,"on")}function detachEvents(){let Q=this;events(Q,"off")}let eo={attachEvents,detachEvents},isGridEnabled=(Q,S)=>Q.grid&&S.grid&&S.grid.rows>1;function setBreakpoint(){let Q=this,{activeIndex:S,initialized:R,loopedSlides:N=0,params:M,$el:L}=Q,U=M.breakpoints;if(!U||U&&0===Object.keys(U).length)return;let P=Q.getBreakpoint(U,Q.params.breakpointsBase,Q.el);if(!P||Q.currentBreakpoint===P)return;let Y=P in U?U[P]:void 0,W=Y||Q.originalParams,K=isGridEnabled(Q,M),X=isGridEnabled(Q,W),Z=M.enabled;K&&!X?(L.removeClass(`${M.containerModifierClass}grid ${M.containerModifierClass}grid-column`),Q.emitContainerClasses()):!K&&X&&(L.addClass(`${M.containerModifierClass}grid`),(W.grid.fill&&"column"===W.grid.fill||!W.grid.fill&&"column"===M.grid.fill)&&L.addClass(`${M.containerModifierClass}grid-column`),Q.emitContainerClasses());let $=W.direction&&W.direction!==M.direction,ee=M.loop&&(W.slidesPerView!==M.slidesPerView||$);$&&R&&Q.changeDirection(),utils_extend(Q.params,W);let et=Q.params.enabled;Object.assign(Q,{allowTouchMove:Q.params.allowTouchMove,allowSlideNext:Q.params.allowSlideNext,allowSlidePrev:Q.params.allowSlidePrev}),Z&&!et?Q.disable():!Z&&et&&Q.enable(),Q.currentBreakpoint=P,Q.emit("_beforeBreakpoint",W),ee&&R&&(Q.loopDestroy(),Q.loopCreate(),Q.updateSlides(),Q.slideTo(S-N+Q.loopedSlides,0,!1)),Q.emit("breakpoint",W)}function getBreakpoint(Q,S,R){if(void 0===S&&(S="window"),!Q||"container"===S&&!R)return;let N=!1,M=ssr_window_esm_getWindow(),L="window"===S?M.innerHeight:R.clientHeight,U=Object.keys(Q).map(Q=>{if("string"==typeof Q&&0===Q.indexOf("@")){let S=parseFloat(Q.substr(1)),R=L*S;return{value:R,point:Q}}return{value:Q,point:Q}});U.sort((Q,S)=>parseInt(Q.value,10)-parseInt(S.value,10));for(let Q=0;Q<U.length;Q+=1){let{point:L,value:P}=U[Q];"window"===S?M.matchMedia(`(min-width: ${P}px)`).matches&&(N=L):P<=R.clientWidth&&(N=L)}return N||"max"}let ea={setBreakpoint:setBreakpoint,getBreakpoint:getBreakpoint};function prepareClasses(Q,S){let R=[];return Q.forEach(Q=>{"object"==typeof Q?Object.keys(Q).forEach(N=>{Q[N]&&R.push(S+N)}):"string"==typeof Q&&R.push(S+Q)}),R}function addClasses(){let Q=this,{classNames:S,params:R,rtl:N,$el:M,device:L,support:U}=Q,P=prepareClasses(["initialized",R.direction,{"pointer-events":!U.touch},{"free-mode":Q.params.freeMode&&R.freeMode.enabled},{autoheight:R.autoHeight},{rtl:N},{grid:R.grid&&R.grid.rows>1},{"grid-column":R.grid&&R.grid.rows>1&&"column"===R.grid.fill},{android:L.android},{ios:L.ios},{"css-mode":R.cssMode},{centered:R.cssMode&&R.centeredSlides}],R.containerModifierClass);S.push(...P),M.addClass([...S].join(" ")),Q.emitContainerClasses()}function removeClasses(){let Q=this,{$el:S,classNames:R}=Q;S.removeClass(R.join(" ")),Q.emitContainerClasses()}let eA={addClasses:addClasses,removeClasses:removeClasses};function loadImage(Q,S,R,N,M,L){let U;let P=ssr_window_esm_getWindow();function onReady(){L&&L()}let Y=K(Q).parent("picture")[0];Y||Q.complete&&M?onReady():S?((U=new P.Image).onload=onReady,U.onerror=onReady,N&&(U.sizes=N),R&&(U.srcset=R),S&&(U.src=S)):onReady()}function preloadImages(){let Q=this;function onReady(){null!=Q&&Q&&!Q.destroyed&&(void 0!==Q.imagesLoaded&&(Q.imagesLoaded+=1),Q.imagesLoaded===Q.imagesToLoad.length&&(Q.params.updateOnImagesReady&&Q.update(),Q.emit("imagesReady")))}Q.imagesToLoad=Q.$el.find("img");for(let S=0;S<Q.imagesToLoad.length;S+=1){let R=Q.imagesToLoad[S];Q.loadImage(R,R.currentSrc||R.getAttribute("src"),R.srcset||R.getAttribute("srcset"),R.sizes||R.getAttribute("sizes"),!0,onReady)}}let ec={loadImage:loadImage,preloadImages:preloadImages};function checkOverflow(){let Q=this,{isLocked:S,params:R}=Q,{slidesOffsetBefore:N}=R;if(N){let S=Q.slides.length-1,R=Q.slidesGrid[S]+Q.slidesSizesGrid[S]+2*N;Q.isLocked=Q.size>R}else Q.isLocked=1===Q.snapGrid.length;!0===R.allowSlideNext&&(Q.allowSlideNext=!Q.isLocked),!0===R.allowSlidePrev&&(Q.allowSlidePrev=!Q.isLocked),S&&S!==Q.isLocked&&(Q.isEnd=!1),S!==Q.isLocked&&Q.emit(Q.isLocked?"lock":"unlock")}let eu={checkOverflow},eh={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(Q,S){return function(R){void 0===R&&(R={});let N=Object.keys(R)[0],M=R[N];if("object"!=typeof M||null===M||(["navigation","pagination","scrollbar"].indexOf(N)>=0&&!0===Q[N]&&(Q[N]={auto:!0}),!(N in Q&&"enabled"in M))){utils_extend(S,R);return}!0===Q[N]&&(Q[N]={enabled:!0}),"object"!=typeof Q[N]||"enabled"in Q[N]||(Q[N].enabled=!0),Q[N]||(Q[N]={enabled:!1}),utils_extend(S,R)}}let ed={eventsEmitter:X,update:Z,translate:$,transition:ee,slide:et,loop:en,grabCursor:ei,events:eo,breakpoints:ea,checkOverflow:eu,classes:eA,images:ec},eg={};let Swiper=class Swiper{constructor(){let Q,S;for(var R=arguments.length,N=Array(R),M=0;M<R;M++)N[M]=arguments[M];if(1===N.length&&N[0].constructor&&"Object"===Object.prototype.toString.call(N[0]).slice(8,-1)?S=N[0]:[Q,S]=N,S||(S={}),S=utils_extend({},S),Q&&!S.el&&(S.el=Q),S.el&&K(S.el).length>1){let Q=[];return K(S.el).each(R=>{let N=utils_extend({},S,{el:R});Q.push(new Swiper(N))}),Q}let L=this;L.__swiper__=!0,L.support=getSupport(),L.device=getDevice({userAgent:S.userAgent}),L.browser=getBrowser(),L.eventsListeners={},L.eventsAnyListeners=[],L.modules=[...L.__modules__],S.modules&&Array.isArray(S.modules)&&L.modules.push(...S.modules);let U={};L.modules.forEach(Q=>{Q({swiper:L,extendParams:moduleExtendParams(S,U),on:L.on.bind(L),once:L.once.bind(L),off:L.off.bind(L),emit:L.emit.bind(L)})});let P=utils_extend({},eh,U);return L.params=utils_extend({},P,eg,S),L.originalParams=utils_extend({},L.params),L.passedParams=utils_extend({},S),L.params&&L.params.on&&Object.keys(L.params.on).forEach(Q=>{L.on(Q,L.params.on[Q])}),L.params&&L.params.onAny&&L.onAny(L.params.onAny),L.$=K,Object.assign(L,{enabled:L.params.enabled,el:Q,classNames:[],slides:K(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===L.params.direction,isVertical:()=>"vertical"===L.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:L.params.allowSlideNext,allowSlidePrev:L.params.allowSlidePrev,touchEvents:function(){let Q=["touchstart","touchmove","touchend","touchcancel"],S=["pointerdown","pointermove","pointerup"];return L.touchEventsTouch={start:Q[0],move:Q[1],end:Q[2],cancel:Q[3]},L.touchEventsDesktop={start:S[0],move:S[1],end:S[2]},L.support.touch||!L.params.simulateTouch?L.touchEventsTouch:L.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:L.params.focusableElements,lastClickTime:utils_now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:L.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),L.emit("_swiper"),L.params.init&&L.init(),L}enable(){let Q=this;Q.enabled||(Q.enabled=!0,Q.params.grabCursor&&Q.setGrabCursor(),Q.emit("enable"))}disable(){let Q=this;Q.enabled&&(Q.enabled=!1,Q.params.grabCursor&&Q.unsetGrabCursor(),Q.emit("disable"))}setProgress(Q,S){let R=this;Q=Math.min(Math.max(Q,0),1);let N=R.minTranslate(),M=R.maxTranslate(),L=(M-N)*Q+N;R.translateTo(L,void 0===S?0:S),R.updateActiveIndex(),R.updateSlidesClasses()}emitContainerClasses(){let Q=this;if(!Q.params._emitClasses||!Q.el)return;let S=Q.el.className.split(" ").filter(S=>0===S.indexOf("swiper")||0===S.indexOf(Q.params.containerModifierClass));Q.emit("_containerClasses",S.join(" "))}getSlideClasses(Q){let S=this;return Q.className.split(" ").filter(Q=>0===Q.indexOf("swiper-slide")||0===Q.indexOf(S.params.slideClass)).join(" ")}emitSlidesClasses(){let Q=this;if(!Q.params._emitClasses||!Q.el)return;let S=[];Q.slides.each(R=>{let N=Q.getSlideClasses(R);S.push({slideEl:R,classNames:N}),Q.emit("_slideClass",R,N)}),Q.emit("_slideClasses",S)}slidesPerViewDynamic(Q,S){void 0===Q&&(Q="current"),void 0===S&&(S=!1);let R=this,{params:N,slides:M,slidesGrid:L,slidesSizesGrid:U,size:P,activeIndex:Y}=R,W=1;if(N.centeredSlides){let Q,S=M[Y].swiperSlideSize;for(let R=Y+1;R<M.length;R+=1)M[R]&&!Q&&(S+=M[R].swiperSlideSize,W+=1,S>P&&(Q=!0));for(let R=Y-1;R>=0;R-=1)M[R]&&!Q&&(S+=M[R].swiperSlideSize,W+=1,S>P&&(Q=!0))}else if("current"===Q)for(let Q=Y+1;Q<M.length;Q+=1){let R=S?L[Q]+U[Q]-L[Y]<P:L[Q]-L[Y]<P;R&&(W+=1)}else for(let Q=Y-1;Q>=0;Q-=1){let S=L[Y]-L[Q]<P;S&&(W+=1)}return W}update(){let Q;let S=this;if(!S||S.destroyed)return;let{snapGrid:R,params:N}=S;function setTranslate(){let Q=S.rtlTranslate?-1*S.translate:S.translate,R=Math.min(Math.max(Q,S.maxTranslate()),S.minTranslate());S.setTranslate(R),S.updateActiveIndex(),S.updateSlidesClasses()}N.breakpoints&&S.setBreakpoint(),S.updateSize(),S.updateSlides(),S.updateProgress(),S.updateSlidesClasses(),S.params.freeMode&&S.params.freeMode.enabled?(setTranslate(),S.params.autoHeight&&S.updateAutoHeight()):(Q=("auto"===S.params.slidesPerView||S.params.slidesPerView>1)&&S.isEnd&&!S.params.centeredSlides?S.slideTo(S.slides.length-1,0,!1,!0):S.slideTo(S.activeIndex,0,!1,!0))||setTranslate(),N.watchOverflow&&R!==S.snapGrid&&S.checkOverflow(),S.emit("update")}changeDirection(Q,S){void 0===S&&(S=!0);let R=this,N=R.params.direction;return Q||(Q="horizontal"===N?"vertical":"horizontal"),Q===N||"horizontal"!==Q&&"vertical"!==Q||(R.$el.removeClass(`${R.params.containerModifierClass}${N}`).addClass(`${R.params.containerModifierClass}${Q}`),R.emitContainerClasses(),R.params.direction=Q,R.slides.each(S=>{"vertical"===Q?S.style.width="":S.style.height=""}),R.emit("changeDirection"),S&&R.update()),R}mount(Q){let S=this;if(S.mounted)return!0;let R=K(Q||S.params.el);if(!(Q=R[0]))return!1;Q.swiper=S;let getWrapperSelector=()=>`.${(S.params.wrapperClass||"").trim().split(" ").join(".")}`,getWrapper=()=>{if(Q&&Q.shadowRoot&&Q.shadowRoot.querySelector){let S=K(Q.shadowRoot.querySelector(getWrapperSelector()));return S.children=Q=>R.children(Q),S}return R.children(getWrapperSelector())},N=getWrapper();if(0===N.length&&S.params.createElements){let Q=ssr_window_esm_getDocument(),M=Q.createElement("div");N=K(M),M.className=S.params.wrapperClass,R.append(M),R.children(`.${S.params.slideClass}`).each(Q=>{N.append(Q)})}return Object.assign(S,{$el:R,el:Q,$wrapperEl:N,wrapperEl:N[0],mounted:!0,rtl:"rtl"===Q.dir.toLowerCase()||"rtl"===R.css("direction"),rtlTranslate:"horizontal"===S.params.direction&&("rtl"===Q.dir.toLowerCase()||"rtl"===R.css("direction")),wrongRTL:"-webkit-box"===N.css("display")}),!0}init(Q){let S=this;if(S.initialized)return S;let R=S.mount(Q);return!1===R||(S.emit("beforeInit"),S.params.breakpoints&&S.setBreakpoint(),S.addClasses(),S.params.loop&&S.loopCreate(),S.updateSize(),S.updateSlides(),S.params.watchOverflow&&S.checkOverflow(),S.params.grabCursor&&S.enabled&&S.setGrabCursor(),S.params.preloadImages&&S.preloadImages(),S.params.loop?S.slideTo(S.params.initialSlide+S.loopedSlides,0,S.params.runCallbacksOnInit,!1,!0):S.slideTo(S.params.initialSlide,0,S.params.runCallbacksOnInit,!1,!0),S.attachEvents(),S.initialized=!0,S.emit("init"),S.emit("afterInit")),S}destroy(Q,S){void 0===Q&&(Q=!0),void 0===S&&(S=!0);let R=this,{params:N,$el:M,$wrapperEl:L,slides:U}=R;return void 0===R.params||R.destroyed||(R.emit("beforeDestroy"),R.initialized=!1,R.detachEvents(),N.loop&&R.loopDestroy(),S&&(R.removeClasses(),M.removeAttr("style"),L.removeAttr("style"),U&&U.length&&U.removeClass([N.slideVisibleClass,N.slideActiveClass,N.slideNextClass,N.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),R.emit("destroy"),Object.keys(R.eventsListeners).forEach(Q=>{R.off(Q)}),!1!==Q&&(R.$el[0].swiper=null,deleteProps(R)),R.destroyed=!0),null}static extendDefaults(Q){utils_extend(eg,Q)}static get extendedDefaults(){return eg}static get defaults(){return eh}static installModule(Q){Swiper.prototype.__modules__||(Swiper.prototype.__modules__=[]);let S=Swiper.prototype.__modules__;"function"==typeof Q&&0>S.indexOf(Q)&&S.push(Q)}static use(Q){return Array.isArray(Q)?Q.forEach(Q=>Swiper.installModule(Q)):Swiper.installModule(Q),Swiper}};Object.keys(ed).forEach(Q=>{Object.keys(ed[Q]).forEach(S=>{Swiper.prototype[S]=ed[Q][S]})}),Swiper.use([Resize,Observer]);let ep=Swiper;function create_element_if_not_defined_createElementIfNotDefined(Q,S,R,N){let M=ssr_window_esm_getDocument();return Q.params.createElements&&Object.keys(N).forEach(L=>{if(!R[L]&&!0===R.auto){let U=Q.$el.children(`.${N[L]}`)[0];U||((U=M.createElement("div")).className=N[L],Q.$el.append(U)),R[L]=U,S[L]=U}}),R}function Navigation(Q){let{swiper:S,extendParams:R,on:N,emit:M}=Q;function getEl(Q){let R;return Q&&(R=K(Q),S.params.uniqueNavElements&&"string"==typeof Q&&R.length>1&&1===S.$el.find(Q).length&&(R=S.$el.find(Q))),R}function toggleEl(Q,R){let N=S.params.navigation;Q&&Q.length>0&&(Q[R?"addClass":"removeClass"](N.disabledClass),Q[0]&&"BUTTON"===Q[0].tagName&&(Q[0].disabled=R),S.params.watchOverflow&&S.enabled&&Q[S.isLocked?"addClass":"removeClass"](N.lockClass))}function update(){if(S.params.loop)return;let{$nextEl:Q,$prevEl:R}=S.navigation;toggleEl(R,S.isBeginning&&!S.params.rewind),toggleEl(Q,S.isEnd&&!S.params.rewind)}function onPrevClick(Q){Q.preventDefault(),(!S.isBeginning||S.params.loop||S.params.rewind)&&S.slidePrev()}function onNextClick(Q){Q.preventDefault(),(!S.isEnd||S.params.loop||S.params.rewind)&&S.slideNext()}function init(){let Q=S.params.navigation;if(S.params.navigation=create_element_if_not_defined_createElementIfNotDefined(S,S.originalParams.navigation,S.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(Q.nextEl||Q.prevEl))return;let R=getEl(Q.nextEl),N=getEl(Q.prevEl);R&&R.length>0&&R.on("click",onNextClick),N&&N.length>0&&N.on("click",onPrevClick),Object.assign(S.navigation,{$nextEl:R,nextEl:R&&R[0],$prevEl:N,prevEl:N&&N[0]}),!S.enabled&&(R&&R.addClass(Q.lockClass),N&&N.addClass(Q.lockClass))}function destroy(){let{$nextEl:Q,$prevEl:R}=S.navigation;Q&&Q.length&&(Q.off("click",onNextClick),Q.removeClass(S.params.navigation.disabledClass)),R&&R.length&&(R.off("click",onPrevClick),R.removeClass(S.params.navigation.disabledClass))}R({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),S.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},N("init",()=>{init(),update()}),N("toEdge fromEdge lock unlock",()=>{update()}),N("destroy",()=>{destroy()}),N("enable disable",()=>{let{$nextEl:Q,$prevEl:R}=S.navigation;Q&&Q[S.enabled?"removeClass":"addClass"](S.params.navigation.lockClass),R&&R[S.enabled?"removeClass":"addClass"](S.params.navigation.lockClass)}),N("click",(Q,R)=>{let{$nextEl:N,$prevEl:L}=S.navigation,U=R.target;if(S.params.navigation.hideOnClick&&!K(U).is(L)&&!K(U).is(N)){let Q;if(S.pagination&&S.params.pagination&&S.params.pagination.clickable&&(S.pagination.el===U||S.pagination.el.contains(U)))return;N?Q=N.hasClass(S.params.navigation.hiddenClass):L&&(Q=L.hasClass(S.params.navigation.hiddenClass)),!0===Q?M("navigationShow"):M("navigationHide"),N&&N.toggleClass(S.params.navigation.hiddenClass),L&&L.toggleClass(S.params.navigation.hiddenClass)}}),Object.assign(S.navigation,{update,init,destroy})}},81513:Q=>{"use strict";Q.exports={i8:"1.9.14"}},56541:Q=>{"use strict";Q.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},89987:Q=>{"use strict";Q.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},57674:Q=>{"use strict";Q.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},73795:Q=>{"use strict";Q.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')}};